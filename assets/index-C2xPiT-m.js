var a0=Object.defineProperty;var l0=(n,r,o)=>r in n?a0(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o;var Ve=(n,r,o)=>l0(n,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=o(s);fetch(s.href,c)}})();function Ou(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xs={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function s0(){if(ip)return de;ip=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function k(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,L={};function V(C,I,oe){this.props=C,this.context=I,this.refs=L,this.updater=oe||R}V.prototype.isReactComponent={},V.prototype.setState=function(C,I){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,I,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=V.prototype;function T(C,I,oe){this.props=C,this.context=I,this.refs=L,this.updater=oe||R}var A=T.prototype=new O;A.constructor=T,b(A,V.prototype),A.isPureReactComponent=!0;var z=Array.isArray,G=Object.prototype.hasOwnProperty,Z={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function ye(C,I,oe){var ae,fe={},ce=null,ge=null;if(I!=null)for(ae in I.ref!==void 0&&(ge=I.ref),I.key!==void 0&&(ce=""+I.key),I)G.call(I,ae)&&!B.hasOwnProperty(ae)&&(fe[ae]=I[ae]);var pe=arguments.length-2;if(pe===1)fe.children=oe;else if(1<pe){for(var he=Array(pe),He=0;He<pe;He++)he[He]=arguments[He+2];fe.children=he}if(C&&C.defaultProps)for(ae in pe=C.defaultProps,pe)fe[ae]===void 0&&(fe[ae]=pe[ae]);return{$$typeof:n,type:C,key:ce,ref:ge,props:fe,_owner:Z.current}}function we(C,I){return{$$typeof:n,type:C.type,key:I,ref:C.ref,props:C.props,_owner:C._owner}}function $e(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function xt(C){var I={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(oe){return I[oe]})}var yt=/\/+/g;function tt(C,I){return typeof C=="object"&&C!==null&&C.key!=null?xt(""+C.key):I.toString(36)}function dt(C,I,oe,ae,fe){var ce=typeof C;(ce==="undefined"||ce==="boolean")&&(C=null);var ge=!1;if(C===null)ge=!0;else switch(ce){case"string":case"number":ge=!0;break;case"object":switch(C.$$typeof){case n:case r:ge=!0}}if(ge)return ge=C,fe=fe(ge),C=ae===""?"."+tt(ge,0):ae,z(fe)?(oe="",C!=null&&(oe=C.replace(yt,"$&/")+"/"),dt(fe,I,oe,"",function(He){return He})):fe!=null&&($e(fe)&&(fe=we(fe,oe+(!fe.key||ge&&ge.key===fe.key?"":(""+fe.key).replace(yt,"$&/")+"/")+C)),I.push(fe)),1;if(ge=0,ae=ae===""?".":ae+":",z(C))for(var pe=0;pe<C.length;pe++){ce=C[pe];var he=ae+tt(ce,pe);ge+=dt(ce,I,oe,he,fe)}else if(he=k(C),typeof he=="function")for(C=he.call(C),pe=0;!(ce=C.next()).done;)ce=ce.value,he=ae+tt(ce,pe++),ge+=dt(ce,I,oe,he,fe);else if(ce==="object")throw I=String(C),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ge}function Et(C,I,oe){if(C==null)return C;var ae=[],fe=0;return dt(C,ae,"","",function(ce){return I.call(oe,ce,fe++)}),ae}function Ye(C){if(C._status===-1){var I=C._result;I=I(),I.then(function(oe){(C._status===0||C._status===-1)&&(C._status=1,C._result=oe)},function(oe){(C._status===0||C._status===-1)&&(C._status=2,C._result=oe)}),C._status===-1&&(C._status=0,C._result=I)}if(C._status===1)return C._result.default;throw C._result}var ke={current:null},U={transition:null},J={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:U,ReactCurrentOwner:Z};function K(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Et,forEach:function(C,I,oe){Et(C,function(){I.apply(this,arguments)},oe)},count:function(C){var I=0;return Et(C,function(){I++}),I},toArray:function(C){return Et(C,function(I){return I})||[]},only:function(C){if(!$e(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},de.Component=V,de.Fragment=o,de.Profiler=s,de.PureComponent=T,de.StrictMode=a,de.Suspense=v,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,de.act=K,de.cloneElement=function(C,I,oe){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ae=b({},C.props),fe=C.key,ce=C.ref,ge=C._owner;if(I!=null){if(I.ref!==void 0&&(ce=I.ref,ge=Z.current),I.key!==void 0&&(fe=""+I.key),C.type&&C.type.defaultProps)var pe=C.type.defaultProps;for(he in I)G.call(I,he)&&!B.hasOwnProperty(he)&&(ae[he]=I[he]===void 0&&pe!==void 0?pe[he]:I[he])}var he=arguments.length-2;if(he===1)ae.children=oe;else if(1<he){pe=Array(he);for(var He=0;He<he;He++)pe[He]=arguments[He+2];ae.children=pe}return{$$typeof:n,type:C.type,key:fe,ref:ce,props:ae,_owner:ge}},de.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},de.createElement=ye,de.createFactory=function(C){var I=ye.bind(null,C);return I.type=C,I},de.createRef=function(){return{current:null}},de.forwardRef=function(C){return{$$typeof:p,render:C}},de.isValidElement=$e,de.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:Ye}},de.memo=function(C,I){return{$$typeof:g,type:C,compare:I===void 0?null:I}},de.startTransition=function(C){var I=U.transition;U.transition={};try{C()}finally{U.transition=I}},de.unstable_act=K,de.useCallback=function(C,I){return ke.current.useCallback(C,I)},de.useContext=function(C){return ke.current.useContext(C)},de.useDebugValue=function(){},de.useDeferredValue=function(C){return ke.current.useDeferredValue(C)},de.useEffect=function(C,I){return ke.current.useEffect(C,I)},de.useId=function(){return ke.current.useId()},de.useImperativeHandle=function(C,I,oe){return ke.current.useImperativeHandle(C,I,oe)},de.useInsertionEffect=function(C,I){return ke.current.useInsertionEffect(C,I)},de.useLayoutEffect=function(C,I){return ke.current.useLayoutEffect(C,I)},de.useMemo=function(C,I){return ke.current.useMemo(C,I)},de.useReducer=function(C,I,oe){return ke.current.useReducer(C,I,oe)},de.useRef=function(C){return ke.current.useRef(C)},de.useState=function(C){return ke.current.useState(C)},de.useSyncExternalStore=function(C,I,oe){return ke.current.useSyncExternalStore(C,I,oe)},de.useTransition=function(){return ke.current.useTransition()},de.version="18.3.1",de}var op;function Au(){return op||(op=1,Xs.exports=s0()),Xs.exports}var j=Au();const ie=Ou(j);var da={},Zs={exports:{}},ut={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function u0(){return ap||(ap=1,function(n){function r(U,J){var K=U.length;U.push(J);e:for(;0<K;){var C=K-1>>>1,I=U[C];if(0<s(I,J))U[C]=J,U[K]=I,K=C;else break e}}function o(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var J=U[0],K=U.pop();if(K!==J){U[0]=K;e:for(var C=0,I=U.length,oe=I>>>1;C<oe;){var ae=2*(C+1)-1,fe=U[ae],ce=ae+1,ge=U[ce];if(0>s(fe,K))ce<I&&0>s(ge,fe)?(U[C]=ge,U[ce]=K,C=ce):(U[C]=fe,U[ae]=K,C=ae);else if(ce<I&&0>s(ge,K))U[C]=ge,U[ce]=K,C=ce;else break e}}return J}function s(U,J){var K=U.sortIndex-J.sortIndex;return K!==0?K:U.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var v=[],g=[],y=1,w=null,k=3,R=!1,b=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var J=o(g);J!==null;){if(J.callback===null)a(g);else if(J.startTime<=U)a(g),J.sortIndex=J.expirationTime,r(v,J);else break;J=o(g)}}function z(U){if(L=!1,A(U),!b)if(o(v)!==null)b=!0,Ye(G);else{var J=o(g);J!==null&&ke(z,J.startTime-U)}}function G(U,J){b=!1,L&&(L=!1,O(ye),ye=-1),R=!0;var K=k;try{for(A(J),w=o(v);w!==null&&(!(w.expirationTime>J)||U&&!xt());){var C=w.callback;if(typeof C=="function"){w.callback=null,k=w.priorityLevel;var I=C(w.expirationTime<=J);J=n.unstable_now(),typeof I=="function"?w.callback=I:w===o(v)&&a(v),A(J)}else a(v);w=o(v)}if(w!==null)var oe=!0;else{var ae=o(g);ae!==null&&ke(z,ae.startTime-J),oe=!1}return oe}finally{w=null,k=K,R=!1}}var Z=!1,B=null,ye=-1,we=5,$e=-1;function xt(){return!(n.unstable_now()-$e<we)}function yt(){if(B!==null){var U=n.unstable_now();$e=U;var J=!0;try{J=B(!0,U)}finally{J?tt():(Z=!1,B=null)}}else Z=!1}var tt;if(typeof T=="function")tt=function(){T(yt)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Et=dt.port2;dt.port1.onmessage=yt,tt=function(){Et.postMessage(null)}}else tt=function(){V(yt,0)};function Ye(U){B=U,Z||(Z=!0,tt())}function ke(U,J){ye=V(function(){U(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){b||R||(b=!0,Ye(G))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return o(v)},n.unstable_next=function(U){switch(k){case 1:case 2:case 3:var J=3;break;default:J=k}var K=k;k=J;try{return U()}finally{k=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=k;k=U;try{return J()}finally{k=K}},n.unstable_scheduleCallback=function(U,J,K){var C=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?C+K:C):K=C,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=K+I,U={id:y++,callback:J,priorityLevel:U,startTime:K,expirationTime:I,sortIndex:-1},K>C?(U.sortIndex=K,r(g,U),o(v)===null&&U===o(g)&&(L?(O(ye),ye=-1):L=!0,ke(z,K-C))):(U.sortIndex=I,r(v,U),b||R||(b=!0,Ye(G))),U},n.unstable_shouldYield=xt,n.unstable_wrapCallback=function(U){var J=k;return function(){var K=k;k=J;try{return U.apply(this,arguments)}finally{k=K}}}}(tu)),tu}var lp;function c0(){return lp||(lp=1,eu.exports=u0()),eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function d0(){if(sp)return ut;sp=1;var n=Au(),r=c0();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function k(e){return v.call(w,e)?!0:v.call(y,e)?!1:g.test(e)?w[e]=!0:(y[e]=!0,!1)}function R(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,i,l){if(t===null||typeof t>"u"||R(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function L(e,t,i,l,u,d,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=h}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){V[e]=new L(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];V[t]=new L(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){V[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){V[e]=new L(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){V[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){V[e]=new L(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){V[e]=new L(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){V[e]=new L(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){V[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,T);V[t]=new L(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,T);V[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,T);V[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){V[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)}),V.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){V[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,i,l){var u=V.hasOwnProperty(t)?V[t]:null;(u!==null?u.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,i,u,l)&&(i=null),l||u===null?k(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(t=u.attributeName,l=u.attributeNamespace,i===null?e.removeAttribute(t):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),Z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),ye=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),$e=Symbol.for("react.provider"),xt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),U=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,C;function I(e){if(C===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var oe=!1;function ae(e,t){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var l=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){l=_}e.call(t.prototype)}else{try{throw Error()}catch(_){l=_}e()}}catch(_){if(_&&l&&typeof _.stack=="string"){for(var u=_.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,x=d.length-1;1<=h&&0<=x&&u[h]!==d[x];)x--;for(;1<=h&&0<=x;h--,x--)if(u[h]!==d[x]){if(h!==1||x!==1)do if(h--,x--,0>x||u[h]!==d[x]){var E=`
`+u[h].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=h&&0<=x);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?I(e):""}function fe(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case Z:return"Portal";case we:return"Profiler";case ye:return"StrictMode";case tt:return"Suspense";case dt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xt:return(e.displayName||"Context")+".Consumer";case $e:return(e._context.displayName||"Context")+".Provider";case yt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Et:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Ye:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===ye?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function he(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function He(e){var t=he(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xt(e){e._valueTracker||(e._valueTracker=He(e))}function Rt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=he(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function to(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ol(e,t){var i=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function cc(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=pe(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dc(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function al(e,t){dc(e,t);var i=pe(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ll(e,t.type,i):t.hasOwnProperty("defaultValue")&&ll(e,t.type,pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fc(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ll(e,t,i){(t!=="number"||to(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Gr=Array.isArray;function cr(e,t,i,l){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&l&&(e[i].defaultSelected=!0)}else{for(i=""+pe(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pc(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(o(92));if(Gr(i)){if(1<i.length)throw Error(o(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:pe(i)}}function mc(e,t){var i=pe(t.value),l=pe(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function hc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ul(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var no,gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,u){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(no=no||document.createElement("div"),no.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=no.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cv=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){cv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function xc(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function yc(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,u=xc(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,u):e[i]=u}}var dv=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,t){if(t){if(dv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=null;function pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,dr=null,fr=null;function Ec(e){if(e=Ei(e)){if(typeof ml!="function")throw Error(o(280));var t=e.stateNode;t&&(t=No(t),ml(e.stateNode,e.type,t))}}function wc(e){dr?fr?fr.push(e):fr=[e]:dr=e}function kc(){if(dr){var e=dr,t=fr;if(fr=dr=null,Ec(e),t)for(e=0;e<t.length;e++)Ec(t[e])}}function Sc(e,t){return e(t)}function Cc(){}var hl=!1;function jc(e,t,i){if(hl)return e(t,i);hl=!0;try{return Sc(e,t,i)}finally{hl=!1,(dr!==null||fr!==null)&&(Cc(),kc())}}function Zr(e,t){var i=e.stateNode;if(i===null)return null;var l=No(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,t,typeof i));return i}var vl=!1;if(p)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){vl=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{vl=!1}function fv(e,t,i,l,u,d,h,x,E){var _=Array.prototype.slice.call(arguments,3);try{t.apply(i,_)}catch(M){this.onError(M)}}var ti=!1,ro=null,io=!1,gl=null,pv={onError:function(e){ti=!0,ro=e}};function mv(e,t,i,l,u,d,h,x,E){ti=!1,ro=null,fv.apply(pv,arguments)}function hv(e,t,i,l,u,d,h,x,E){if(mv.apply(this,arguments),ti){if(ti){var _=ro;ti=!1,ro=null}else throw Error(o(198));io||(io=!0,gl=_)}}function Bn(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Nc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bc(e){if(Bn(e)!==e)throw Error(o(188))}function vv(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,l=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){i=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return bc(u),e;if(d===l)return bc(u),t;d=d.sibling}throw Error(o(188))}if(i.return!==l.return)i=u,l=d;else{for(var h=!1,x=u.child;x;){if(x===i){h=!0,i=u,l=d;break}if(x===l){h=!0,l=u,i=d;break}x=x.sibling}if(!h){for(x=d.child;x;){if(x===i){h=!0,i=d,l=u;break}if(x===l){h=!0,l=d,i=u;break}x=x.sibling}if(!h)throw Error(o(189))}}if(i.alternate!==l)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function Rc(e){return e=vv(e),e!==null?Pc(e):null}function Pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pc(e);if(t!==null)return t;e=e.sibling}return null}var _c=r.unstable_scheduleCallback,Lc=r.unstable_cancelCallback,gv=r.unstable_shouldYield,xv=r.unstable_requestPaint,Ae=r.unstable_now,yv=r.unstable_getCurrentPriorityLevel,xl=r.unstable_ImmediatePriority,Vc=r.unstable_UserBlockingPriority,oo=r.unstable_NormalPriority,Ev=r.unstable_LowPriority,Oc=r.unstable_IdlePriority,ao=null,Ut=null;function wv(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Cv,kv=Math.log,Sv=Math.LN2;function Cv(e){return e>>>=0,e===0?32:31-(kv(e)/Sv|0)|0}var lo=64,so=4194304;function ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uo(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=i&268435455;if(h!==0){var x=h&~u;x!==0?l=ni(x):(d&=h,d!==0&&(l=ni(d)))}else h=i&~u,h!==0?l=ni(h):d!==0&&(l=ni(d));if(l===0)return 0;if(t!==0&&t!==l&&(t&u)===0&&(u=l&-l,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((l&4)!==0&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-Pt(t),u=1<<i,l|=e[i],t&=~u;return l}function jv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nv(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Pt(d),x=1<<h,E=u[h];E===-1?((x&i)===0||(x&l)!==0)&&(u[h]=jv(x,t)):E<=t&&(e.expiredLanes|=x),d&=~x}}function yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ac(){var e=lo;return lo<<=1,(lo&4194240)===0&&(lo=64),e}function El(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ri(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=i}function bv(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-Pt(i),d=1<<u;t[u]=0,l[u]=-1,e[u]=-1,i&=~d}}function wl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Pt(i),u=1<<l;u&t|e[l]&t&&(e[l]|=t),i&=~u}}var Ee=0;function Ic(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Tc,kl,$c,Mc,Dc,Sl=!1,co=[],vn=null,gn=null,xn=null,ii=new Map,oi=new Map,yn=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fc(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function ai(e,t,i,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Ei(t),t!==null&&kl(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Pv(e,t,i,l,u){switch(t){case"focusin":return vn=ai(vn,e,t,i,l,u),!0;case"dragenter":return gn=ai(gn,e,t,i,l,u),!0;case"mouseover":return xn=ai(xn,e,t,i,l,u),!0;case"pointerover":var d=u.pointerId;return ii.set(d,ai(ii.get(d)||null,e,t,i,l,u)),!0;case"gotpointercapture":return d=u.pointerId,oi.set(d,ai(oi.get(d)||null,e,t,i,l,u)),!0}return!1}function zc(e){var t=Kn(e.target);if(t!==null){var i=Bn(t);if(i!==null){if(t=i.tag,t===13){if(t=Nc(i),t!==null){e.blockedOn=t,Dc(e.priority,function(){$c(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);fl=l,i.target.dispatchEvent(l),fl=null}else return t=Ei(i),t!==null&&kl(t),e.blockedOn=i,!1;t.shift()}return!0}function Uc(e,t,i){fo(e)&&i.delete(t)}function _v(){Sl=!1,vn!==null&&fo(vn)&&(vn=null),gn!==null&&fo(gn)&&(gn=null),xn!==null&&fo(xn)&&(xn=null),ii.forEach(Uc),oi.forEach(Uc)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_v)))}function si(e){function t(u){return li(u,e)}if(0<co.length){li(co[0],e);for(var i=1;i<co.length;i++){var l=co[i];l.blockedOn===e&&(l.blockedOn=null)}}for(vn!==null&&li(vn,e),gn!==null&&li(gn,e),xn!==null&&li(xn,e),ii.forEach(t),oi.forEach(t),i=0;i<yn.length;i++)l=yn[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<yn.length&&(i=yn[0],i.blockedOn===null);)zc(i),i.blockedOn===null&&yn.shift()}var pr=z.ReactCurrentBatchConfig,po=!0;function Lv(e,t,i,l){var u=Ee,d=pr.transition;pr.transition=null;try{Ee=1,Cl(e,t,i,l)}finally{Ee=u,pr.transition=d}}function Vv(e,t,i,l){var u=Ee,d=pr.transition;pr.transition=null;try{Ee=4,Cl(e,t,i,l)}finally{Ee=u,pr.transition=d}}function Cl(e,t,i,l){if(po){var u=jl(e,t,i,l);if(u===null)Ul(e,t,l,mo,i),Fc(e,l);else if(Pv(u,e,t,i,l))l.stopPropagation();else if(Fc(e,l),t&4&&-1<Rv.indexOf(e)){for(;u!==null;){var d=Ei(u);if(d!==null&&Tc(d),d=jl(e,t,i,l),d===null&&Ul(e,t,l,mo,i),d===u)break;u=d}u!==null&&l.stopPropagation()}else Ul(e,t,l,null,i)}}var mo=null;function jl(e,t,i,l){if(mo=null,e=pl(l),e=Kn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Nc(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mo=e,null}function Bc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yv()){case xl:return 1;case Vc:return 4;case oo:case Ev:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var En=null,Nl=null,ho=null;function Kc(){if(ho)return ho;var e,t=Nl,i=t.length,l,u="value"in En?En.value:En.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var h=i-e;for(l=1;l<=h&&t[i-l]===u[d-l];l++);return ho=u.slice(e,1<l?1-l:void 0)}function vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function Wc(){return!1}function ft(e){function t(i,l,u,d,h){this._reactName=i,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?go:Wc,this.isPropagationStopped=Wc,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),t}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=ft(mr),ui=K({},mr,{view:0,detail:0}),Ov=ft(ui),Rl,Pl,ci,xo=K({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(Rl=e.screenX-ci.screenX,Pl=e.screenY-ci.screenY):Pl=Rl=0,ci=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Pl}}),Hc=ft(xo),Av=K({},xo,{dataTransfer:0}),Iv=ft(Av),Tv=K({},ui,{relatedTarget:0}),_l=ft(Tv),$v=K({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mv=ft($v),Dv=K({},mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fv=ft(Dv),zv=K({},mr,{data:0}),qc=ft(zv),Uv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kv[e])?!!t[e]:!1}function Ll(){return Wv}var Hv=K({},ui,{key:function(e){if(e.key){var t=Uv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qv=ft(Hv),Qv=K({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=ft(Qv),Yv=K({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),Gv=ft(Yv),Jv=K({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xv=ft(Jv),Zv=K({},xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eg=ft(Zv),tg=[9,13,27,32],Vl=p&&"CompositionEvent"in window,di=null;p&&"documentMode"in document&&(di=document.documentMode);var ng=p&&"TextEvent"in window&&!di,Yc=p&&(!Vl||di&&8<di&&11>=di),Gc=" ",Jc=!1;function Xc(e,t){switch(e){case"keyup":return tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function rg(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Jc=!0,Gc);case"textInput":return e=t.data,e===Gc&&Jc?null:e;default:return null}}function ig(e,t){if(hr)return e==="compositionend"||!Vl&&Xc(e,t)?(e=Kc(),ho=Nl=En=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yc&&t.locale!=="ko"?null:t.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!og[e.type]:t==="textarea"}function td(e,t,i,l){wc(l),t=So(t,"onChange"),0<t.length&&(i=new bl("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var fi=null,pi=null;function ag(e){yd(e,0)}function yo(e){var t=Er(e);if(Rt(t))return e}function lg(e,t){if(e==="change")return t}var nd=!1;if(p){var Ol;if(p){var Al="oninput"in document;if(!Al){var rd=document.createElement("div");rd.setAttribute("oninput","return;"),Al=typeof rd.oninput=="function"}Ol=Al}else Ol=!1;nd=Ol&&(!document.documentMode||9<document.documentMode)}function id(){fi&&(fi.detachEvent("onpropertychange",od),pi=fi=null)}function od(e){if(e.propertyName==="value"&&yo(pi)){var t=[];td(t,pi,e,pl(e)),jc(ag,t)}}function sg(e,t,i){e==="focusin"?(id(),fi=t,pi=i,fi.attachEvent("onpropertychange",od)):e==="focusout"&&id()}function ug(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(pi)}function cg(e,t){if(e==="click")return yo(t)}function dg(e,t){if(e==="input"||e==="change")return yo(t)}function fg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:fg;function mi(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var u=i[l];if(!v.call(t,u)||!_t(e[u],t[u]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ld(e,t){var i=ad(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ad(i)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ud(){for(var e=window,t=to();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=to(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pg(e){var t=ud(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&sd(i.ownerDocument.documentElement,i)){if(l!==null&&Il(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=ld(i,d);var h=ld(i,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mg=p&&"documentMode"in document&&11>=document.documentMode,vr=null,Tl=null,hi=null,$l=!1;function cd(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;$l||vr==null||vr!==to(l)||(l=vr,"selectionStart"in l&&Il(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hi&&mi(hi,l)||(hi=l,l=So(Tl,"onSelect"),0<l.length&&(t=new bl("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=vr)))}function Eo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var gr={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},Ml={},dd={};p&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function wo(e){if(Ml[e])return Ml[e];if(!gr[e])return e;var t=gr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in dd)return Ml[e]=t[i];return e}var fd=wo("animationend"),pd=wo("animationiteration"),md=wo("animationstart"),hd=wo("transitionend"),vd=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){vd.set(e,t),c(t,[e])}for(var Dl=0;Dl<gd.length;Dl++){var Fl=gd[Dl],hg=Fl.toLowerCase(),vg=Fl[0].toUpperCase()+Fl.slice(1);wn(hg,"on"+vg)}wn(fd,"onAnimationEnd"),wn(pd,"onAnimationIteration"),wn(md,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(hd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function xd(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,hv(l,t,void 0,e),e.currentTarget=null}function yd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],u=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var h=l.length-1;0<=h;h--){var x=l[h],E=x.instance,_=x.currentTarget;if(x=x.listener,E!==d&&u.isPropagationStopped())break e;xd(u,x,_),d=E}else for(h=0;h<l.length;h++){if(x=l[h],E=x.instance,_=x.currentTarget,x=x.listener,E!==d&&u.isPropagationStopped())break e;xd(u,x,_),d=E}}}if(io)throw e=gl,io=!1,gl=null,e}function Ce(e,t){var i=t[Ql];i===void 0&&(i=t[Ql]=new Set);var l=e+"__bubble";i.has(l)||(Ed(t,e,2,!1),i.add(l))}function zl(e,t,i){var l=0;t&&(l|=4),Ed(i,e,l,t)}var ko="_reactListening"+Math.random().toString(36).slice(2);function gi(e){if(!e[ko]){e[ko]=!0,a.forEach(function(i){i!=="selectionchange"&&(gg.has(i)||zl(i,!1,e),zl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ko]||(t[ko]=!0,zl("selectionchange",!1,t))}}function Ed(e,t,i,l){switch(Bc(t)){case 1:var u=Lv;break;case 4:u=Vv;break;default:u=Cl}i=u.bind(null,t,i,e),u=void 0,!vl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Ul(e,t,i,l,u){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var x=l.stateNode.containerInfo;if(x===u||x.nodeType===8&&x.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var E=h.tag;if((E===3||E===4)&&(E=h.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;h=h.return}for(;x!==null;){if(h=Kn(x),h===null)return;if(E=h.tag,E===5||E===6){l=d=h;continue e}x=x.parentNode}}l=l.return}jc(function(){var _=d,M=pl(i),D=[];e:{var $=vd.get(e);if($!==void 0){var W=bl,q=e;switch(e){case"keypress":if(vo(i)===0)break e;case"keydown":case"keyup":W=qv;break;case"focusin":q="focus",W=_l;break;case"focusout":q="blur",W=_l;break;case"beforeblur":case"afterblur":W=_l;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Gv;break;case fd:case pd:case md:W=Mv;break;case hd:W=Xv;break;case"scroll":W=Ov;break;case"wheel":W=eg;break;case"copy":case"cut":case"paste":W=Fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Qc}var Q=(t&4)!==0,Ie=!Q&&e==="scroll",N=Q?$!==null?$+"Capture":null:$;Q=[];for(var S=_,P;S!==null;){P=S;var F=P.stateNode;if(P.tag===5&&F!==null&&(P=F,N!==null&&(F=Zr(S,N),F!=null&&Q.push(xi(S,F,P)))),Ie)break;S=S.return}0<Q.length&&($=new W($,q,null,i,M),D.push({event:$,listeners:Q}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",$&&i!==fl&&(q=i.relatedTarget||i.fromElement)&&(Kn(q)||q[Zt]))break e;if((W||$)&&($=M.window===M?M:($=M.ownerDocument)?$.defaultView||$.parentWindow:window,W?(q=i.relatedTarget||i.toElement,W=_,q=q?Kn(q):null,q!==null&&(Ie=Bn(q),q!==Ie||q.tag!==5&&q.tag!==6)&&(q=null)):(W=null,q=_),W!==q)){if(Q=Hc,F="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Qc,F="onPointerLeave",N="onPointerEnter",S="pointer"),Ie=W==null?$:Er(W),P=q==null?$:Er(q),$=new Q(F,S+"leave",W,i,M),$.target=Ie,$.relatedTarget=P,F=null,Kn(M)===_&&(Q=new Q(N,S+"enter",q,i,M),Q.target=P,Q.relatedTarget=Ie,F=Q),Ie=F,W&&q)t:{for(Q=W,N=q,S=0,P=Q;P;P=xr(P))S++;for(P=0,F=N;F;F=xr(F))P++;for(;0<S-P;)Q=xr(Q),S--;for(;0<P-S;)N=xr(N),P--;for(;S--;){if(Q===N||N!==null&&Q===N.alternate)break t;Q=xr(Q),N=xr(N)}Q=null}else Q=null;W!==null&&wd(D,$,W,Q,!1),q!==null&&Ie!==null&&wd(D,Ie,q,Q,!0)}}e:{if($=_?Er(_):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var Y=lg;else if(ed($))if(nd)Y=dg;else{Y=ug;var ee=sg}else(W=$.nodeName)&&W.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Y=cg);if(Y&&(Y=Y(e,_))){td(D,Y,i,M);break e}ee&&ee(e,$,_),e==="focusout"&&(ee=$._wrapperState)&&ee.controlled&&$.type==="number"&&ll($,"number",$.value)}switch(ee=_?Er(_):window,e){case"focusin":(ed(ee)||ee.contentEditable==="true")&&(vr=ee,Tl=_,hi=null);break;case"focusout":hi=Tl=vr=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,cd(D,i,M);break;case"selectionchange":if(mg)break;case"keydown":case"keyup":cd(D,i,M)}var te;if(Vl)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else hr?Xc(e,i)&&(ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ne="onCompositionStart");ne&&(Yc&&i.locale!=="ko"&&(hr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&hr&&(te=Kc()):(En=M,Nl="value"in En?En.value:En.textContent,hr=!0)),ee=So(_,ne),0<ee.length&&(ne=new qc(ne,e,null,i,M),D.push({event:ne,listeners:ee}),te?ne.data=te:(te=Zc(i),te!==null&&(ne.data=te)))),(te=ng?rg(e,i):ig(e,i))&&(_=So(_,"onBeforeInput"),0<_.length&&(M=new qc("onBeforeInput","beforeinput",null,i,M),D.push({event:M,listeners:_}),M.data=te))}yd(D,t)})}function xi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function So(e,t){for(var i=t+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Zr(e,i),d!=null&&l.unshift(xi(e,d,u)),d=Zr(e,t),d!=null&&l.push(xi(e,d,u))),e=e.return}return l}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wd(e,t,i,l,u){for(var d=t._reactName,h=[];i!==null&&i!==l;){var x=i,E=x.alternate,_=x.stateNode;if(E!==null&&E===l)break;x.tag===5&&_!==null&&(x=_,u?(E=Zr(i,d),E!=null&&h.unshift(xi(i,E,x))):u||(E=Zr(i,d),E!=null&&h.push(xi(i,E,x)))),i=i.return}h.length!==0&&e.push({event:t,listeners:h})}var xg=/\r\n?/g,yg=/\u0000|\uFFFD/g;function kd(e){return(typeof e=="string"?e:""+e).replace(xg,`
`).replace(yg,"")}function Co(e,t,i){if(t=kd(t),kd(e)!==t&&i)throw Error(o(425))}function jo(){}var Bl=null,Kl=null;function Wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,Eg=typeof clearTimeout=="function"?clearTimeout:void 0,Sd=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Sd<"u"?function(e){return Sd.resolve(null).then(e).catch(kg)}:Hl;function kg(e){setTimeout(function(){throw e})}function ql(e,t){var i=t,l=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(l===0){e.removeChild(u),si(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=u}while(i);si(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+yr,yi="__reactProps$"+yr,Zt="__reactContainer$"+yr,Ql="__reactEvents$"+yr,Sg="__reactListeners$"+yr,Cg="__reactHandles$"+yr;function Kn(e){var t=e[Bt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Zt]||i[Bt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Cd(e);e!==null;){if(i=e[Bt])return i;e=Cd(e)}return t}e=i,i=e.parentNode}return null}function Ei(e){return e=e[Bt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function No(e){return e[yi]||null}var Yl=[],wr=-1;function Sn(e){return{current:e}}function je(e){0>wr||(e.current=Yl[wr],Yl[wr]=null,wr--)}function Se(e,t){wr++,Yl[wr]=e.current,e.current=t}var Cn={},Ge=Sn(Cn),it=Sn(!1),Wn=Cn;function kr(e,t){var i=e.type.contextTypes;if(!i)return Cn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in i)u[d]=t[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function ot(e){return e=e.childContextTypes,e!=null}function bo(){je(it),je(Ge)}function jd(e,t,i){if(Ge.current!==Cn)throw Error(o(168));Se(Ge,t),Se(it,i)}function Nd(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var u in l)if(!(u in t))throw Error(o(108,ge(e)||"Unknown",u));return K({},i,l)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Wn=Ge.current,Se(Ge,e),Se(it,it.current),!0}function bd(e,t,i){var l=e.stateNode;if(!l)throw Error(o(169));i?(e=Nd(e,t,Wn),l.__reactInternalMemoizedMergedChildContext=e,je(it),je(Ge),Se(Ge,e)):je(it),Se(it,i)}var en=null,Po=!1,Gl=!1;function Rd(e){en===null?en=[e]:en.push(e)}function jg(e){Po=!0,Rd(e)}function jn(){if(!Gl&&en!==null){Gl=!0;var e=0,t=Ee;try{var i=en;for(Ee=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}en=null,Po=!1}catch(u){throw en!==null&&(en=en.slice(e+1)),_c(xl,jn),u}finally{Ee=t,Gl=!1}}return null}var Sr=[],Cr=0,_o=null,Lo=0,wt=[],kt=0,Hn=null,tn=1,nn="";function qn(e,t){Sr[Cr++]=Lo,Sr[Cr++]=_o,_o=e,Lo=t}function Pd(e,t,i){wt[kt++]=tn,wt[kt++]=nn,wt[kt++]=Hn,Hn=e;var l=tn;e=nn;var u=32-Pt(l)-1;l&=~(1<<u),i+=1;var d=32-Pt(t)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,tn=1<<32-Pt(t)+u|i<<u|l,nn=d+e}else tn=1<<d|i<<u|l,nn=e}function Jl(e){e.return!==null&&(qn(e,1),Pd(e,1,0))}function Xl(e){for(;e===_o;)_o=Sr[--Cr],Sr[Cr]=null,Lo=Sr[--Cr],Sr[Cr]=null;for(;e===Hn;)Hn=wt[--kt],wt[kt]=null,nn=wt[--kt],wt[kt]=null,tn=wt[--kt],wt[kt]=null}var pt=null,mt=null,be=!1,Lt=null;function _d(e,t){var i=Nt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ld(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,mt=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Hn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Nt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,pt=e,mt=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function es(e){if(be){var t=mt;if(t){var i=t;if(!Ld(e,t)){if(Zl(e))throw Error(o(418));t=kn(i.nextSibling);var l=pt;t&&Ld(e,t)?_d(l,i):(e.flags=e.flags&-4097|2,be=!1,pt=e)}}else{if(Zl(e))throw Error(o(418));e.flags=e.flags&-4097|2,be=!1,pt=e}}}function Vd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Vo(e){if(e!==pt)return!1;if(!be)return Vd(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wl(e.type,e.memoizedProps)),t&&(t=mt)){if(Zl(e))throw Od(),Error(o(418));for(;t;)_d(e,t),t=kn(t.nextSibling)}if(Vd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){mt=kn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=pt?kn(e.stateNode.nextSibling):null;return!0}function Od(){for(var e=mt;e;)e=kn(e.nextSibling)}function jr(){mt=pt=null,be=!1}function ts(e){Lt===null?Lt=[e]:Lt.push(e)}var Ng=z.ReactCurrentBatchConfig;function wi(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var l=i.stateNode}if(!l)throw Error(o(147,e));var u=l,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(h){var x=u.refs;h===null?delete x[d]:x[d]=h},t._stringRef=d,t)}if(typeof e!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Oo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ad(e){var t=e._init;return t(e._payload)}function Id(e){function t(N,S){if(e){var P=N.deletions;P===null?(N.deletions=[S],N.flags|=16):P.push(S)}}function i(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function l(N,S){for(N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function u(N,S){return N=On(N,S),N.index=0,N.sibling=null,N}function d(N,S,P){return N.index=P,e?(P=N.alternate,P!==null?(P=P.index,P<S?(N.flags|=2,S):P):(N.flags|=2,S)):(N.flags|=1048576,S)}function h(N){return e&&N.alternate===null&&(N.flags|=2),N}function x(N,S,P,F){return S===null||S.tag!==6?(S=Hs(P,N.mode,F),S.return=N,S):(S=u(S,P),S.return=N,S)}function E(N,S,P,F){var Y=P.type;return Y===B?M(N,S,P.props.children,F,P.key):S!==null&&(S.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ye&&Ad(Y)===S.type)?(F=u(S,P.props),F.ref=wi(N,S,P),F.return=N,F):(F=ra(P.type,P.key,P.props,null,N.mode,F),F.ref=wi(N,S,P),F.return=N,F)}function _(N,S,P,F){return S===null||S.tag!==4||S.stateNode.containerInfo!==P.containerInfo||S.stateNode.implementation!==P.implementation?(S=qs(P,N.mode,F),S.return=N,S):(S=u(S,P.children||[]),S.return=N,S)}function M(N,S,P,F,Y){return S===null||S.tag!==7?(S=tr(P,N.mode,F,Y),S.return=N,S):(S=u(S,P),S.return=N,S)}function D(N,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Hs(""+S,N.mode,P),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case G:return P=ra(S.type,S.key,S.props,null,N.mode,P),P.ref=wi(N,null,S),P.return=N,P;case Z:return S=qs(S,N.mode,P),S.return=N,S;case Ye:var F=S._init;return D(N,F(S._payload),P)}if(Gr(S)||J(S))return S=tr(S,N.mode,P,null),S.return=N,S;Oo(N,S)}return null}function $(N,S,P,F){var Y=S!==null?S.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Y!==null?null:x(N,S,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===Y?E(N,S,P,F):null;case Z:return P.key===Y?_(N,S,P,F):null;case Ye:return Y=P._init,$(N,S,Y(P._payload),F)}if(Gr(P)||J(P))return Y!==null?null:M(N,S,P,F,null);Oo(N,P)}return null}function W(N,S,P,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number")return N=N.get(P)||null,x(S,N,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return N=N.get(F.key===null?P:F.key)||null,E(S,N,F,Y);case Z:return N=N.get(F.key===null?P:F.key)||null,_(S,N,F,Y);case Ye:var ee=F._init;return W(N,S,P,ee(F._payload),Y)}if(Gr(F)||J(F))return N=N.get(P)||null,M(S,N,F,Y,null);Oo(S,F)}return null}function q(N,S,P,F){for(var Y=null,ee=null,te=S,ne=S=0,Ke=null;te!==null&&ne<P.length;ne++){te.index>ne?(Ke=te,te=null):Ke=te.sibling;var ve=$(N,te,P[ne],F);if(ve===null){te===null&&(te=Ke);break}e&&te&&ve.alternate===null&&t(N,te),S=d(ve,S,ne),ee===null?Y=ve:ee.sibling=ve,ee=ve,te=Ke}if(ne===P.length)return i(N,te),be&&qn(N,ne),Y;if(te===null){for(;ne<P.length;ne++)te=D(N,P[ne],F),te!==null&&(S=d(te,S,ne),ee===null?Y=te:ee.sibling=te,ee=te);return be&&qn(N,ne),Y}for(te=l(N,te);ne<P.length;ne++)Ke=W(te,N,ne,P[ne],F),Ke!==null&&(e&&Ke.alternate!==null&&te.delete(Ke.key===null?ne:Ke.key),S=d(Ke,S,ne),ee===null?Y=Ke:ee.sibling=Ke,ee=Ke);return e&&te.forEach(function(An){return t(N,An)}),be&&qn(N,ne),Y}function Q(N,S,P,F){var Y=J(P);if(typeof Y!="function")throw Error(o(150));if(P=Y.call(P),P==null)throw Error(o(151));for(var ee=Y=null,te=S,ne=S=0,Ke=null,ve=P.next();te!==null&&!ve.done;ne++,ve=P.next()){te.index>ne?(Ke=te,te=null):Ke=te.sibling;var An=$(N,te,ve.value,F);if(An===null){te===null&&(te=Ke);break}e&&te&&An.alternate===null&&t(N,te),S=d(An,S,ne),ee===null?Y=An:ee.sibling=An,ee=An,te=Ke}if(ve.done)return i(N,te),be&&qn(N,ne),Y;if(te===null){for(;!ve.done;ne++,ve=P.next())ve=D(N,ve.value,F),ve!==null&&(S=d(ve,S,ne),ee===null?Y=ve:ee.sibling=ve,ee=ve);return be&&qn(N,ne),Y}for(te=l(N,te);!ve.done;ne++,ve=P.next())ve=W(te,N,ne,ve.value,F),ve!==null&&(e&&ve.alternate!==null&&te.delete(ve.key===null?ne:ve.key),S=d(ve,S,ne),ee===null?Y=ve:ee.sibling=ve,ee=ve);return e&&te.forEach(function(o0){return t(N,o0)}),be&&qn(N,ne),Y}function Ie(N,S,P,F){if(typeof P=="object"&&P!==null&&P.type===B&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var Y=P.key,ee=S;ee!==null;){if(ee.key===Y){if(Y=P.type,Y===B){if(ee.tag===7){i(N,ee.sibling),S=u(ee,P.props.children),S.return=N,N=S;break e}}else if(ee.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ye&&Ad(Y)===ee.type){i(N,ee.sibling),S=u(ee,P.props),S.ref=wi(N,ee,P),S.return=N,N=S;break e}i(N,ee);break}else t(N,ee);ee=ee.sibling}P.type===B?(S=tr(P.props.children,N.mode,F,P.key),S.return=N,N=S):(F=ra(P.type,P.key,P.props,null,N.mode,F),F.ref=wi(N,S,P),F.return=N,N=F)}return h(N);case Z:e:{for(ee=P.key;S!==null;){if(S.key===ee)if(S.tag===4&&S.stateNode.containerInfo===P.containerInfo&&S.stateNode.implementation===P.implementation){i(N,S.sibling),S=u(S,P.children||[]),S.return=N,N=S;break e}else{i(N,S);break}else t(N,S);S=S.sibling}S=qs(P,N.mode,F),S.return=N,N=S}return h(N);case Ye:return ee=P._init,Ie(N,S,ee(P._payload),F)}if(Gr(P))return q(N,S,P,F);if(J(P))return Q(N,S,P,F);Oo(N,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,S!==null&&S.tag===6?(i(N,S.sibling),S=u(S,P),S.return=N,N=S):(i(N,S),S=Hs(P,N.mode,F),S.return=N,N=S),h(N)):i(N,S)}return Ie}var Nr=Id(!0),Td=Id(!1),Ao=Sn(null),Io=null,br=null,ns=null;function rs(){ns=br=Io=null}function is(e){var t=Ao.current;je(Ao),e._currentValue=t}function os(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Rr(e,t){Io=e,ns=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(at=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(ns!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(Io===null)throw Error(o(308));br=e,Io.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var Qn=null;function as(e){Qn===null?Qn=[e]:Qn.push(e)}function $d(e,t,i,l){var u=t.interleaved;return u===null?(i.next=i,as(t)):(i.next=u.next,u.next=i),t.interleaved=i,rn(e,l)}function rn(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Nn=!1;function ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(me&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,rn(e,i)}return u=l.interleaved,u===null?(t.next=t,as(l)):(t.next=u.next,u.next=t),l.interleaved=t,rn(e,i)}function To(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,wl(e,i)}}function Dd(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?u=d=h:d=d.next=h,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function $o(e,t,i,l){var u=e.updateQueue;Nn=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,x=u.shared.pending;if(x!==null){u.shared.pending=null;var E=x,_=E.next;E.next=null,h===null?d=_:h.next=_,h=E;var M=e.alternate;M!==null&&(M=M.updateQueue,x=M.lastBaseUpdate,x!==h&&(x===null?M.firstBaseUpdate=_:x.next=_,M.lastBaseUpdate=E))}if(d!==null){var D=u.baseState;h=0,M=_=E=null,x=d;do{var $=x.lane,W=x.eventTime;if((l&$)===$){M!==null&&(M=M.next={eventTime:W,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var q=e,Q=x;switch($=t,W=i,Q.tag){case 1:if(q=Q.payload,typeof q=="function"){D=q.call(W,D,$);break e}D=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=Q.payload,$=typeof q=="function"?q.call(W,D,$):q,$==null)break e;D=K({},D,$);break e;case 2:Nn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,$=u.effects,$===null?u.effects=[x]:$.push(x))}else W={eventTime:W,lane:$,tag:x.tag,payload:x.payload,callback:x.callback,next:null},M===null?(_=M=W,E=D):M=M.next=W,h|=$;if(x=x.next,x===null){if(x=u.shared.pending,x===null)break;$=x,x=$.next,$.next=null,u.lastBaseUpdate=$,u.shared.pending=null}}while(!0);if(M===null&&(E=D),u.baseState=E,u.firstBaseUpdate=_,u.lastBaseUpdate=M,t=u.shared.interleaved,t!==null){u=t;do h|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);Jn|=h,e.lanes=h,e.memoizedState=D}}function Fd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],u=l.callback;if(u!==null){if(l.callback=null,l=i,typeof u!="function")throw Error(o(191,u));u.call(l)}}}var ki={},Kt=Sn(ki),Si=Sn(ki),Ci=Sn(ki);function Yn(e){if(e===ki)throw Error(o(174));return e}function ss(e,t){switch(Se(Ci,t),Se(Si,e),Se(Kt,ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ul(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ul(t,e)}je(Kt),Se(Kt,t)}function Pr(){je(Kt),je(Si),je(Ci)}function zd(e){Yn(Ci.current);var t=Yn(Kt.current),i=ul(t,e.type);t!==i&&(Se(Si,e),Se(Kt,i))}function us(e){Si.current===e&&(je(Kt),je(Si))}var _e=Sn(0);function Mo(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ds(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var Do=z.ReactCurrentDispatcher,fs=z.ReactCurrentBatchConfig,Gn=0,Le=null,Fe=null,Ue=null,Fo=!1,ji=!1,Ni=0,bg=0;function Je(){throw Error(o(321))}function ps(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!_t(e[i],t[i]))return!1;return!0}function ms(e,t,i,l,u,d){if(Gn=d,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Do.current=e===null||e.memoizedState===null?Lg:Vg,e=i(l,u),ji){d=0;do{if(ji=!1,Ni=0,25<=d)throw Error(o(301));d+=1,Ue=Fe=null,t.updateQueue=null,Do.current=Og,e=i(l,u)}while(ji)}if(Do.current=Bo,t=Fe!==null&&Fe.next!==null,Gn=0,Ue=Fe=Le=null,Fo=!1,t)throw Error(o(300));return e}function hs(){var e=Ni!==0;return Ni=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Le.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Ct(){if(Fe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=Ue===null?Le.memoizedState:Ue.next;if(t!==null)Ue=t,Fe=e;else{if(e===null)throw Error(o(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ue===null?Le.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function bi(e,t){return typeof t=="function"?t(e):t}function vs(e){var t=Ct(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=Fe,u=l.baseQueue,d=i.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,i.pending=null}if(u!==null){d=u.next,l=l.baseState;var x=h=null,E=null,_=d;do{var M=_.lane;if((Gn&M)===M)E!==null&&(E=E.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),l=_.hasEagerState?_.eagerState:e(l,_.action);else{var D={lane:M,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};E===null?(x=E=D,h=l):E=E.next=D,Le.lanes|=M,Jn|=M}_=_.next}while(_!==null&&_!==d);E===null?h=l:E.next=x,_t(l,t.memoizedState)||(at=!0),t.memoizedState=l,t.baseState=h,t.baseQueue=E,i.lastRenderedState=l}if(e=i.interleaved,e!==null){u=e;do d=u.lane,Le.lanes|=d,Jn|=d,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function gs(e){var t=Ct(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);_t(d,t.memoizedState)||(at=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,l]}function Ud(){}function Bd(e,t){var i=Le,l=Ct(),u=t(),d=!_t(l.memoizedState,u);if(d&&(l.memoizedState=u,at=!0),l=l.queue,xs(Hd.bind(null,i,l,e),[e]),l.getSnapshot!==t||d||Ue!==null&&Ue.memoizedState.tag&1){if(i.flags|=2048,Ri(9,Wd.bind(null,i,l,u,t),void 0,null),Be===null)throw Error(o(349));(Gn&30)!==0||Kd(i,t,u)}return u}function Kd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Wd(e,t,i,l){t.value=i,t.getSnapshot=l,qd(t)&&Qd(e)}function Hd(e,t,i){return i(function(){qd(t)&&Qd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!_t(e,i)}catch{return!0}}function Qd(e){var t=rn(e,1);t!==null&&It(t,e,1,-1)}function Yd(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=_g.bind(null,Le,e),[t.memoizedState,e]}function Ri(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function Gd(){return Ct().memoizedState}function zo(e,t,i,l){var u=Wt();Le.flags|=e,u.memoizedState=Ri(1|t,i,void 0,l===void 0?null:l)}function Uo(e,t,i,l){var u=Ct();l=l===void 0?null:l;var d=void 0;if(Fe!==null){var h=Fe.memoizedState;if(d=h.destroy,l!==null&&ps(l,h.deps)){u.memoizedState=Ri(t,i,d,l);return}}Le.flags|=e,u.memoizedState=Ri(1|t,i,d,l)}function Jd(e,t){return zo(8390656,8,e,t)}function xs(e,t){return Uo(2048,8,e,t)}function Xd(e,t){return Uo(4,2,e,t)}function Zd(e,t){return Uo(4,4,e,t)}function ef(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,i){return i=i!=null?i.concat([e]):null,Uo(4,4,ef.bind(null,t,e),i)}function ys(){}function nf(e,t){var i=Ct();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&ps(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function rf(e,t){var i=Ct();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&ps(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function of(e,t,i){return(Gn&21)===0?(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=i):(_t(i,t)||(i=Ac(),Le.lanes|=i,Jn|=i,e.baseState=!0),t)}function Rg(e,t){var i=Ee;Ee=i!==0&&4>i?i:4,e(!0);var l=fs.transition;fs.transition={};try{e(!1),t()}finally{Ee=i,fs.transition=l}}function af(){return Ct().memoizedState}function Pg(e,t,i){var l=Ln(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},lf(e))sf(t,i);else if(i=$d(e,t,i,l),i!==null){var u=rt();It(i,e,l,u),uf(i,t,l)}}function _g(e,t,i){var l=Ln(e),u={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(lf(e))sf(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,x=d(h,i);if(u.hasEagerState=!0,u.eagerState=x,_t(x,h)){var E=t.interleaved;E===null?(u.next=u,as(t)):(u.next=E.next,E.next=u),t.interleaved=u;return}}catch{}finally{}i=$d(e,t,u,l),i!==null&&(u=rt(),It(i,e,l,u),uf(i,t,l))}}function lf(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function sf(e,t){ji=Fo=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function uf(e,t,i){if((i&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,wl(e,i)}}var Bo={readContext:St,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Lg={readContext:St,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Jd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,zo(4194308,4,ef.bind(null,t,e),i)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var i=Wt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=Wt();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Pg.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Yd,useDebugValue:ys,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Yd(!1),t=e[0];return e=Rg.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=Le,u=Wt();if(be){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),Be===null)throw Error(o(349));(Gn&30)!==0||Kd(l,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,Jd(Hd.bind(null,l,d,e),[e]),l.flags|=2048,Ri(9,Wd.bind(null,l,d,i,t),void 0,null),i},useId:function(){var e=Wt(),t=Be.identifierPrefix;if(be){var i=nn,l=tn;i=(l&~(1<<32-Pt(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Ni++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=bg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vg={readContext:St,useCallback:nf,useContext:St,useEffect:xs,useImperativeHandle:tf,useInsertionEffect:Xd,useLayoutEffect:Zd,useMemo:rf,useReducer:vs,useRef:Gd,useState:function(){return vs(bi)},useDebugValue:ys,useDeferredValue:function(e){var t=Ct();return of(t,Fe.memoizedState,e)},useTransition:function(){var e=vs(bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:Bd,useId:af,unstable_isNewReconciler:!1},Og={readContext:St,useCallback:nf,useContext:St,useEffect:xs,useImperativeHandle:tf,useInsertionEffect:Xd,useLayoutEffect:Zd,useMemo:rf,useReducer:gs,useRef:Gd,useState:function(){return gs(bi)},useDebugValue:ys,useDeferredValue:function(e){var t=Ct();return Fe===null?t.memoizedState=e:of(t,Fe.memoizedState,e)},useTransition:function(){var e=gs(bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:Ud,useSyncExternalStore:Bd,useId:af,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Es(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:K({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ko={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=rt(),u=Ln(e),d=on(l,u);d.payload=t,i!=null&&(d.callback=i),t=bn(e,d,u),t!==null&&(It(t,e,u,l),To(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=rt(),u=Ln(e),d=on(l,u);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=bn(e,d,u),t!==null&&(It(t,e,u,l),To(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=rt(),l=Ln(e),u=on(i,l);u.tag=2,t!=null&&(u.callback=t),t=bn(e,u,l),t!==null&&(It(t,e,l,i),To(t,e,l))}};function cf(e,t,i,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):t.prototype&&t.prototype.isPureReactComponent?!mi(i,l)||!mi(u,d):!0}function df(e,t,i){var l=!1,u=Cn,d=t.contextType;return typeof d=="object"&&d!==null?d=St(d):(u=ot(t)?Wn:Ge.current,l=t.contextTypes,d=(l=l!=null)?kr(e,u):Cn),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ko,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function ff(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Ko.enqueueReplaceState(t,t.state,null)}function ws(e,t,i,l){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},ls(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=St(d):(d=ot(t)?Wn:Ge.current,u.context=kr(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Es(e,t,d,i),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Ko.enqueueReplaceState(u,u.state,null),$o(e,i,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function _r(e,t){try{var i="",l=t;do i+=fe(l),l=l.return;while(l);var u=i}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function ks(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Ss(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Ag=typeof WeakMap=="function"?WeakMap:Map;function pf(e,t,i){i=on(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){Jo||(Jo=!0,Ms=l),Ss(e,t)},i}function mf(e,t,i){i=on(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=t.value;i.payload=function(){return l(u)},i.callback=function(){Ss(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Ss(e,t),typeof l!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),i}function hf(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Ag;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(i)||(u.add(i),e=Qg.bind(null,e,t,i),t.then(e,e))}function vf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gf(e,t,i,l,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=on(-1,1),t.tag=2,bn(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Ig=z.ReactCurrentOwner,at=!1;function nt(e,t,i,l){t.child=e===null?Td(t,null,i,l):Nr(t,e.child,i,l)}function xf(e,t,i,l,u){i=i.render;var d=t.ref;return Rr(t,u),l=ms(e,t,i,l,d,u),i=hs(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,an(e,t,u)):(be&&i&&Jl(t),t.flags|=1,nt(e,t,l,u),t.child)}function yf(e,t,i,l,u){if(e===null){var d=i.type;return typeof d=="function"&&!Ws(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,Ef(e,t,d,l,u)):(e=ra(i.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var h=d.memoizedProps;if(i=i.compare,i=i!==null?i:mi,i(h,l)&&e.ref===t.ref)return an(e,t,u)}return t.flags|=1,e=On(d,l),e.ref=t.ref,e.return=t,t.child=e}function Ef(e,t,i,l,u){if(e!==null){var d=e.memoizedProps;if(mi(d,l)&&e.ref===t.ref)if(at=!1,t.pendingProps=l=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,an(e,t,u)}return Cs(e,t,i,l,u)}function wf(e,t,i){var l=t.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Vr,ht),ht|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Vr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:i,Se(Vr,ht),ht|=l}else d!==null?(l=d.baseLanes|i,t.memoizedState=null):l=i,Se(Vr,ht),ht|=l;return nt(e,t,u,i),t.child}function kf(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,i,l,u){var d=ot(i)?Wn:Ge.current;return d=kr(t,d),Rr(t,u),i=ms(e,t,i,l,d,u),l=hs(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,an(e,t,u)):(be&&l&&Jl(t),t.flags|=1,nt(e,t,i,u),t.child)}function Sf(e,t,i,l,u){if(ot(i)){var d=!0;Ro(t)}else d=!1;if(Rr(t,u),t.stateNode===null)Ho(e,t),df(t,i,l),ws(t,i,l,u),l=!0;else if(e===null){var h=t.stateNode,x=t.memoizedProps;h.props=x;var E=h.context,_=i.contextType;typeof _=="object"&&_!==null?_=St(_):(_=ot(i)?Wn:Ge.current,_=kr(t,_));var M=i.getDerivedStateFromProps,D=typeof M=="function"||typeof h.getSnapshotBeforeUpdate=="function";D||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==l||E!==_)&&ff(t,h,l,_),Nn=!1;var $=t.memoizedState;h.state=$,$o(t,l,h,u),E=t.memoizedState,x!==l||$!==E||it.current||Nn?(typeof M=="function"&&(Es(t,i,M,l),E=t.memoizedState),(x=Nn||cf(t,i,x,l,$,E,_))?(D||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=E),h.props=l,h.state=E,h.context=_,l=x):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Md(e,t),x=t.memoizedProps,_=t.type===t.elementType?x:Vt(t.type,x),h.props=_,D=t.pendingProps,$=h.context,E=i.contextType,typeof E=="object"&&E!==null?E=St(E):(E=ot(i)?Wn:Ge.current,E=kr(t,E));var W=i.getDerivedStateFromProps;(M=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==D||$!==E)&&ff(t,h,l,E),Nn=!1,$=t.memoizedState,h.state=$,$o(t,l,h,u);var q=t.memoizedState;x!==D||$!==q||it.current||Nn?(typeof W=="function"&&(Es(t,i,W,l),q=t.memoizedState),(_=Nn||cf(t,i,_,l,$,q,E)||!1)?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,E)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=q),h.props=l,h.state=q,h.context=E,l=_):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),l=!1)}return js(e,t,i,l,d,u)}function js(e,t,i,l,u,d){kf(e,t);var h=(t.flags&128)!==0;if(!l&&!h)return u&&bd(t,i,!1),an(e,t,d);l=t.stateNode,Ig.current=t;var x=h&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&h?(t.child=Nr(t,e.child,null,d),t.child=Nr(t,null,x,d)):nt(e,t,x,d),t.memoizedState=l.state,u&&bd(t,i,!0),t.child}function Cf(e){var t=e.stateNode;t.pendingContext?jd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jd(e,t.context,!1),ss(e,t.containerInfo)}function jf(e,t,i,l,u){return jr(),ts(u),t.flags|=256,nt(e,t,i,l),t.child}var Ns={dehydrated:null,treeContext:null,retryLane:0};function bs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nf(e,t,i){var l=t.pendingProps,u=_e.current,d=!1,h=(t.flags&128)!==0,x;if((x=h)||(x=e!==null&&e.memoizedState===null?!1:(u&2)!==0),x?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Se(_e,u&1),e===null)return es(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=l.children,e=l.fallback,d?(l=t.mode,d=t.child,h={mode:"hidden",children:h},(l&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=ia(h,l,0,null),e=tr(e,l,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=bs(i),t.memoizedState=Ns,e):Rs(t,h));if(u=e.memoizedState,u!==null&&(x=u.dehydrated,x!==null))return Tg(e,t,h,l,x,u,i);if(d){d=l.fallback,h=t.mode,u=e.child,x=u.sibling;var E={mode:"hidden",children:l.children};return(h&1)===0&&t.child!==u?(l=t.child,l.childLanes=0,l.pendingProps=E,t.deletions=null):(l=On(u,E),l.subtreeFlags=u.subtreeFlags&14680064),x!==null?d=On(x,d):(d=tr(d,h,i,null),d.flags|=2),d.return=t,l.return=t,l.sibling=d,t.child=l,l=d,d=t.child,h=e.child.memoizedState,h=h===null?bs(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~i,t.memoizedState=Ns,l}return d=e.child,e=d.sibling,l=On(d,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function Rs(e,t){return t=ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wo(e,t,i,l){return l!==null&&ts(l),Nr(t,e.child,null,i),e=Rs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tg(e,t,i,l,u,d,h){if(i)return t.flags&256?(t.flags&=-257,l=ks(Error(o(422))),Wo(e,t,h,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=l.fallback,u=t.mode,l=ia({mode:"visible",children:l.children},u,0,null),d=tr(d,u,h,null),d.flags|=2,l.return=t,d.return=t,l.sibling=d,t.child=l,(t.mode&1)!==0&&Nr(t,e.child,null,h),t.child.memoizedState=bs(h),t.memoizedState=Ns,d);if((t.mode&1)===0)return Wo(e,t,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var x=l.dgst;return l=x,d=Error(o(419)),l=ks(d,l,void 0),Wo(e,t,h,l)}if(x=(h&e.childLanes)!==0,at||x){if(l=Be,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(l.suspendedLanes|h))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,rn(e,u),It(l,e,u,-1))}return Ks(),l=ks(Error(o(421))),Wo(e,t,h,l)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Yg.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,mt=kn(u.nextSibling),pt=t,be=!0,Lt=null,e!==null&&(wt[kt++]=tn,wt[kt++]=nn,wt[kt++]=Hn,tn=e.id,nn=e.overflow,Hn=t),t=Rs(t,l.children),t.flags|=4096,t)}function bf(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),os(e.return,t,i)}function Ps(e,t,i,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=u)}function Rf(e,t,i){var l=t.pendingProps,u=l.revealOrder,d=l.tail;if(nt(e,t,l.children,i),l=_e.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bf(e,i,t);else if(e.tag===19)bf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Se(_e,l),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Mo(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Ps(t,!1,u,i,d);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Mo(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Ps(t,!0,i,null,d);break;case"together":Ps(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=On(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=On(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function $g(e,t,i){switch(t.tag){case 3:Cf(t),jr();break;case 5:zd(t);break;case 1:ot(t.type)&&Ro(t);break;case 4:ss(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,u=t.memoizedProps.value;Se(Ao,l._currentValue),l._currentValue=u;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Se(_e,_e.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Nf(e,t,i):(Se(_e,_e.current&1),e=an(e,t,i),e!==null?e.sibling:null);Se(_e,_e.current&1);break;case 19:if(l=(i&t.childLanes)!==0,(e.flags&128)!==0){if(l)return Rf(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Se(_e,_e.current),l)break;return null;case 22:case 23:return t.lanes=0,wf(e,t,i)}return an(e,t,i)}var Pf,_s,_f,Lf;Pf=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},_s=function(){},_f=function(e,t,i,l){var u=e.memoizedProps;if(u!==l){e=t.stateNode,Yn(Kt.current);var d=null;switch(i){case"input":u=ol(e,u),l=ol(e,l),d=[];break;case"select":u=K({},u,{value:void 0}),l=K({},l,{value:void 0}),d=[];break;case"textarea":u=sl(e,u),l=sl(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=jo)}cl(i,l);var h;i=null;for(_ in u)if(!l.hasOwnProperty(_)&&u.hasOwnProperty(_)&&u[_]!=null)if(_==="style"){var x=u[_];for(h in x)x.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?d||(d=[]):(d=d||[]).push(_,null));for(_ in l){var E=l[_];if(x=u!=null?u[_]:void 0,l.hasOwnProperty(_)&&E!==x&&(E!=null||x!=null))if(_==="style")if(x){for(h in x)!x.hasOwnProperty(h)||E&&E.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in E)E.hasOwnProperty(h)&&x[h]!==E[h]&&(i||(i={}),i[h]=E[h])}else i||(d||(d=[]),d.push(_,i)),i=E;else _==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,x=x?x.__html:void 0,E!=null&&x!==E&&(d=d||[]).push(_,E)):_==="children"?typeof E!="string"&&typeof E!="number"||(d=d||[]).push(_,""+E):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(s.hasOwnProperty(_)?(E!=null&&_==="onScroll"&&Ce("scroll",e),d||x===E||(d=[])):(d=d||[]).push(_,E))}i&&(d=d||[]).push("style",i);var _=d;(t.updateQueue=_)&&(t.flags|=4)}},Lf=function(e,t,i,l){i!==l&&(t.flags|=4)};function Pi(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Mg(e,t,i){var l=t.pendingProps;switch(Xl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return ot(t.type)&&bo(),Xe(t),null;case 3:return l=t.stateNode,Pr(),je(it),je(Ge),ds(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Lt!==null&&(zs(Lt),Lt=null))),_s(e,t),Xe(t),null;case 5:us(t);var u=Yn(Ci.current);if(i=t.type,e!==null&&t.stateNode!=null)_f(e,t,i,l,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Xe(t),null}if(e=Yn(Kt.current),Vo(t)){l=t.stateNode,i=t.type;var d=t.memoizedProps;switch(l[Bt]=t,l[yi]=d,e=(t.mode&1)!==0,i){case"dialog":Ce("cancel",l),Ce("close",l);break;case"iframe":case"object":case"embed":Ce("load",l);break;case"video":case"audio":for(u=0;u<vi.length;u++)Ce(vi[u],l);break;case"source":Ce("error",l);break;case"img":case"image":case"link":Ce("error",l),Ce("load",l);break;case"details":Ce("toggle",l);break;case"input":cc(l,d),Ce("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},Ce("invalid",l);break;case"textarea":pc(l,d),Ce("invalid",l)}cl(i,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var x=d[h];h==="children"?typeof x=="string"?l.textContent!==x&&(d.suppressHydrationWarning!==!0&&Co(l.textContent,x,e),u=["children",x]):typeof x=="number"&&l.textContent!==""+x&&(d.suppressHydrationWarning!==!0&&Co(l.textContent,x,e),u=["children",""+x]):s.hasOwnProperty(h)&&x!=null&&h==="onScroll"&&Ce("scroll",l)}switch(i){case"input":Xt(l),fc(l,d,!0);break;case"textarea":Xt(l),hc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=jo)}l=u,t.updateQueue=l,l!==null&&(t.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(i,{is:l.is}):(e=h.createElement(i),i==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,i),e[Bt]=t,e[yi]=l,Pf(e,t,!1,!1),t.stateNode=e;e:{switch(h=dl(i,l),i){case"dialog":Ce("cancel",e),Ce("close",e),u=l;break;case"iframe":case"object":case"embed":Ce("load",e),u=l;break;case"video":case"audio":for(u=0;u<vi.length;u++)Ce(vi[u],e);u=l;break;case"source":Ce("error",e),u=l;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),u=l;break;case"details":Ce("toggle",e),u=l;break;case"input":cc(e,l),u=ol(e,l),Ce("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=K({},l,{value:void 0}),Ce("invalid",e);break;case"textarea":pc(e,l),u=sl(e,l),Ce("invalid",e);break;default:u=l}cl(i,u),x=u;for(d in x)if(x.hasOwnProperty(d)){var E=x[d];d==="style"?yc(e,E):d==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&gc(e,E)):d==="children"?typeof E=="string"?(i!=="textarea"||E!=="")&&Jr(e,E):typeof E=="number"&&Jr(e,""+E):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(s.hasOwnProperty(d)?E!=null&&d==="onScroll"&&Ce("scroll",e):E!=null&&A(e,d,E,h))}switch(i){case"input":Xt(e),fc(e,l,!1);break;case"textarea":Xt(e),hc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+pe(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?cr(e,!!l.multiple,d,!1):l.defaultValue!=null&&cr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=jo)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Lf(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(i=Yn(Ci.current),Yn(Kt.current),Vo(t)){if(l=t.stateNode,i=t.memoizedProps,l[Bt]=t,(d=l.nodeValue!==i)&&(e=pt,e!==null))switch(e.tag){case 3:Co(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Co(l.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Bt]=t,t.stateNode=l}return Xe(t),null;case 13:if(je(_e),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Od(),jr(),t.flags|=98560,d=!1;else if(d=Vo(t),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[Bt]=t}else jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),d=!1}else Lt!==null&&(zs(Lt),Lt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(_e.current&1)!==0?ze===0&&(ze=3):Ks())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Pr(),_s(e,t),e===null&&gi(t.stateNode.containerInfo),Xe(t),null;case 10:return is(t.type._context),Xe(t),null;case 17:return ot(t.type)&&bo(),Xe(t),null;case 19:if(je(_e),d=t.memoizedState,d===null)return Xe(t),null;if(l=(t.flags&128)!==0,h=d.rendering,h===null)if(l)Pi(d,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Mo(e),h!==null){for(t.flags|=128,Pi(d,!1),l=h.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)d=i,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Se(_e,_e.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ae()>Or&&(t.flags|=128,l=!0,Pi(d,!1),t.lanes=4194304)}else{if(!l)if(e=Mo(h),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Pi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!be)return Xe(t),null}else 2*Ae()-d.renderingStartTime>Or&&i!==1073741824&&(t.flags|=128,l=!0,Pi(d,!1),t.lanes=4194304);d.isBackwards?(h.sibling=t.child,t.child=h):(i=d.last,i!==null?i.sibling=h:t.child=h,d.last=h)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ae(),t.sibling=null,i=_e.current,Se(_e,l?i&1|2:i&1),t):(Xe(t),null);case 22:case 23:return Bs(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(ht&1073741824)!==0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Dg(e,t){switch(Xl(t),t.tag){case 1:return ot(t.type)&&bo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),je(it),je(Ge),ds(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return us(t),null;case 13:if(je(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(_e),null;case 4:return Pr(),null;case 10:return is(t.type._context),null;case 22:case 23:return Bs(),null;case 24:return null;default:return null}}var qo=!1,Ze=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,H=null;function Lr(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Oe(e,t,l)}else i.current=null}function Ls(e,t,i){try{i()}catch(l){Oe(e,t,l)}}var Vf=!1;function zg(e,t){if(Bl=po,e=ud(),Il(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var h=0,x=-1,E=-1,_=0,M=0,D=e,$=null;t:for(;;){for(var W;D!==i||u!==0&&D.nodeType!==3||(x=h+u),D!==d||l!==0&&D.nodeType!==3||(E=h+l),D.nodeType===3&&(h+=D.nodeValue.length),(W=D.firstChild)!==null;)$=D,D=W;for(;;){if(D===e)break t;if($===i&&++_===u&&(x=h),$===d&&++M===l&&(E=h),(W=D.nextSibling)!==null)break;D=$,$=D.parentNode}D=W}i=x===-1||E===-1?null:{start:x,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(Kl={focusedElem:e,selectionRange:i},po=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var Q=q.memoizedProps,Ie=q.memoizedState,N=t.stateNode,S=N.getSnapshotBeforeUpdate(t.elementType===t.type?Q:Vt(t.type,Q),Ie);N.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(F){Oe(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return q=Vf,Vf=!1,q}function _i(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Ls(t,i,d)}u=u.next}while(u!==l)}}function Qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function Vs(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Of(e){var t=e.alternate;t!==null&&(e.alternate=null,Of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[yi],delete t[Ql],delete t[Sg],delete t[Cg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Af(e){return e.tag===5||e.tag===3||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Os(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=jo));else if(l!==4&&(e=e.child,e!==null))for(Os(e,t,i),e=e.sibling;e!==null;)Os(e,t,i),e=e.sibling}function As(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(As(e,t,i),e=e.sibling;e!==null;)As(e,t,i),e=e.sibling}var qe=null,Ot=!1;function Rn(e,t,i){for(i=i.child;i!==null;)Tf(e,t,i),i=i.sibling}function Tf(e,t,i){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ao,i)}catch{}switch(i.tag){case 5:Ze||Lr(i,t);case 6:var l=qe,u=Ot;qe=null,Rn(e,t,i),qe=l,Ot=u,qe!==null&&(Ot?(e=qe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):qe.removeChild(i.stateNode));break;case 18:qe!==null&&(Ot?(e=qe,i=i.stateNode,e.nodeType===8?ql(e.parentNode,i):e.nodeType===1&&ql(e,i),si(e)):ql(qe,i.stateNode));break;case 4:l=qe,u=Ot,qe=i.stateNode.containerInfo,Ot=!0,Rn(e,t,i),qe=l,Ot=u;break;case 0:case 11:case 14:case 15:if(!Ze&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&Ls(i,t,h),u=u.next}while(u!==l)}Rn(e,t,i);break;case 1:if(!Ze&&(Lr(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(x){Oe(i,t,x)}Rn(e,t,i);break;case 21:Rn(e,t,i);break;case 22:i.mode&1?(Ze=(l=Ze)||i.memoizedState!==null,Rn(e,t,i),Ze=l):Rn(e,t,i);break;default:Rn(e,t,i)}}function $f(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Fg),t.forEach(function(l){var u=Gg.bind(null,e,l);i.has(l)||(i.add(l),l.then(u,u))})}}function At(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];try{var d=e,h=t,x=h;e:for(;x!==null;){switch(x.tag){case 5:qe=x.stateNode,Ot=!1;break e;case 3:qe=x.stateNode.containerInfo,Ot=!0;break e;case 4:qe=x.stateNode.containerInfo,Ot=!0;break e}x=x.return}if(qe===null)throw Error(o(160));Tf(d,h,u),qe=null,Ot=!1;var E=u.alternate;E!==null&&(E.return=null),u.return=null}catch(_){Oe(u,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mf(t,e),t=t.sibling}function Mf(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Ht(e),l&4){try{_i(3,e,e.return),Qo(3,e)}catch(Q){Oe(e,e.return,Q)}try{_i(5,e,e.return)}catch(Q){Oe(e,e.return,Q)}}break;case 1:At(t,e),Ht(e),l&512&&i!==null&&Lr(i,i.return);break;case 5:if(At(t,e),Ht(e),l&512&&i!==null&&Lr(i,i.return),e.flags&32){var u=e.stateNode;try{Jr(u,"")}catch(Q){Oe(e,e.return,Q)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=i!==null?i.memoizedProps:d,x=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{x==="input"&&d.type==="radio"&&d.name!=null&&dc(u,d),dl(x,h);var _=dl(x,d);for(h=0;h<E.length;h+=2){var M=E[h],D=E[h+1];M==="style"?yc(u,D):M==="dangerouslySetInnerHTML"?gc(u,D):M==="children"?Jr(u,D):A(u,M,D,_)}switch(x){case"input":al(u,d);break;case"textarea":mc(u,d);break;case"select":var $=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?cr(u,!!d.multiple,W,!1):$!==!!d.multiple&&(d.defaultValue!=null?cr(u,!!d.multiple,d.defaultValue,!0):cr(u,!!d.multiple,d.multiple?[]:"",!1))}u[yi]=d}catch(Q){Oe(e,e.return,Q)}}break;case 6:if(At(t,e),Ht(e),l&4){if(e.stateNode===null)throw Error(o(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(Q){Oe(e,e.return,Q)}}break;case 3:if(At(t,e),Ht(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{si(t.containerInfo)}catch(Q){Oe(e,e.return,Q)}break;case 4:At(t,e),Ht(e);break;case 13:At(t,e),Ht(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||($s=Ae())),l&4&&$f(e);break;case 22:if(M=i!==null&&i.memoizedState!==null,e.mode&1?(Ze=(_=Ze)||M,At(t,e),Ze=_):At(t,e),Ht(e),l&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!M&&(e.mode&1)!==0)for(H=e,M=e.child;M!==null;){for(D=H=M;H!==null;){switch($=H,W=$.child,$.tag){case 0:case 11:case 14:case 15:_i(4,$,$.return);break;case 1:Lr($,$.return);var q=$.stateNode;if(typeof q.componentWillUnmount=="function"){l=$,i=$.return;try{t=l,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(Q){Oe(l,i,Q)}}break;case 5:Lr($,$.return);break;case 22:if($.memoizedState!==null){zf(D);continue}}W!==null?(W.return=$,H=W):zf(D)}M=M.sibling}e:for(M=null,D=e;;){if(D.tag===5){if(M===null){M=D;try{u=D.stateNode,_?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(x=D.stateNode,E=D.memoizedProps.style,h=E!=null&&E.hasOwnProperty("display")?E.display:null,x.style.display=xc("display",h))}catch(Q){Oe(e,e.return,Q)}}}else if(D.tag===6){if(M===null)try{D.stateNode.nodeValue=_?"":D.memoizedProps}catch(Q){Oe(e,e.return,Q)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;M===D&&(M=null),D=D.return}M===D&&(M=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:At(t,e),Ht(e),l&4&&$f(e);break;case 21:break;default:At(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Af(i)){var l=i;break e}i=i.return}throw Error(o(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Jr(u,""),l.flags&=-33);var d=If(e);As(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,x=If(e);Os(e,x,h);break;default:throw Error(o(161))}}catch(E){Oe(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ug(e,t,i){H=e,Df(e)}function Df(e,t,i){for(var l=(e.mode&1)!==0;H!==null;){var u=H,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||qo;if(!h){var x=u.alternate,E=x!==null&&x.memoizedState!==null||Ze;x=qo;var _=Ze;if(qo=h,(Ze=E)&&!_)for(H=u;H!==null;)h=H,E=h.child,h.tag===22&&h.memoizedState!==null?Uf(u):E!==null?(E.return=h,H=E):Uf(u);for(;d!==null;)H=d,Df(d),d=d.sibling;H=u,qo=x,Ze=_}Ff(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,H=d):Ff(e)}}function Ff(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ze||Qo(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Ze)if(i===null)l.componentDidMount();else{var u=t.elementType===t.type?i.memoizedProps:Vt(t.type,i.memoizedProps);l.componentDidUpdate(u,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Fd(t,d,l);break;case 3:var h=t.updateQueue;if(h!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Fd(t,h,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&i.focus();break;case"img":E.src&&(i.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var M=_.memoizedState;if(M!==null){var D=M.dehydrated;D!==null&&si(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Ze||t.flags&512&&Vs(t)}catch($){Oe(t,t.return,$)}}if(t===e){H=null;break}if(i=t.sibling,i!==null){i.return=t.return,H=i;break}H=t.return}}function zf(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var i=t.sibling;if(i!==null){i.return=t.return,H=i;break}H=t.return}}function Uf(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Qo(4,t)}catch(E){Oe(t,i,E)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var u=t.return;try{l.componentDidMount()}catch(E){Oe(t,u,E)}}var d=t.return;try{Vs(t)}catch(E){Oe(t,d,E)}break;case 5:var h=t.return;try{Vs(t)}catch(E){Oe(t,h,E)}}}catch(E){Oe(t,t.return,E)}if(t===e){H=null;break}var x=t.sibling;if(x!==null){x.return=t.return,H=x;break}H=t.return}}var Bg=Math.ceil,Yo=z.ReactCurrentDispatcher,Is=z.ReactCurrentOwner,jt=z.ReactCurrentBatchConfig,me=0,Be=null,Me=null,Qe=0,ht=0,Vr=Sn(0),ze=0,Li=null,Jn=0,Go=0,Ts=0,Vi=null,lt=null,$s=0,Or=1/0,ln=null,Jo=!1,Ms=null,Pn=null,Xo=!1,_n=null,Zo=0,Oi=0,Ds=null,ea=-1,ta=0;function rt(){return(me&6)!==0?Ae():ea!==-1?ea:ea=Ae()}function Ln(e){return(e.mode&1)===0?1:(me&2)!==0&&Qe!==0?Qe&-Qe:Ng.transition!==null?(ta===0&&(ta=Ac()),ta):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Bc(e.type)),e)}function It(e,t,i,l){if(50<Oi)throw Oi=0,Ds=null,Error(o(185));ri(e,i,l),((me&2)===0||e!==Be)&&(e===Be&&((me&2)===0&&(Go|=i),ze===4&&Vn(e,Qe)),st(e,l),i===1&&me===0&&(t.mode&1)===0&&(Or=Ae()+500,Po&&jn()))}function st(e,t){var i=e.callbackNode;Nv(e,t);var l=uo(e,e===Be?Qe:0);if(l===0)i!==null&&Lc(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&Lc(i),t===1)e.tag===0?jg(Kf.bind(null,e)):Rd(Kf.bind(null,e)),wg(function(){(me&6)===0&&jn()}),i=null;else{switch(Ic(l)){case 1:i=xl;break;case 4:i=Vc;break;case 16:i=oo;break;case 536870912:i=Oc;break;default:i=oo}i=Xf(i,Bf.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Bf(e,t){if(ea=-1,ta=0,(me&6)!==0)throw Error(o(327));var i=e.callbackNode;if(Ar()&&e.callbackNode!==i)return null;var l=uo(e,e===Be?Qe:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=na(e,l);else{t=l;var u=me;me|=2;var d=Hf();(Be!==e||Qe!==t)&&(ln=null,Or=Ae()+500,Zn(e,t));do try{Hg();break}catch(x){Wf(e,x)}while(!0);rs(),Yo.current=d,me=u,Me!==null?t=0:(Be=null,Qe=0,t=ze)}if(t!==0){if(t===2&&(u=yl(e),u!==0&&(l=u,t=Fs(e,u))),t===1)throw i=Li,Zn(e,0),Vn(e,l),st(e,Ae()),i;if(t===6)Vn(e,l);else{if(u=e.current.alternate,(l&30)===0&&!Kg(u)&&(t=na(e,l),t===2&&(d=yl(e),d!==0&&(l=d,t=Fs(e,d))),t===1))throw i=Li,Zn(e,0),Vn(e,l),st(e,Ae()),i;switch(e.finishedWork=u,e.finishedLanes=l,t){case 0:case 1:throw Error(o(345));case 2:er(e,lt,ln);break;case 3:if(Vn(e,l),(l&130023424)===l&&(t=$s+500-Ae(),10<t)){if(uo(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){rt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Hl(er.bind(null,e,lt,ln),t);break}er(e,lt,ln);break;case 4:if(Vn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,u=-1;0<l;){var h=31-Pt(l);d=1<<h,h=t[h],h>u&&(u=h),l&=~d}if(l=u,l=Ae()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Bg(l/1960))-l,10<l){e.timeoutHandle=Hl(er.bind(null,e,lt,ln),l);break}er(e,lt,ln);break;case 5:er(e,lt,ln);break;default:throw Error(o(329))}}}return st(e,Ae()),e.callbackNode===i?Bf.bind(null,e):null}function Fs(e,t){var i=Vi;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=na(e,t),e!==2&&(t=lt,lt=i,t!==null&&zs(t)),e}function zs(e){lt===null?lt=e:lt.push.apply(lt,e)}function Kg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var u=i[l],d=u.getSnapshot;u=u.value;try{if(!_t(d(),u))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t){for(t&=~Ts,t&=~Go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Pt(t),l=1<<i;e[i]=-1,t&=~l}}function Kf(e){if((me&6)!==0)throw Error(o(327));Ar();var t=uo(e,0);if((t&1)===0)return st(e,Ae()),null;var i=na(e,t);if(e.tag!==0&&i===2){var l=yl(e);l!==0&&(t=l,i=Fs(e,l))}if(i===1)throw i=Li,Zn(e,0),Vn(e,t),st(e,Ae()),i;if(i===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,lt,ln),st(e,Ae()),null}function Us(e,t){var i=me;me|=1;try{return e(t)}finally{me=i,me===0&&(Or=Ae()+500,Po&&jn())}}function Xn(e){_n!==null&&_n.tag===0&&(me&6)===0&&Ar();var t=me;me|=1;var i=jt.transition,l=Ee;try{if(jt.transition=null,Ee=1,e)return e()}finally{Ee=l,jt.transition=i,me=t,(me&6)===0&&jn()}}function Bs(){ht=Vr.current,je(Vr)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Eg(i)),Me!==null)for(i=Me.return;i!==null;){var l=i;switch(Xl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&bo();break;case 3:Pr(),je(it),je(Ge),ds();break;case 5:us(l);break;case 4:Pr();break;case 13:je(_e);break;case 19:je(_e);break;case 10:is(l.type._context);break;case 22:case 23:Bs()}i=i.return}if(Be=e,Me=e=On(e.current,null),Qe=ht=t,ze=0,Li=null,Ts=Go=Jn=0,lt=Vi=null,Qn!==null){for(t=0;t<Qn.length;t++)if(i=Qn[t],l=i.interleaved,l!==null){i.interleaved=null;var u=l.next,d=i.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}i.pending=l}Qn=null}return e}function Wf(e,t){do{var i=Me;try{if(rs(),Do.current=Bo,Fo){for(var l=Le.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Fo=!1}if(Gn=0,Ue=Fe=Le=null,ji=!1,Ni=0,Is.current=null,i===null||i.return===null){ze=1,Li=t,Me=null;break}e:{var d=e,h=i.return,x=i,E=t;if(t=Qe,x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var _=E,M=x,D=M.tag;if((M.mode&1)===0&&(D===0||D===11||D===15)){var $=M.alternate;$?(M.updateQueue=$.updateQueue,M.memoizedState=$.memoizedState,M.lanes=$.lanes):(M.updateQueue=null,M.memoizedState=null)}var W=vf(h);if(W!==null){W.flags&=-257,gf(W,h,x,d,t),W.mode&1&&hf(d,_,t),t=W,E=_;var q=t.updateQueue;if(q===null){var Q=new Set;Q.add(E),t.updateQueue=Q}else q.add(E);break e}else{if((t&1)===0){hf(d,_,t),Ks();break e}E=Error(o(426))}}else if(be&&x.mode&1){var Ie=vf(h);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),gf(Ie,h,x,d,t),ts(_r(E,x));break e}}d=E=_r(E,x),ze!==4&&(ze=2),Vi===null?Vi=[d]:Vi.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var N=pf(d,E,t);Dd(d,N);break e;case 1:x=E;var S=d.type,P=d.stateNode;if((d.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Pn===null||!Pn.has(P)))){d.flags|=65536,t&=-t,d.lanes|=t;var F=mf(d,x,t);Dd(d,F);break e}}d=d.return}while(d!==null)}Qf(i)}catch(Y){t=Y,Me===i&&i!==null&&(Me=i=i.return);continue}break}while(!0)}function Hf(){var e=Yo.current;return Yo.current=Bo,e===null?Bo:e}function Ks(){(ze===0||ze===3||ze===2)&&(ze=4),Be===null||(Jn&268435455)===0&&(Go&268435455)===0||Vn(Be,Qe)}function na(e,t){var i=me;me|=2;var l=Hf();(Be!==e||Qe!==t)&&(ln=null,Zn(e,t));do try{Wg();break}catch(u){Wf(e,u)}while(!0);if(rs(),me=i,Yo.current=l,Me!==null)throw Error(o(261));return Be=null,Qe=0,ze}function Wg(){for(;Me!==null;)qf(Me)}function Hg(){for(;Me!==null&&!gv();)qf(Me)}function qf(e){var t=Jf(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Qf(e):Me=t,Is.current=null}function Qf(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Mg(i,t,ht),i!==null){Me=i;return}}else{if(i=Dg(i,t),i!==null){i.flags&=32767,Me=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Me=null;return}}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);ze===0&&(ze=5)}function er(e,t,i){var l=Ee,u=jt.transition;try{jt.transition=null,Ee=1,qg(e,t,i,l)}finally{jt.transition=u,Ee=l}return null}function qg(e,t,i,l){do Ar();while(_n!==null);if((me&6)!==0)throw Error(o(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(bv(e,d),e===Be&&(Me=Be=null,Qe=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Xo||(Xo=!0,Xf(oo,function(){return Ar(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=jt.transition,jt.transition=null;var h=Ee;Ee=1;var x=me;me|=4,Is.current=null,zg(e,i),Mf(i,e),pg(Kl),po=!!Bl,Kl=Bl=null,e.current=i,Ug(i),xv(),me=x,Ee=h,jt.transition=d}else e.current=i;if(Xo&&(Xo=!1,_n=e,Zo=u),d=e.pendingLanes,d===0&&(Pn=null),wv(i.stateNode),st(e,Ae()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)u=t[i],l(u.value,{componentStack:u.stack,digest:u.digest});if(Jo)throw Jo=!1,e=Ms,Ms=null,e;return(Zo&1)!==0&&e.tag!==0&&Ar(),d=e.pendingLanes,(d&1)!==0?e===Ds?Oi++:(Oi=0,Ds=e):Oi=0,jn(),null}function Ar(){if(_n!==null){var e=Ic(Zo),t=jt.transition,i=Ee;try{if(jt.transition=null,Ee=16>e?16:e,_n===null)var l=!1;else{if(e=_n,_n=null,Zo=0,(me&6)!==0)throw Error(o(331));var u=me;for(me|=4,H=e.current;H!==null;){var d=H,h=d.child;if((H.flags&16)!==0){var x=d.deletions;if(x!==null){for(var E=0;E<x.length;E++){var _=x[E];for(H=_;H!==null;){var M=H;switch(M.tag){case 0:case 11:case 15:_i(8,M,d)}var D=M.child;if(D!==null)D.return=M,H=D;else for(;H!==null;){M=H;var $=M.sibling,W=M.return;if(Of(M),M===_){H=null;break}if($!==null){$.return=W,H=$;break}H=W}}}var q=d.alternate;if(q!==null){var Q=q.child;if(Q!==null){q.child=null;do{var Ie=Q.sibling;Q.sibling=null,Q=Ie}while(Q!==null)}}H=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,H=h;else e:for(;H!==null;){if(d=H,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:_i(9,d,d.return)}var N=d.sibling;if(N!==null){N.return=d.return,H=N;break e}H=d.return}}var S=e.current;for(H=S;H!==null;){h=H;var P=h.child;if((h.subtreeFlags&2064)!==0&&P!==null)P.return=h,H=P;else e:for(h=S;H!==null;){if(x=H,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Qo(9,x)}}catch(Y){Oe(x,x.return,Y)}if(x===h){H=null;break e}var F=x.sibling;if(F!==null){F.return=x.return,H=F;break e}H=x.return}}if(me=u,jn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ao,e)}catch{}l=!0}return l}finally{Ee=i,jt.transition=t}}return!1}function Yf(e,t,i){t=_r(i,t),t=pf(e,t,1),e=bn(e,t,1),t=rt(),e!==null&&(ri(e,1,t),st(e,t))}function Oe(e,t,i){if(e.tag===3)Yf(e,e,i);else for(;t!==null;){if(t.tag===3){Yf(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pn===null||!Pn.has(l))){e=_r(i,e),e=mf(t,e,1),t=bn(t,e,1),e=rt(),t!==null&&(ri(t,1,e),st(t,e));break}}t=t.return}}function Qg(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&i,Be===e&&(Qe&i)===i&&(ze===4||ze===3&&(Qe&130023424)===Qe&&500>Ae()-$s?Zn(e,0):Ts|=i),st(e,t)}function Gf(e,t){t===0&&((e.mode&1)===0?t=1:(t=so,so<<=1,(so&130023424)===0&&(so=4194304)));var i=rt();e=rn(e,t),e!==null&&(ri(e,t,i),st(e,i))}function Yg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Gf(e,i)}function Gg(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(o(314))}l!==null&&l.delete(t),Gf(e,i)}var Jf;Jf=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||it.current)at=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return at=!1,$g(e,t,i);at=(e.flags&131072)!==0}else at=!1,be&&(t.flags&1048576)!==0&&Pd(t,Lo,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Ho(e,t),e=t.pendingProps;var u=kr(t,Ge.current);Rr(t,i),u=ms(null,t,l,e,u,i);var d=hs();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(l)?(d=!0,Ro(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ls(t),u.updater=Ko,t.stateNode=u,u._reactInternals=t,ws(t,l,e,i),t=js(null,t,l,!0,d,i)):(t.tag=0,be&&d&&Jl(t),nt(null,t,u,i),t=t.child),t;case 16:l=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,u=l._init,l=u(l._payload),t.type=l,u=t.tag=Xg(l),e=Vt(l,e),u){case 0:t=Cs(null,t,l,e,i);break e;case 1:t=Sf(null,t,l,e,i);break e;case 11:t=xf(null,t,l,e,i);break e;case 14:t=yf(null,t,l,Vt(l.type,e),i);break e}throw Error(o(306,l,""))}return t;case 0:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Vt(l,u),Cs(e,t,l,u,i);case 1:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Vt(l,u),Sf(e,t,l,u,i);case 3:e:{if(Cf(t),e===null)throw Error(o(387));l=t.pendingProps,d=t.memoizedState,u=d.element,Md(e,t),$o(t,l,null,i);var h=t.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=_r(Error(o(423)),t),t=jf(e,t,l,i,u);break e}else if(l!==u){u=_r(Error(o(424)),t),t=jf(e,t,l,i,u);break e}else for(mt=kn(t.stateNode.containerInfo.firstChild),pt=t,be=!0,Lt=null,i=Td(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(jr(),l===u){t=an(e,t,i);break e}nt(e,t,l,i)}t=t.child}return t;case 5:return zd(t),e===null&&es(t),l=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Wl(l,u)?h=null:d!==null&&Wl(l,d)&&(t.flags|=32),kf(e,t),nt(e,t,h,i),t.child;case 6:return e===null&&es(t),null;case 13:return Nf(e,t,i);case 4:return ss(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Nr(t,null,l,i):nt(e,t,l,i),t.child;case 11:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Vt(l,u),xf(e,t,l,u,i);case 7:return nt(e,t,t.pendingProps,i),t.child;case 8:return nt(e,t,t.pendingProps.children,i),t.child;case 12:return nt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,u=t.pendingProps,d=t.memoizedProps,h=u.value,Se(Ao,l._currentValue),l._currentValue=h,d!==null)if(_t(d.value,h)){if(d.children===u.children&&!it.current){t=an(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var x=d.dependencies;if(x!==null){h=d.child;for(var E=x.firstContext;E!==null;){if(E.context===l){if(d.tag===1){E=on(-1,i&-i),E.tag=2;var _=d.updateQueue;if(_!==null){_=_.shared;var M=_.pending;M===null?E.next=E:(E.next=M.next,M.next=E),_.pending=E}}d.lanes|=i,E=d.alternate,E!==null&&(E.lanes|=i),os(d.return,i,t),x.lanes|=i;break}E=E.next}}else if(d.tag===10)h=d.type===t.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(o(341));h.lanes|=i,x=h.alternate,x!==null&&(x.lanes|=i),os(h,i,t),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===t){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}nt(e,t,u.children,i),t=t.child}return t;case 9:return u=t.type,l=t.pendingProps.children,Rr(t,i),u=St(u),l=l(u),t.flags|=1,nt(e,t,l,i),t.child;case 14:return l=t.type,u=Vt(l,t.pendingProps),u=Vt(l.type,u),yf(e,t,l,u,i);case 15:return Ef(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Vt(l,u),Ho(e,t),t.tag=1,ot(l)?(e=!0,Ro(t)):e=!1,Rr(t,i),df(t,l,u),ws(t,l,u,i),js(null,t,l,!0,e,i);case 19:return Rf(e,t,i);case 22:return wf(e,t,i)}throw Error(o(156,t.tag))};function Xf(e,t){return _c(e,t)}function Jg(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,i,l){return new Jg(e,t,i,l)}function Ws(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xg(e){if(typeof e=="function")return Ws(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yt)return 11;if(e===Et)return 14}return 2}function On(e,t){var i=e.alternate;return i===null?(i=Nt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ra(e,t,i,l,u,d){var h=2;if(l=e,typeof e=="function")Ws(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case B:return tr(i.children,u,d,t);case ye:h=8,u|=8;break;case we:return e=Nt(12,i,t,u|2),e.elementType=we,e.lanes=d,e;case tt:return e=Nt(13,i,t,u),e.elementType=tt,e.lanes=d,e;case dt:return e=Nt(19,i,t,u),e.elementType=dt,e.lanes=d,e;case ke:return ia(i,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $e:h=10;break e;case xt:h=9;break e;case yt:h=11;break e;case Et:h=14;break e;case Ye:h=16,l=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Nt(h,i,t,u),t.elementType=e,t.type=l,t.lanes=d,t}function tr(e,t,i,l){return e=Nt(7,e,l,t),e.lanes=i,e}function ia(e,t,i,l){return e=Nt(22,e,l,t),e.elementType=ke,e.lanes=i,e.stateNode={isHidden:!1},e}function Hs(e,t,i){return e=Nt(6,e,null,t),e.lanes=i,e}function qs(e,t,i){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zg(e,t,i,l,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Qs(e,t,i,l,u,d,h,x,E){return e=new Zg(e,t,i,x,E),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Nt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ls(d),e}function e0(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function Zf(e){if(!e)return Cn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var i=e.type;if(ot(i))return Nd(e,i,t)}return t}function ep(e,t,i,l,u,d,h,x,E){return e=Qs(i,l,!0,e,u,d,h,x,E),e.context=Zf(null),i=e.current,l=rt(),u=Ln(i),d=on(l,u),d.callback=t??null,bn(i,d,u),e.current.lanes=u,ri(e,u,l),st(e,l),e}function oa(e,t,i,l){var u=t.current,d=rt(),h=Ln(u);return i=Zf(i),t.context===null?t.context=i:t.pendingContext=i,t=on(d,h),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=bn(u,t,h),e!==null&&(It(e,u,h,d),To(e,u,h)),h}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ys(e,t){tp(e,t),(e=e.alternate)&&tp(e,t)}function t0(){return null}var np=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gs(e){this._internalRoot=e}la.prototype.render=Gs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));oa(e,t,null,null)},la.prototype.unmount=Gs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){oa(null,e,null,null)}),t[Zt]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<yn.length&&t!==0&&t<yn[i].priority;i++);yn.splice(i,0,e),i===0&&zc(e)}};function Js(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rp(){}function n0(e,t,i,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var _=aa(h);d.call(_)}}var h=ep(t,l,e,0,null,!1,!1,"",rp);return e._reactRootContainer=h,e[Zt]=h.current,gi(e.nodeType===8?e.parentNode:e),Xn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var x=l;l=function(){var _=aa(E);x.call(_)}}var E=Qs(e,0,!1,null,null,!1,!1,"",rp);return e._reactRootContainer=E,e[Zt]=E.current,gi(e.nodeType===8?e.parentNode:e),Xn(function(){oa(t,E,i,l)}),E}function ua(e,t,i,l,u){var d=i._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var x=u;u=function(){var E=aa(h);x.call(E)}}oa(t,h,e,u)}else h=n0(i,t,e,u,l);return aa(h)}Tc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ni(t.pendingLanes);i!==0&&(wl(t,i|1),st(t,Ae()),(me&6)===0&&(Or=Ae()+500,jn()))}break;case 13:Xn(function(){var l=rn(e,1);if(l!==null){var u=rt();It(l,e,1,u)}}),Ys(e,1)}},kl=function(e){if(e.tag===13){var t=rn(e,134217728);if(t!==null){var i=rt();It(t,e,134217728,i)}Ys(e,134217728)}},$c=function(e){if(e.tag===13){var t=Ln(e),i=rn(e,t);if(i!==null){var l=rt();It(i,e,t,l)}Ys(e,t)}},Mc=function(){return Ee},Dc=function(e,t){var i=Ee;try{return Ee=e,t()}finally{Ee=i}},ml=function(e,t,i){switch(t){case"input":if(al(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var u=No(l);if(!u)throw Error(o(90));Rt(l),al(l,u)}}}break;case"textarea":mc(e,i);break;case"select":t=i.value,t!=null&&cr(e,!!i.multiple,t,!1)}},Sc=Us,Cc=Xn;var r0={usingClientEntryPoint:!1,Events:[Ei,Er,No,wc,kc,Us]},Ai={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i0={bundleType:Ai.bundleType,version:Ai.version,rendererPackageName:Ai.rendererPackageName,rendererConfig:Ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ai.findFiberByHostInstance||t0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{ao=ca.inject(i0),Ut=ca}catch{}}return ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0,ut.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Js(t))throw Error(o(200));return e0(e,t,null,i)},ut.createRoot=function(e,t){if(!Js(e))throw Error(o(299));var i=!1,l="",u=np;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Qs(e,1,!1,null,null,i,!1,l,u),e[Zt]=t.current,gi(e.nodeType===8?e.parentNode:e),new Gs(t)},ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Rc(t),e=e===null?null:e.stateNode,e},ut.flushSync=function(e){return Xn(e)},ut.hydrate=function(e,t,i){if(!sa(t))throw Error(o(200));return ua(null,e,t,!0,i)},ut.hydrateRoot=function(e,t,i){if(!Js(e))throw Error(o(405));var l=i!=null&&i.hydratedSources||null,u=!1,d="",h=np;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),t=ep(t,null,e,1,i??null,u,!1,d,h),e[Zt]=t.current,gi(e),l)for(e=0;e<l.length;e++)i=l[e],u=i._getVersion,u=u(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,u]:t.mutableSourceEagerHydrationData.push(i,u);return new la(t)},ut.render=function(e,t,i){if(!sa(t))throw Error(o(200));return ua(null,e,t,!1,i)},ut.unmountComponentAtNode=function(e){if(!sa(e))throw Error(o(40));return e._reactRootContainer?(Xn(function(){ua(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1},ut.unstable_batchedUpdates=Us,ut.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!sa(i))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return ua(e,t,i,!1,l)},ut.version="18.3.1-next-f1338f8080-20240426",ut}var up;function bm(){if(up)return Zs.exports;up=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Zs.exports=d0(),Zs.exports}var cp;function f0(){if(cp)return da;cp=1;var n=bm();return da.createRoot=n.createRoot,da.hydrateRoot=n.hydrateRoot,da}var p0=f0();const m0=Ou(p0),h0="modulepreload",v0=function(n){return"/publicodes-impact-livraison/"+n},dp={},g0=function(r,o,a){let s=Promise.resolve();if(o&&o.length>0){let f=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),v=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));s=f(o.map(g=>{if(g=v0(g),g in dp)return;dp[g]=!0;const y=g.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const k=document.createElement("link");if(k.rel=y?"stylesheet":h0,y||(k.as="script"),k.crossOrigin="",k.href=g,v&&k.setAttribute("nonce",v),document.head.appendChild(k),y)return new Promise((R,b)=>{k.addEventListener("load",R),k.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return s.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return r().catch(c)})};var ct=function(){return ct=Object.assign||function(r){for(var o,a=1,s=arguments.length;a<s;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r},ct.apply(this,arguments)};function La(n,r,o){if(o||arguments.length===2)for(var a=0,s=r.length,c;a<s;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return n.concat(c||Array.prototype.slice.call(r))}var Ne="-ms-",zi="-moz-",xe="-webkit-",Rm="comm",Fa="rule",Iu="decl",x0="@import",Pm="@keyframes",y0="@layer",_m=Math.abs,Tu=String.fromCharCode,pu=Object.assign;function E0(n,r){return We(n,0)^45?(((r<<2^We(n,0))<<2^We(n,1))<<2^We(n,2))<<2^We(n,3):0}function Lm(n){return n.trim()}function sn(n,r){return(n=r.exec(n))?n[0]:n}function se(n,r,o){return n.replace(r,o)}function wa(n,r,o){return n.indexOf(r,o)}function We(n,r){return n.charCodeAt(r)|0}function $r(n,r,o){return n.slice(r,o)}function qt(n){return n.length}function Vm(n){return n.length}function Di(n,r){return r.push(n),n}function w0(n,r){return n.map(r).join("")}function fp(n,r){return n.filter(function(o){return!sn(o,r)})}var za=1,Mr=1,Om=0,bt=0,De=0,Wr="";function Ua(n,r,o,a,s,c,f,p){return{value:n,root:r,parent:o,type:a,props:s,children:c,line:za,column:Mr,length:f,return:"",siblings:p}}function Tn(n,r){return pu(Ua("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},r)}function Ir(n){for(;n.root;)n=Tn(n.root,{children:[n]});Di(n,n.siblings)}function k0(){return De}function S0(){return De=bt>0?We(Wr,--bt):0,Mr--,De===10&&(Mr=1,za--),De}function $t(){return De=bt<Om?We(Wr,bt++):0,Mr++,De===10&&(Mr=1,za++),De}function rr(){return We(Wr,bt)}function ka(){return bt}function Ba(n,r){return $r(Wr,n,r)}function mu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C0(n){return za=Mr=1,Om=qt(Wr=n),bt=0,[]}function j0(n){return Wr="",n}function nu(n){return Lm(Ba(bt-1,hu(n===91?n+2:n===40?n+1:n)))}function N0(n){for(;(De=rr())&&De<33;)$t();return mu(n)>2||mu(De)>3?"":" "}function b0(n,r){for(;--r&&$t()&&!(De<48||De>102||De>57&&De<65||De>70&&De<97););return Ba(n,ka()+(r<6&&rr()==32&&$t()==32))}function hu(n){for(;$t();)switch(De){case n:return bt;case 34:case 39:n!==34&&n!==39&&hu(De);break;case 40:n===41&&hu(n);break;case 92:$t();break}return bt}function R0(n,r){for(;$t()&&n+De!==57;)if(n+De===84&&rr()===47)break;return"/*"+Ba(r,bt-1)+"*"+Tu(n===47?n:$t())}function P0(n){for(;!mu(rr());)$t();return Ba(n,bt)}function _0(n){return j0(Sa("",null,null,null,[""],n=C0(n),0,[0],n))}function Sa(n,r,o,a,s,c,f,p,v){for(var g=0,y=0,w=f,k=0,R=0,b=0,L=1,V=1,O=1,T=0,A="",z=s,G=c,Z=a,B=A;V;)switch(b=T,T=$t()){case 40:if(b!=108&&We(B,w-1)==58){wa(B+=se(nu(T),"&","&\f"),"&\f",_m(g?p[g-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:B+=nu(T);break;case 9:case 10:case 13:case 32:B+=N0(b);break;case 92:B+=b0(ka()-1,7);continue;case 47:switch(rr()){case 42:case 47:Di(L0(R0($t(),ka()),r,o,v),v);break;default:B+="/"}break;case 123*L:p[g++]=qt(B)*O;case 125*L:case 59:case 0:switch(T){case 0:case 125:V=0;case 59+y:O==-1&&(B=se(B,/\f/g,"")),R>0&&qt(B)-w&&Di(R>32?mp(B+";",a,o,w-1,v):mp(se(B," ","")+";",a,o,w-2,v),v);break;case 59:B+=";";default:if(Di(Z=pp(B,r,o,g,y,s,p,A,z=[],G=[],w,c),c),T===123)if(y===0)Sa(B,r,Z,Z,z,c,w,p,G);else switch(k===99&&We(B,3)===110?100:k){case 100:case 108:case 109:case 115:Sa(n,Z,Z,a&&Di(pp(n,Z,Z,0,0,s,p,A,s,z=[],w,G),G),s,G,w,p,a?z:G);break;default:Sa(B,Z,Z,Z,[""],G,0,p,G)}}g=y=R=0,L=O=1,A=B="",w=f;break;case 58:w=1+qt(B),R=b;default:if(L<1){if(T==123)--L;else if(T==125&&L++==0&&S0()==125)continue}switch(B+=Tu(T),T*L){case 38:O=y>0?1:(B+="\f",-1);break;case 44:p[g++]=(qt(B)-1)*O,O=1;break;case 64:rr()===45&&(B+=nu($t())),k=rr(),y=w=qt(A=B+=P0(ka())),T++;break;case 45:b===45&&qt(B)==2&&(L=0)}}return c}function pp(n,r,o,a,s,c,f,p,v,g,y,w){for(var k=s-1,R=s===0?c:[""],b=Vm(R),L=0,V=0,O=0;L<a;++L)for(var T=0,A=$r(n,k+1,k=_m(V=f[L])),z=n;T<b;++T)(z=Lm(V>0?R[T]+" "+A:se(A,/&\f/g,R[T])))&&(v[O++]=z);return Ua(n,r,o,s===0?Fa:p,v,g,y,w)}function L0(n,r,o,a){return Ua(n,r,o,Rm,Tu(k0()),$r(n,2,-2),0,a)}function mp(n,r,o,a,s){return Ua(n,r,o,Iu,$r(n,0,a),$r(n,a+1,-1),a,s)}function Am(n,r,o){switch(E0(n,r)){case 5103:return xe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xe+n+n;case 4789:return zi+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return xe+n+zi+n+Ne+n+n;case 5936:switch(We(n,r+11)){case 114:return xe+n+Ne+se(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return xe+n+Ne+se(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return xe+n+Ne+se(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return xe+n+Ne+n+n;case 6165:return xe+n+Ne+"flex-"+n+n;case 5187:return xe+n+se(n,/(\w+).+(:[^]+)/,xe+"box-$1$2"+Ne+"flex-$1$2")+n;case 5443:return xe+n+Ne+"flex-item-"+se(n,/flex-|-self/g,"")+(sn(n,/flex-|baseline/)?"":Ne+"grid-row-"+se(n,/flex-|-self/g,""))+n;case 4675:return xe+n+Ne+"flex-line-pack"+se(n,/align-content|flex-|-self/g,"")+n;case 5548:return xe+n+Ne+se(n,"shrink","negative")+n;case 5292:return xe+n+Ne+se(n,"basis","preferred-size")+n;case 6060:return xe+"box-"+se(n,"-grow","")+xe+n+Ne+se(n,"grow","positive")+n;case 4554:return xe+se(n,/([^-])(transform)/g,"$1"+xe+"$2")+n;case 6187:return se(se(se(n,/(zoom-|grab)/,xe+"$1"),/(image-set)/,xe+"$1"),n,"")+n;case 5495:case 3959:return se(n,/(image-set\([^]*)/,xe+"$1$`$1");case 4968:return se(se(n,/(.+:)(flex-)?(.*)/,xe+"box-pack:$3"+Ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xe+n+n;case 4200:if(!sn(n,/flex-|baseline/))return Ne+"grid-column-align"+$r(n,r)+n;break;case 2592:case 3360:return Ne+se(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(a,s){return r=s,sn(a.props,/grid-\w+-end/)})?~wa(n+(o=o[r].value),"span",0)?n:Ne+se(n,"-start","")+n+Ne+"grid-row-span:"+(~wa(o,"span",0)?sn(o,/\d+/):+sn(o,/\d+/)-+sn(n,/\d+/))+";":Ne+se(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(a){return sn(a.props,/grid-\w+-start/)})?n:Ne+se(se(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return se(n,/(.+)-inline(.+)/,xe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qt(n)-1-r>6)switch(We(n,r+1)){case 109:if(We(n,r+4)!==45)break;case 102:return se(n,/(.+:)(.+)-([^]+)/,"$1"+xe+"$2-$3$1"+zi+(We(n,r+3)==108?"$3":"$2-$3"))+n;case 115:return~wa(n,"stretch",0)?Am(se(n,"stretch","fill-available"),r,o)+n:n}break;case 5152:case 5920:return se(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,s,c,f,p,v,g){return Ne+s+":"+c+g+(f?Ne+s+"-span:"+(p?v:+v-+c)+g:"")+n});case 4949:if(We(n,r+6)===121)return se(n,":",":"+xe)+n;break;case 6444:switch(We(n,We(n,14)===45?18:11)){case 120:return se(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+xe+(We(n,14)===45?"inline-":"")+"box$3$1"+xe+"$2$3$1"+Ne+"$2box$3")+n;case 100:return se(n,":",":"+Ne)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return se(n,"scroll-","scroll-snap-")+n}return n}function Va(n,r){for(var o="",a=0;a<n.length;a++)o+=r(n[a],a,n,r)||"";return o}function V0(n,r,o,a){switch(n.type){case y0:if(n.children.length)break;case x0:case Iu:return n.return=n.return||n.value;case Rm:return"";case Pm:return n.return=n.value+"{"+Va(n.children,a)+"}";case Fa:if(!qt(n.value=n.props.join(",")))return""}return qt(o=Va(n.children,a))?n.return=n.value+"{"+o+"}":""}function O0(n){var r=Vm(n);return function(o,a,s,c){for(var f="",p=0;p<r;p++)f+=n[p](o,a,s,c)||"";return f}}function A0(n){return function(r){r.root||(r=r.return)&&n(r)}}function I0(n,r,o,a){if(n.length>-1&&!n.return)switch(n.type){case Iu:n.return=Am(n.value,n.length,o);return;case Pm:return Va([Tn(n,{value:se(n.value,"@","@"+xe)})],a);case Fa:if(n.length)return w0(o=n.props,function(s){switch(sn(s,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ir(Tn(n,{props:[se(s,/:(read-\w+)/,":"+zi+"$1")]})),Ir(Tn(n,{props:[s]})),pu(n,{props:fp(o,a)});break;case"::placeholder":Ir(Tn(n,{props:[se(s,/:(plac\w+)/,":"+xe+"input-$1")]})),Ir(Tn(n,{props:[se(s,/:(plac\w+)/,":"+zi+"$1")]})),Ir(Tn(n,{props:[se(s,/:(plac\w+)/,Ne+"input-$1")]})),Ir(Tn(n,{props:[s]})),pu(n,{props:fp(o,a)});break}return""})}}var T0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vt={},Dr=typeof process<"u"&&vt!==void 0&&(vt.REACT_APP_SC_ATTR||vt.SC_ATTR)||"data-styled",Im="active",Tm="data-styled-version",Ka="6.1.17",$u=`/*!sc*/
`,Oa=typeof window<"u"&&"HTMLElement"in window,$0=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&vt!==void 0&&vt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&vt.REACT_APP_SC_DISABLE_SPEEDY!==""?vt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&vt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&vt!==void 0&&vt.SC_DISABLE_SPEEDY!==void 0&&vt.SC_DISABLE_SPEEDY!==""&&vt.SC_DISABLE_SPEEDY!=="false"&&vt.SC_DISABLE_SPEEDY),Wa=Object.freeze([]),Fr=Object.freeze({});function M0(n,r,o){return o===void 0&&(o=Fr),n.theme!==o.theme&&n.theme||r||o.theme}var $m=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),D0=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,F0=/(^-|-$)/g;function hp(n){return n.replace(D0,"-").replace(F0,"")}var z0=/(a)(d)/gi,fa=52,vp=function(n){return String.fromCharCode(n+(n>25?39:97))};function vu(n){var r,o="";for(r=Math.abs(n);r>fa;r=r/fa|0)o=vp(r%fa)+o;return(vp(r%fa)+o).replace(z0,"$1-$2")}var ru,Mm=5381,Tr=function(n,r){for(var o=r.length;o;)n=33*n^r.charCodeAt(--o);return n},Dm=function(n){return Tr(Mm,n)};function U0(n){return vu(Dm(n)>>>0)}function B0(n){return n.displayName||n.name||"Component"}function iu(n){return typeof n=="string"&&!0}var Fm=typeof Symbol=="function"&&Symbol.for,zm=Fm?Symbol.for("react.memo"):60115,K0=Fm?Symbol.for("react.forward_ref"):60112,W0={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H0={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Um={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q0=((ru={})[K0]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ru[zm]=Um,ru);function gp(n){return("type"in(r=n)&&r.type.$$typeof)===zm?Um:"$$typeof"in n?q0[n.$$typeof]:W0;var r}var Q0=Object.defineProperty,Y0=Object.getOwnPropertyNames,xp=Object.getOwnPropertySymbols,G0=Object.getOwnPropertyDescriptor,J0=Object.getPrototypeOf,yp=Object.prototype;function Bm(n,r,o){if(typeof r!="string"){if(yp){var a=J0(r);a&&a!==yp&&Bm(n,a,o)}var s=Y0(r);xp&&(s=s.concat(xp(r)));for(var c=gp(n),f=gp(r),p=0;p<s.length;++p){var v=s[p];if(!(v in H0||o&&o[v]||f&&v in f||c&&v in c)){var g=G0(r,v);try{Q0(n,v,g)}catch{}}}}return n}function zr(n){return typeof n=="function"}function Mu(n){return typeof n=="object"&&"styledComponentId"in n}function nr(n,r){return n&&r?"".concat(n," ").concat(r):n||r||""}function Ep(n,r){if(n.length===0)return"";for(var o=n[0],a=1;a<n.length;a++)o+=n[a];return o}function Ki(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function gu(n,r,o){if(o===void 0&&(o=!1),!o&&!Ki(n)&&!Array.isArray(n))return r;if(Array.isArray(r))for(var a=0;a<r.length;a++)n[a]=gu(n[a],r[a]);else if(Ki(r))for(var a in r)n[a]=gu(n[a],r[a]);return n}function Du(n,r){Object.defineProperty(n,"toString",{value:r})}function Yi(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var X0=function(){function n(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return n.prototype.indexOfGroup=function(r){for(var o=0,a=0;a<r;a++)o+=this.groupSizes[a];return o},n.prototype.insertRules=function(r,o){if(r>=this.groupSizes.length){for(var a=this.groupSizes,s=a.length,c=s;r>=c;)if((c<<=1)<0)throw Yi(16,"".concat(r));this.groupSizes=new Uint32Array(c),this.groupSizes.set(a),this.length=c;for(var f=s;f<c;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(r+1),v=(f=0,o.length);f<v;f++)this.tag.insertRule(p,o[f])&&(this.groupSizes[r]++,p++)},n.prototype.clearGroup=function(r){if(r<this.length){var o=this.groupSizes[r],a=this.indexOfGroup(r),s=a+o;this.groupSizes[r]=0;for(var c=a;c<s;c++)this.tag.deleteRule(a)}},n.prototype.getGroup=function(r){var o="";if(r>=this.length||this.groupSizes[r]===0)return o;for(var a=this.groupSizes[r],s=this.indexOfGroup(r),c=s+a,f=s;f<c;f++)o+="".concat(this.tag.getRule(f)).concat($u);return o},n}(),Ca=new Map,Aa=new Map,ja=1,pa=function(n){if(Ca.has(n))return Ca.get(n);for(;Aa.has(ja);)ja++;var r=ja++;return Ca.set(n,r),Aa.set(r,n),r},Z0=function(n,r){ja=r+1,Ca.set(n,r),Aa.set(r,n)},ex="style[".concat(Dr,"][").concat(Tm,'="').concat(Ka,'"]'),tx=new RegExp("^".concat(Dr,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),nx=function(n,r,o){for(var a,s=o.split(","),c=0,f=s.length;c<f;c++)(a=s[c])&&n.registerName(r,a)},rx=function(n,r){for(var o,a=((o=r.textContent)!==null&&o!==void 0?o:"").split($u),s=[],c=0,f=a.length;c<f;c++){var p=a[c].trim();if(p){var v=p.match(tx);if(v){var g=0|parseInt(v[1],10),y=v[2];g!==0&&(Z0(y,g),nx(n,y,v[3]),n.getTag().insertRules(g,s)),s.length=0}else s.push(p)}}},wp=function(n){for(var r=document.querySelectorAll(ex),o=0,a=r.length;o<a;o++){var s=r[o];s&&s.getAttribute(Dr)!==Im&&(rx(n,s),s.parentNode&&s.parentNode.removeChild(s))}};function ix(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Km=function(n){var r=document.head,o=n||r,a=document.createElement("style"),s=function(p){var v=Array.from(p.querySelectorAll("style[".concat(Dr,"]")));return v[v.length-1]}(o),c=s!==void 0?s.nextSibling:null;a.setAttribute(Dr,Im),a.setAttribute(Tm,Ka);var f=ix();return f&&a.setAttribute("nonce",f),o.insertBefore(a,c),a},ox=function(){function n(r){this.element=Km(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,s=0,c=a.length;s<c;s++){var f=a[s];if(f.ownerNode===o)return f}throw Yi(17)}(this.element),this.length=0}return n.prototype.insertRule=function(r,o){try{return this.sheet.insertRule(o,r),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},n.prototype.getRule=function(r){var o=this.sheet.cssRules[r];return o&&o.cssText?o.cssText:""},n}(),ax=function(){function n(r){this.element=Km(r),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(r,o){if(r<=this.length&&r>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[r]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},n.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},n}(),lx=function(){function n(r){this.rules=[],this.length=0}return n.prototype.insertRule=function(r,o){return r<=this.length&&(this.rules.splice(r,0,o),this.length++,!0)},n.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},n.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},n}(),kp=Oa,sx={isServer:!Oa,useCSSOMInjection:!$0},Wm=function(){function n(r,o,a){r===void 0&&(r=Fr),o===void 0&&(o={});var s=this;this.options=ct(ct({},sx),r),this.gs=o,this.names=new Map(a),this.server=!!r.isServer,!this.server&&Oa&&kp&&(kp=!1,wp(this)),Du(this,function(){return function(c){for(var f=c.getTag(),p=f.length,v="",g=function(w){var k=function(O){return Aa.get(O)}(w);if(k===void 0)return"continue";var R=c.names.get(k),b=f.getGroup(w);if(R===void 0||!R.size||b.length===0)return"continue";var L="".concat(Dr,".g").concat(w,'[id="').concat(k,'"]'),V="";R!==void 0&&R.forEach(function(O){O.length>0&&(V+="".concat(O,","))}),v+="".concat(b).concat(L,'{content:"').concat(V,'"}').concat($u)},y=0;y<p;y++)g(y);return v}(s)})}return n.registerId=function(r){return pa(r)},n.prototype.rehydrate=function(){!this.server&&Oa&&wp(this)},n.prototype.reconstructWithOptions=function(r,o){return o===void 0&&(o=!0),new n(ct(ct({},this.options),r),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(r=function(o){var a=o.useCSSOMInjection,s=o.target;return o.isServer?new lx(s):a?new ox(s):new ax(s)}(this.options),new X0(r)));var r},n.prototype.hasNameForId=function(r,o){return this.names.has(r)&&this.names.get(r).has(o)},n.prototype.registerName=function(r,o){if(pa(r),this.names.has(r))this.names.get(r).add(o);else{var a=new Set;a.add(o),this.names.set(r,a)}},n.prototype.insertRules=function(r,o,a){this.registerName(r,o),this.getTag().insertRules(pa(r),a)},n.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},n.prototype.clearRules=function(r){this.getTag().clearGroup(pa(r)),this.clearNames(r)},n.prototype.clearTag=function(){this.tag=void 0},n}(),ux=/&/g,cx=/^\s*\/\/.*$/gm;function Hm(n,r){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(r," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(r," ")),o.props=o.props.map(function(a){return"".concat(r," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Hm(o.children,r)),o})}function dx(n){var r,o,a,s=Fr,c=s.options,f=c===void 0?Fr:c,p=s.plugins,v=p===void 0?Wa:p,g=function(k,R,b){return b.startsWith(o)&&b.endsWith(o)&&b.replaceAll(o,"").length>0?".".concat(r):k},y=v.slice();y.push(function(k){k.type===Fa&&k.value.includes("&")&&(k.props[0]=k.props[0].replace(ux,o).replace(a,g))}),f.prefix&&y.push(I0),y.push(V0);var w=function(k,R,b,L){R===void 0&&(R=""),b===void 0&&(b=""),L===void 0&&(L="&"),r=L,o=R,a=new RegExp("\\".concat(o,"\\b"),"g");var V=k.replace(cx,""),O=_0(b||R?"".concat(b," ").concat(R," { ").concat(V," }"):V);f.namespace&&(O=Hm(O,f.namespace));var T=[];return Va(O,O0(y.concat(A0(function(A){return T.push(A)})))),T};return w.hash=v.length?v.reduce(function(k,R){return R.name||Yi(15),Tr(k,R.name)},Mm).toString():"",w}var fx=new Wm,xu=dx(),qm=ie.createContext({shouldForwardProp:void 0,styleSheet:fx,stylis:xu});qm.Consumer;ie.createContext(void 0);function Sp(){return j.useContext(qm)}var px=function(){function n(r,o){var a=this;this.inject=function(s,c){c===void 0&&(c=xu);var f=a.name+c.hash;s.hasNameForId(a.id,f)||s.insertRules(a.id,f,c(a.rules,f,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=o,Du(this,function(){throw Yi(12,String(a.name))})}return n.prototype.getName=function(r){return r===void 0&&(r=xu),this.name+r.hash},n}(),mx=function(n){return n>="A"&&n<="Z"};function Cp(n){for(var r="",o=0;o<n.length;o++){var a=n[o];if(o===1&&a==="-"&&n[0]==="-")return n;mx(a)?r+="-"+a.toLowerCase():r+=a}return r.startsWith("ms-")?"-"+r:r}var Qm=function(n){return n==null||n===!1||n===""},Ym=function(n){var r,o,a=[];for(var s in n){var c=n[s];n.hasOwnProperty(s)&&!Qm(c)&&(Array.isArray(c)&&c.isCss||zr(c)?a.push("".concat(Cp(s),":"),c,";"):Ki(c)?a.push.apply(a,La(La(["".concat(s," {")],Ym(c),!1),["}"],!1)):a.push("".concat(Cp(s),": ").concat((r=s,(o=c)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||r in T0||r.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function ir(n,r,o,a){if(Qm(n))return[];if(Mu(n))return[".".concat(n.styledComponentId)];if(zr(n)){if(!zr(c=n)||c.prototype&&c.prototype.isReactComponent||!r)return[n];var s=n(r);return ir(s,r,o,a)}var c;return n instanceof px?o?(n.inject(o,a),[n.getName(a)]):[n]:Ki(n)?Ym(n):Array.isArray(n)?Array.prototype.concat.apply(Wa,n.map(function(f){return ir(f,r,o,a)})):[n.toString()]}function hx(n){for(var r=0;r<n.length;r+=1){var o=n[r];if(zr(o)&&!Mu(o))return!1}return!0}var vx=Dm(Ka),gx=function(){function n(r,o,a){this.rules=r,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&hx(r),this.componentId=o,this.baseHash=Tr(vx,o),this.baseStyle=a,Wm.registerId(o)}return n.prototype.generateAndInjectStyles=function(r,o,a){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))s=nr(s,this.staticRulesId);else{var c=Ep(ir(this.rules,r,o,a)),f=vu(Tr(this.baseHash,c)>>>0);if(!o.hasNameForId(this.componentId,f)){var p=a(c,".".concat(f),void 0,this.componentId);o.insertRules(this.componentId,f,p)}s=nr(s,f),this.staticRulesId=f}else{for(var v=Tr(this.baseHash,a.hash),g="",y=0;y<this.rules.length;y++){var w=this.rules[y];if(typeof w=="string")g+=w;else if(w){var k=Ep(ir(w,r,o,a));v=Tr(v,k+y),g+=k}}if(g){var R=vu(v>>>0);o.hasNameForId(this.componentId,R)||o.insertRules(this.componentId,R,a(g,".".concat(R),void 0,this.componentId)),s=nr(s,R)}}return s},n}(),Gm=ie.createContext(void 0);Gm.Consumer;var ou={};function xx(n,r,o){var a=Mu(n),s=n,c=!iu(n),f=r.attrs,p=f===void 0?Wa:f,v=r.componentId,g=v===void 0?function(z,G){var Z=typeof z!="string"?"sc":hp(z);ou[Z]=(ou[Z]||0)+1;var B="".concat(Z,"-").concat(U0(Ka+Z+ou[Z]));return G?"".concat(G,"-").concat(B):B}(r.displayName,r.parentComponentId):v,y=r.displayName,w=y===void 0?function(z){return iu(z)?"styled.".concat(z):"Styled(".concat(B0(z),")")}(n):y,k=r.displayName&&r.componentId?"".concat(hp(r.displayName),"-").concat(r.componentId):r.componentId||g,R=a&&s.attrs?s.attrs.concat(p).filter(Boolean):p,b=r.shouldForwardProp;if(a&&s.shouldForwardProp){var L=s.shouldForwardProp;if(r.shouldForwardProp){var V=r.shouldForwardProp;b=function(z,G){return L(z,G)&&V(z,G)}}else b=L}var O=new gx(o,k,a?s.componentStyle:void 0);function T(z,G){return function(Z,B,ye){var we=Z.attrs,$e=Z.componentStyle,xt=Z.defaultProps,yt=Z.foldedComponentIds,tt=Z.styledComponentId,dt=Z.target,Et=ie.useContext(Gm),Ye=Sp(),ke=Z.shouldForwardProp||Ye.shouldForwardProp,U=M0(B,Et,xt)||Fr,J=function(fe,ce,ge){for(var pe,he=ct(ct({},ce),{className:void 0,theme:ge}),He=0;He<fe.length;He+=1){var Xt=zr(pe=fe[He])?pe(he):pe;for(var Rt in Xt)he[Rt]=Rt==="className"?nr(he[Rt],Xt[Rt]):Rt==="style"?ct(ct({},he[Rt]),Xt[Rt]):Xt[Rt]}return ce.className&&(he.className=nr(he.className,ce.className)),he}(we,B,U),K=J.as||dt,C={};for(var I in J)J[I]===void 0||I[0]==="$"||I==="as"||I==="theme"&&J.theme===U||(I==="forwardedAs"?C.as=J.forwardedAs:ke&&!ke(I,K)||(C[I]=J[I]));var oe=function(fe,ce){var ge=Sp(),pe=fe.generateAndInjectStyles(ce,ge.styleSheet,ge.stylis);return pe}($e,J),ae=nr(yt,tt);return oe&&(ae+=" "+oe),J.className&&(ae+=" "+J.className),C[iu(K)&&!$m.has(K)?"class":"className"]=ae,ye&&(C.ref=ye),j.createElement(K,C)}(A,z,G)}T.displayName=w;var A=ie.forwardRef(T);return A.attrs=R,A.componentStyle=O,A.displayName=w,A.shouldForwardProp=b,A.foldedComponentIds=a?nr(s.foldedComponentIds,s.styledComponentId):"",A.styledComponentId=k,A.target=a?s.target:n,Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(z){this._foldedDefaultProps=a?function(G){for(var Z=[],B=1;B<arguments.length;B++)Z[B-1]=arguments[B];for(var ye=0,we=Z;ye<we.length;ye++)gu(G,we[ye],!0);return G}({},s.defaultProps,z):z}}),Du(A,function(){return".".concat(A.styledComponentId)}),c&&Bm(A,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),A}function jp(n,r){for(var o=[n[0]],a=0,s=r.length;a<s;a+=1)o.push(r[a],n[a+1]);return o}var Np=function(n){return Object.assign(n,{isCss:!0})};function Ur(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(zr(n)||Ki(n))return Np(ir(jp(Wa,La([n],r,!0))));var a=n;return r.length===0&&a.length===1&&typeof a[0]=="string"?ir(a):Np(ir(jp(a,r)))}function yu(n,r,o){if(o===void 0&&(o=Fr),!r)throw Yi(1,r);var a=function(s){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return n(r,o,Ur.apply(void 0,La([s],c,!1)))};return a.attrs=function(s){return yu(n,r,ct(ct({},o),{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},a.withConfig=function(s){return yu(n,r,ct(ct({},o),s))},a}var Jm=function(n){return yu(xx,n)},le=Jm;$m.forEach(function(n){le[n]=Jm(n)});var au={exports:{}},Ii={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function yx(){if(bp)return Ii;bp=1;var n=Au(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,v,g){var y,w={},k=null,R=null;g!==void 0&&(k=""+g),v.key!==void 0&&(k=""+v.key),v.ref!==void 0&&(R=v.ref);for(y in v)a.call(v,y)&&!c.hasOwnProperty(y)&&(w[y]=v[y]);if(p&&p.defaultProps)for(y in v=p.defaultProps,v)w[y]===void 0&&(w[y]=v[y]);return{$$typeof:r,type:p,key:k,ref:R,props:w,_owner:s.current}}return Ii.Fragment=o,Ii.jsx=f,Ii.jsxs=f,Ii}var Rp;function Ex(){return Rp||(Rp=1,au.exports=yx()),au.exports}var m=Ex(),wx=Object.defineProperty,kx=(n,r)=>{for(var o in r)wx(n,o,{get:r[o],enumerable:!0})},X=class extends Error{constructor(r,o,a,s){super(Fu(r,o,a,s));Ve(this,"name");Ve(this,"info");this.name=r,this.info=a}},Fu=(n,r,o,a)=>{var f;const s={SyntaxError:"Erreur syntaxique",EvaluationError:"Erreur d'évaluation",SituationError:"Erreur lors de la mise à jour de la situation",UnknownRule:"Règle inconnue",PrivateRule:"Règle privée"},c=/error/i.test(n);return`
[ ${s[n]??n} ]`+(o&&"dottedName"in o&&((f=o.dottedName)!=null&&f.length)?`
➡️  Dans la règle "${o.dottedName}"`:"")+`
${c?"✖️":"⚠️"}  ${r}`+(a?`
`+(c?"    ":"ℹ️  ")+a.message:"")},Ha=class extends X{constructor(n){super("InternalError",`
Erreur interne du moteur.

Cette erreur est le signe d'un bug dans publicodes. Pour nous aider à le résoudre, vous pouvez copier ce texte dans un nouveau ticket : https://github.com/betagouv/mon-entreprise/issues/new.

payload:
${JSON.stringify(n,null,2)}
`,n)}},Sx=class extends Ha{constructor(n){super({type:"UNREACHABLE_CODE",value:n})}};function un(n,r,o,a){n.warn[o]&&n.logger.warn(Fu("Avertissement",r,{dottedName:n.evaluatedRule??n.dottedName},a))}function Pp(n,r){n.warn.experimentalRules&&n.logger.warn(Fu("Avertissement",`Cette règle est tagguée comme experimentale. 

Cela veut dire qu'elle peut être modifiée, renommée, ou supprimée sans qu'il n'y ait de changement de version majeure dans l'API.
`,{dottedName:r}))}function _p(n,r,o){if(n.has(r)){n.get(r).add(o);return}n.set(r,new Set([o]))}function Cx(n,r){return Object.entries(r).reduce((o,[a,s])=>({...o,[a]:[...o[a]??[],...s]}),n)}var Re=n=>{const r={};for(const o in n)r[o]=n[o];return r};function Wi(n,r=!0){function o(a){const s=n(a,o);return s===!1?a:s===void 0?Ia(o,a):r?s:Ia(o,s)}return o}function Xm(n){function r(a){switch(n(a,r)){case"continue":Ia(o,a);return;case"stop":return}}const o=a=>(r(a),a);return r}function jx(n,r,o){function a(s,c){const f=n(s,c,a.bind(null,r));return f===void 0?Nx(c).reduce(a,s):f}return a(r,o)}function Nx(n){const r=[];return Ia(o=>(r.push(o),o),n),r}function bx(n,r){const o={};for(const a in r)o[a]=n(r[a]);return o}var Ia=(n,r)=>{switch(r=Rx(n,r),r.nodeKind){case"rule":return Px(n,r);case"reference":case"constant":return r;case"arrondi":return $x(n,r);case"simplifier unité":case"variable manquante":case"est non applicable":case"est non défini":case"logarithme":return Lx(n,r);case"barème":case"taux progressif":case"grille":return Ox(n,r);case"durée":return Ix(n,r);case"résoudre référence circulaire":return Mx(n,r);case"inversion":return Tx(n,r);case"operation":return Ax(n,r);case"une possibilité":return Kx(n,r);case"contexte":return Fx(n,r);case"unité":return zx(n,r);case"variations":return Ux(n,r);case"replacementRule":return _x(n,r);case"texte":return Dx(n,r);case"condition":return Bx(n,r);default:throw new Sx(r)}},Rx=(n,r)=>{if(!("sourceMap"in r)||!r.sourceMap||!r.sourceMap.args)return r;const o=r.sourceMap,a={};for(const s in o.args){const c=o.args[s];a[s]=Array.isArray(c)?c.map(f=>n(f)):n(c)}return{...r,sourceMap:{...o,args:a}}},Px=(n,r)=>{const o=Re(r);o.suggestions={};for(const a in r.suggestions)o.suggestions[a]=n(r.suggestions[a]);return o.possibilities&&(o.possibilities=n(o.possibilities)),o.replacements=r.replacements.map(n),o.explanation={ruleDisabledByItsParent:r.explanation.ruleDisabledByItsParent,nullableParent:r.explanation.nullableParent?n(r.explanation.nullableParent):void 0,parents:r.explanation.parents.map(n),valeur:n(r.explanation.valeur)},o},_x=(n,r)=>({...r,definitionRule:n(r.definitionRule),replacedReference:n(r.replacedReference),whiteListedNames:r.whiteListedNames.map(n),blackListedNames:r.blackListedNames.map(n)}),Lx=(n,r)=>{const o=Re(r);return o.explanation=n(r.explanation),o};function Vx(n,r){return r.map(o=>({...o,...o.plafond&&{plafond:n(o.plafond)},..."montant"in o&&{montant:n(o.montant)},..."taux"in o&&{taux:n(o.taux)}}))}var Ox=(n,r)=>{const o=Re(r);return o.explanation={assiette:n(r.explanation.assiette),multiplicateur:n(r.explanation.multiplicateur),tranches:Vx(n,r.explanation.tranches)},o},Ax=(n,r)=>{const o=Re(r);return o.explanation=[n(r.explanation[0]),n(r.explanation[1])],o},Ix=(n,r)=>{const o=Re(r);return o.explanation={depuis:n(r.explanation.depuis),"jusqu'à":n(r.explanation["jusqu'à"])},o},Tx=(n,r)=>{const o=Re(r);return o.explanation={...r.explanation,inversionCandidates:r.explanation.inversionCandidates.map(n)},o},$x=(n,r)=>{const o=Re(r);return o.explanation={valeur:n(r.explanation.valeur),arrondi:n(r.explanation.arrondi)},o},Mx=(n,r)=>{const o=Re(r);return o.explanation={...r.explanation,valeur:n(r.explanation.valeur)},o},Dx=(n,r)=>{const o=Re(r);return o.explanation=r.explanation.map(a=>typeof a=="string"?a:n(a)),o},Fx=(n,r)=>{const o=Re(r);return o.explanation={...o.explanation,contexte:r.explanation.contexte.map(([a,s])=>[n(a),n(s)]),valeur:n(r.explanation.valeur)},o},zx=(n,r)=>{const o=Re(r);return o.explanation=n(r.explanation),o},Ux=(n,r)=>{const o=Re(r);return o.explanation=r.explanation.map(({condition:a,consequence:s})=>({condition:n(a),consequence:s&&n(s)})),o},Bx=(n,r)=>{const o=Re(r);return o.explanation={si:n(r.explanation.si),alors:n(r.explanation.alors),sinon:n(r.explanation.sinon)},o},Kx=(n,r)=>{const o=Re(r);return o.explanation=r.explanation.map(a=>{const s=n(a);return s.notApplicable=n(a.notApplicable),s}),o},Ui={constant:n=>n};function Te(n,r){if(Ui??(Ui={}),Ui[n])throw new X("EvaluationError",`Multiple evaluation functions registered for the nodeKind \x1B[4m${n}`,{dottedName:""});Ui[n]=r}var Lp={isNullable:void 0,type:void 0};function Wx(n,r,o){function a(c){if(!c||typeof c!="object")return Lp;if(o.has(c))return o.get(c);o.set(c,Lp);const f=s(c);return o.set(c,f),f}function s(c){switch(c.nodeKind){case"barème":case"durée":case"grille":case"taux progressif":case"inversion":case"résoudre référence circulaire":return{isNullable:!1,type:"number"};case"est non défini":case"est non applicable":return{isNullable:!1,type:"boolean"};case"constant":return{isNullable:c.isNullable??c.nodeValue===null,type:c.type};case"operation":return{isNullable:["<","<=",">",">=","/","*"].includes(c.operationKind)?a(c.explanation[0]).isNullable||a(c.explanation[1]).isNullable:c.operationKind==="-"?a(c.explanation[0]).isNullable:!1,type:["<","<=",">",">=","=","!=","et","ou"].includes(c.operationKind)?"boolean":"number"};case"replacementRule":return{isNullable:!1,type:void 0};case"texte":return{isNullable:!1,type:"string"};case"arrondi":return{type:"number",isNullable:a(c.explanation.valeur).isNullable};case"logarithme":return{type:"number",isNullable:a(c.explanation).isNullable};case"contexte":return a(c.explanation.valeur);case"une possibilité":return c.type==="reference"?{isNullable:c.explanation.every(f=>a(f).isNullable),type:"string"}:{isNullable:!1,type:c.type};case"rule":{const f=a(c.explanation.valeur);if(c.possibilities){const v=a(c.possibilities);return{isNullable:f.isNullable||v.isNullable,type:v.type}}if(f.type!==void 0)return f;let p=c.rawNode.type==="nombre"?"number":c.rawNode.type==="texte"?"string":c.rawNode.type==="date"?"date":c.rawNode.type==="booléen"?"boolean":void 0;return!p&&c.rawNode.question&&(p="boolean"),{isNullable:f.isNullable,type:p}}case"unité":case"simplifier unité":return{type:"number",isNullable:a(c.explanation).isNullable};case"variable manquante":return a(c.explanation);case"condition":return{isNullable:[c.explanation.si,c.explanation.alors,c.explanation.sinon].some(f=>a(f).isNullable),type:a(c.explanation.alors).type??a(c.explanation.sinon).type};case"variations":{const f=c.explanation.map(({consequence:p})=>a(p));return{isNullable:f.some(p=>p.isNullable),type:f.map(p=>p.type).find(p=>p!==void 0)}}case"reference":return a(r[c.dottedName])}}return n.forEach(c=>{const f=r[c];a(f),f.explanation.parents.forEach(a)}),o}var Hx=n=>"missingVariables"in n?n.missingVariables:{},Zm=(n={})=>Object.fromEntries(Object.entries(n).map(([r,o])=>[r,o+1])),cn=(n={},r={})=>Object.fromEntries([...Object.keys(n),...Object.keys(r)].map(o=>[o,(n[o]??0)+(r[o]??0)])),gt=n=>n.map(Hx).reduce(cn,{}),Yt=n=>({nodeValue:n,type:typeof n,isDefault:!0,nodeKind:"constant"}),lr={nodeKind:"constant",nodeValue:null,missingVariables:{},type:void 0,isNullable:!0},eh={nodeKind:"constant",nodeValue:void 0,missingVariables:{},type:void 0,isNullable:!1},Ta={...eh,type:"number"};function pn(n,r,o){let a,s;function c(f,p){a??(a=re(o,qi({dottedName:"INLINE_MECANISM"}))),s??(s={});for(const y in r)"par défaut"in r[y]&&(s[y]=re(r[y]["par défaut"],qi({})));Object.keys(r).length===1&&"valeur"in r&&(f={valeur:f});const v={};for(const y in f)v[y]=re(f[y],p);const g=Wi(y=>{if(y.nodeKind!=="reference"||!(y.name in r))return;const w=y.name;if(w in v)return v[w];if(w in s)return s[w];throw new X("SyntaxError",`Il manque la clé '${w} dans le mécanisme ${n}`,{dottedName:w})})(a);return g.sourceMap={mecanismName:n,args:v},g}return c.nom=n,Object.assign(c,"name",{value:`parse${th(n)}Inline`})}function sr(n,r,o){function a(s,c){Object.keys(r).length===1&&"valeur"in r&&(s={valeur:s});const f={};for(const v in s){const g=s[v];f[v]=Array.isArray(g)?g.map(y=>re(y,c)):re(g,c)}const p=re(o(f),c);return p.sourceMap={mecanismName:n,args:f},p}return a.nom=n,Object.assign(a,"name",{value:`parse${th(n)}Inline`})}function th(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,r=>r.toUpperCase()).replace(/\s+/g,"")}var qx=pn("abattement",{abattement:{},valeur:{}},{"-":["valeur","abattement"],plancher:0}),Qx=pn("applicable si",{"applicable si":{},valeur:{}},{condition:{si:"applicable si != non",alors:"valeur",sinon:lr}});function Qt(n,r=o=>o){if(n.includes("/ "))throw new Error(`L'unité "${n}" ne doit pas contenir d'espace après "/"`);const[o,...a]=n.split("/"),s=f=>Gx(f.trim().split(".").filter(Boolean).map(p=>r(p)));return{numerators:s(o),denominators:a.flatMap(f=>s(f))}}var Yx=/(\d+)(?!.*[A-Za-z])/g;function nh(n){const r={};return n.forEach(o=>{const a=o.match(Yx);if(a!=null){const s=a[0],c=o.split(s)[0];r[c]=(r[c]??0)+ +s}else r[o]=(r[o]??0)+1}),r}function Gx(n){const r=nh(n);return Object.entries(r).flatMap(([o,a])=>Array(a).fill(o))}function Jx(n){const r=nh(n);return Object.entries(r).map(([o,a])=>a>1?`${o}${a}`:o)}var ma=(n,r,o=a=>a)=>Jx(n.map(a=>o(a,r))).join("."),Vp=2;function et(n,r=Vp,o=a=>a){if(n===null||typeof n!="object")return typeof n=="string"?o(n,r):n;const a=qa(n),{numerators:s=[],denominators:c=[]}=a,f=s.length>0,p=c.length>0;return!f&&!p?"":f&&!p?ma(s,r,o):!f&&p?`/${ma(c,1,o)}`:`${ma(s,Vp,o)}/${ma(c,1,o)}`}var Bi={numerators:[],denominators:[]},$n=(n,r)=>{if(n==="/"){if(r.length!==2)throw new X("InternalError","Infer units of a division with units.length !== 2)",{});return $n("*",[r[0]||Bi,{numerators:(r[1]||Bi).denominators,denominators:(r[1]||Bi).numerators}])}const o=r.filter(Boolean);if(o.length<=1)return o[0];if(n==="*")return qa({numerators:o.flatMap(a=>(a==null?void 0:a.numerators)??[]),denominators:o.flatMap(a=>(a==null?void 0:a.denominators)??[])});if(n==="-"||n==="+")return r.find(a=>a)},rh=(n,r)=>Array.isArray(n)&&Array.isArray(r)?n.length===r.length&&n.every((o,a)=>n[a]===r[a]):n===r,Op=(n,r=rh)=>o=>{const a=o.findIndex(s=>r(s,n));return o.filter((s,c)=>c!==a)},qa=(n,r=rh)=>[...n.numerators,...n.denominators].reduce(({numerators:a,denominators:s},c)=>a.find(f=>r(c,f))&&s.find(f=>r(c,f))?{numerators:Op(c,r)(a),denominators:Op(c,r)(s)}:{numerators:a,denominators:s},n),Na={"mois/an":12,"jour/an":365,"jour/mois":365/12,"trimestre/an":4,"mois/trimestre":3,"jour/trimestre":365/12*3,"€/k€":10**3,"g/kg":10**3,"mg/g":10**3,"mg/kg":10**6,"m/km":10**3,"cm/m":10**2,"mm/cm":10**1,"mm/m":10**3,"cm/km":10**5,"mm/km":10**6};function Ap(n,r){return Na[`${r}/${n}`]||Na[`${n}/${r}`]&&1/Na[`${n}/${r}`]}function Eu(n,r){let o=100**(r.filter(a=>a==="%").length-n.filter(a=>a==="%").length);return[o]=n.reduce(([a,s],c)=>{const f=s.findIndex(v=>!!Ap(c,v)),p=Ap(c,s[f])||1;return[a*p,[...s.slice(0,f+1),...s.slice(f+1)]]},[o,r]),o}var Ip={"kW.h":"kWh","mn/h":"noeud"};function Xx(n,r){return!n||!r?!1:n===r||n===Ip[r]||r===Ip[n]}function zn(n,r,o){const a=et(n),s=et(r);if(!Xx(a,s)&&!ey(n,r))throw new X("EngineError",`Impossible de convertir l'unité '${a}' en '${s}'`,{});if(!o||n===void 0)return o;const[c,f]=Tp(n||Bi),[p,v]=Tp(r||Bi);return ah(o*f/v*Eu(c.numerators,p.numerators)*Eu(p.denominators,c.denominators))}var ih=Zx(Na);function Zx(n){return Object.keys(n).reduce((r,o)=>{const[a,s]=o.split("/"),c=r.findIndex(p=>p.has(a)),f=r.findIndex(p=>p.has(s));if(c>-1&&f>-1&&c!==f)throw new X("EngineError",`Invalid ratio ${o}`,{});return c===-1&&f===-1?r.push(new Set([a,s])):c>-1?r[c].add(s):f>-1&&r[f].add(a),r},[])}function oh(n,r){return n===r||ih.some(o=>o.has(n)&&o.has(r))}function ah(n){return+n.toFixed(16)}function zu(n){const{numerators:r,denominators:o}=qa(n,oh);return r.length&&r.every(a=>a==="%")?{numerators:["%"],denominators:o}:lh({numerators:r,denominators:o})}function Tp(n,r=1){const o=Eu(n.numerators,n.denominators);return[qa(lh(n),oh),r&&ah(r*o)]}var lh=n=>({numerators:n.numerators.filter(r=>r!=="%"),denominators:n.denominators.filter(r=>r!=="%")});function ey(n,r){if(n==null||r==null)return!0;const o=g=>g.reduce((y,w)=>{const k=ih.findIndex(b=>b.has(w)),R=k===-1?w:""+k;return{...y,[R]:1+(y[R]??0)}},{}),[a,s,c,f]=[n.numerators,n.denominators,r.numerators,r.denominators].map(o),p=g=>[...new Set(g)],v=[a,s,c,f].map(Object.keys).flat();return p(v).every(g=>(a[g]||0)-(s[g]||0)===(c[g]||0)-(f[g]||0)||g==="%")}function $p(n,r){return Math.round((n+Number.EPSILON)*10**r)/10**r}var ty=function(n){var s;const r=sh(this.evaluateNode(n.explanation.valeur)),o=r.nodeValue;let a=n.explanation.arrondi;if(o!==!1&&(a=this.evaluateNode(a),typeof a.nodeValue=="number"&&!((s=et(a.unit))!=null&&s.match(/décimales?/))))throw new X("EvaluationError",`L'unité ${et(a.unit)} de l'arrondi est inconnu. Vous devez utiliser l'unité “décimales”`,{dottedName:this.cache._meta.evaluationRuleStack[0]});return{...n,nodeValue:typeof r.nodeValue!="number"||!("nodeValue"in a)?r.nodeValue:typeof a.nodeValue=="number"?$p(r.nodeValue,a.nodeValue):a.nodeValue===!0?$p(r.nodeValue,0):a.nodeValue===void 0?void 0:r.nodeValue,explanation:{valeur:r,arrondi:a},missingVariables:gt([r,a]),unit:r.unit}};function Qa(n,r){return{explanation:{valeur:re(n.valeur,r),arrondi:re(n.arrondi,r)},nodeKind:Qa.nom}}Qa.nom="arrondi";Te(Qa.nom,ty);function ny(n,r){return{explanation:re(n,r),nodeKind:"logarithme"}}var ry=function(n){const r=sh(this.evaluateNode(n.explanation));let o;if(r.nodeValue===null||r.nodeValue===void 0)o=r.nodeValue;else if(typeof r.nodeValue=="number")o=Math.log(r.nodeValue);else throw new X("EvaluationError",`Impossible de calculer le logarithme de ${r.nodeValue}`,{dottedName:this.cache._meta.evaluationRuleStack[0]});return{...n,nodeValue:o,missingVariables:r.missingVariables,explanation:r}};Te("logarithme",ry);function sh(n){if(!n.unit)return n;const r=zu(n.unit);return Mn(r,n)}function Mn(n,r){return{...r,nodeValue:r.unit&&typeof r.nodeValue=="number"?zn(r.unit,n,r.nodeValue):r.nodeValue,unit:n}}function uh(n,r,o){if(o.nodeValue===void 0||o.nodeValue===null)return!0;switch(r.type){case"number":return r.explanation.some(a=>"unit"in a?Mn(a.unit,o).nodeValue===a.nodeValue:a.nodeValue===o.nodeValue);case"string":return r.explanation.some(a=>a.publicodesValue===`'${o.nodeValue}'`);case"reference":return n.evaluateNode(r).explanation.some(s=>s.publicodesValue===`'${o.nodeValue}'`&&s.notApplicable.nodeValue!==!0)}}var lu=({style:n,maximumFractionDigits:r=2,minimumFractionDigits:o=0,language:a})=>s=>{const c=n==="currency"&&r>=2&&o===0&&!Number.isInteger(s)?2:o;return Intl.NumberFormat(a,{style:n,currency:"EUR",maximumFractionDigits:r,minimumFractionDigits:c}).format(s)};function iy({maximumFractionDigits:n,minimumFractionDigits:r,language:o,formatUnit:a,unit:s,nodeValue:c}){if(typeof c!="number")return c;const f=s?et(s,c,a):void 0;switch(f){case"€":return lu({style:"currency",maximumFractionDigits:n,minimumFractionDigits:r,language:o})(c);case"%":return lu({style:"percent",maximumFractionDigits:n,language:o})(c/100);default:return lu({style:"decimal",minimumFractionDigits:r,maximumFractionDigits:n,language:o})(c)+(typeof f=="string"?` ${f}`:"")}}function ch(n){return n&&n[0].toUpperCase()+n.slice(1)}var oy={fr:{true:"oui",false:"non"},en:{true:"yes",false:"no"}};function Dn(n,{language:r="fr",displayedUnit:o,formatUnit:a,precision:s=2}={}){let c=typeof n=="number"||typeof n>"u"||n===null?n:n.nodeValue;if(typeof c=="number"&&Number.isNaN(c))return"Erreur dans le calcul du nombre";if(c===void 0)return"Pas encore défini";if(c===null)return"Non applicable";if(typeof c=="string")return c.replace("\\n",`
`);if(typeof c=="boolean")return oy[r][c];if(typeof c=="number"){let f=typeof n=="number"||typeof n>"u"||!("unit"in n)?void 0:n.unit;if(f){const p=zu(f);c=zn(f,p,c),f=p}return iy({minimumFractionDigits:0,maximumFractionDigits:s,language:r,formatUnit:a,nodeValue:c,unit:o??f}).trim()}}function Uu(n,r){return{explanation:re(n,r),nodeKind:"est non applicable"}}Uu.nom="est non applicable";var ha=n=>({nodeKind:"est non applicable",explanation:n}),ay=function(n){var a,s,c,f;const r=n.explanation;if(((a=this.context.nodesTypes.get(r))==null?void 0:a.isNullable)===!1&&r.nodeKind!=="rule"&&r.nodeKind!=="reference")return{...n,nodeValue:!1,missingVariables:{}};if(this.cache.nodes.has(r)&&this.cache.nodes.get(r)!==void 0)return{...n,nodeValue:((s=this.cache.nodes.get(r))==null?void 0:s.nodeValue)===null,missingVariables:((c=this.cache.nodes.get(r))==null?void 0:c.missingVariables)??{}};switch(r.nodeKind){case"rule":{const{ruleDisabledByItsParent:p,parentMissingVariables:v}=vh(this,r);if(p)return{...n,nodeValue:!0,missingVariables:v};const g=this.evaluateNode(ha(r.explanation.valeur)),y=cn(v,g.missingVariables);return g.nodeValue===!1&&((f=this.context.nodesTypes.get(this.context.parsedRules[`${r.dottedName} . $SITUATION`]))!=null&&f.isNullable)&&!Object.keys(g.missingVariables).length&&(y[r.dottedName]=1),{...n,nodeValue:g.nodeValue,missingVariables:y}}case"reference":return{...this.evaluateNode(ha(this.context.parsedRules[r.dottedName])),...n};case"condition":return{...this.evaluateNode({...r,explanation:{si:r.explanation.si,alors:ha(r.explanation.alors),sinon:ha(r.explanation.sinon)}}),...n}}const o=this.evaluateNode(r);return{...n,nodeValue:o.nodeValue===void 0?void 0:o.nodeValue===null,missingVariables:o.missingVariables}};Te("est non applicable",ay);function ly(n,r,o){var s;if(typeof n=="object"){if(Object.keys(n).length!==1)throw new X("SyntaxError","Il ne peut y avoir qu'une seule définition de règle par possibilité.",{dottedName:o.dottedName});const[c,f]=Object.entries(n)[0];if(c in r)throw new X("SyntaxError",`La règle "${c}" est déjà définie`,{dottedName:o.dottedName});r[c]=f,n=c}const a=re(n,o);if(a.nodeKind!=="constant"&&a.nodeKind!=="reference")throw new X("SyntaxError",`"${n}" n'est pas une constante ou une référence.
Les choix possibles doivent être des constantes ou des références.`,o);if(a.nodeKind==="reference")return{...a,type:"reference",notApplicable:(s=o.flag)!=null&&s.filterNotApplicablePossibilities?Uu(Re(a),o):Mp,nodeValue:a.name,publicodesValue:`'${a.name}'`};if(a.type!=="string"&&a.type!=="number")throw new X("SyntaxError","Les choix possibles doivent être des nombres ou des chaînes de caractères.",o);return{...a,type:a.type,notApplicable:Mp,publicodesValue:a.type==="string"?`'${a.nodeValue}'`:a.rawNode,nodeValue:a.nodeValue,..."unit"in a&&{unit:a.unit}}}var Mp={nodeKind:"constant",type:"boolean",nodeValue:!1};function sy(n,r,o){var p;let a=!1,s;if(n.valeur&&n.valeur["une possibilité"]&&(a=n.valeur["une possibilité"],un(r,`La clé 'une possibilité' à l'intérieur de la clé 'valeur' est dépréciée, veuillez la déplacer
au niveau supérieur.`,"deprecatedSyntax"),delete n.valeur["une possibilité"]),(p=n.formule)!=null&&p["une possibilité"]&&(a=n.formule["une possibilité"],un(r,"La clé 'une possibilité' à l'intérieur de la clé 'formule' est dépréciée, veuillez la déplacer au niveau supérieur.","deprecatedSyntax"),delete n.formule["une possibilité"]),"une possibilité"in n){if(!n["une possibilité"])throw new X("SyntaxError","La clé 'une possibilité' ne peut pas être vide",r);a=n["une possibilité"]}if(!a||("possibilités"in a&&(a["choix obligatoire"]?(un(r,`Les clés 'choix obligatoire' et 'possibilités' à l'intérieur de 'une possibilité' sont dépréciées. 

Déplacez les possibilités directement à la racine de 'une possibilité' .${a["choix obligatoire"]==="non"?`Pour ajouter un choix « aucun », « non applicable » ou « autre » à la liste des possibilité, créer explicitement une règle dédiée. Par exemple : 

\`une possibilité: [${a.possibilités.join(", ")}, aucun]\`
`:""}`,"deprecatedSyntax"),s=a["choix obligatoire"]):un(r,`La clé 'possibilités' à l'intérieur de 'une possibilité' est dépréciée. 

Déplacez les possibilités directement à la racine de 'une possibilité'
`,"deprecatedSyntax"),a=a.possibilités),!a))return null;if(!a.length)throw new X("SyntaxError","La clé 'une possibilité' doit être un tableau contenant au moins un élément",r);const c=uy(a,o,r);s&&(c["choix obligatoire"]=s);let f;if(c.type==="number"?f=c.explanation.map(v=>zn(v.unit,c.unit,v.nodeValue)):f=c.explanation.map(v=>v.publicodesValue),new Set(f).size!==f.length){const v=f.map((g,y,w)=>w.indexOf(g)!==y?c.explanation[y].publicodesValue:null).filter(Boolean);throw new X("SyntaxError",`Il ne doit pas y avoir de doublons parmi les possibilités.
Les valeurs suivantes sont en double : ${v.join(", ")}.`,r)}return c}function uy(n,r,o){let a;const s=n.map(c=>{const f=ly(c,r,o);if(a??(a=f),f.type!==a.type)throw new X("SyntaxError",`Les possibilités doivent être toutes du même type.
${a.publicodesValue} et ${f.publicodesValue} ne sont pas du même type.`,o);if(a.type==="number"&&f.type==="number"&&a.unit){try{zn(f.unit,a.unit,0)}catch{throw new X("SyntaxError",`Les possibilités doivent être toutes dans la même classe d'unité.

					${et(f.unit)} n'est pas convertible en ${et(a.unit)}.`,o)}a=f}return f});return a??(a=s[0]),{nodeKind:"une possibilité",..."unit"in a?{unit:a.unit}:{},type:a.type,explanation:s}}Te("une possibilité",function(r){const o=Re(r);if(r.type!=="reference")return o.missingVariables={},o.nodeValue=void 0,o;const a=r.explanation.map(c=>{const f=this.evaluateNode(c.notApplicable);return{...c,notApplicable:f,missingVariables:f.missingVariables}});o.explanation=a,o.missingVariables=gt(a.map(c=>c.notApplicable));const s=a.filter(c=>c.notApplicable.nodeValue!==!0);return s.length===0?(o.nodeValue=null,o):s.length===1?(o.nodeValue=s[0].nodeValue,o):(o.nodeValue=void 0,o)});var Mt={};kx(Mt,{contextNameToDottedName:()=>wu,cyclicDependencies:()=>gy,decodeRuleName:()=>wy,disambiguateReference:()=>mh,disambiguateReferenceNode:()=>Su,encodeRuleName:()=>Ey,findCommonAncestor:()=>ph,getChildrenRules:()=>ky,isAccessible:()=>Ya,isExperimental:()=>ku,nameLeaf:()=>dh,ruleParent:()=>fh,ruleParents:()=>Gi,ruleWithDedicatedDocumentationPage:()=>Sy,updateReferencesMapsFromReferenceNode:()=>Ku});function Ti(n,r){return n!=null&&Object.prototype.hasOwnProperty.call(n,r)}function Dp(n){return function(){return n}}var cy="\0",Fp="",zp=(n,r)=>{n[r]?n[r]++:n[r]=1},Up=(n,r)=>{--n[r]||delete n[r]},Fi=(n,r,o,a)=>{let s=""+r,c=""+o;if(!n&&s>c){const f=s;s=c,c=f}return s+Fp+c+Fp+(a===void 0?cy:a)},dy=(n,r,o,a)=>{let s=""+r,c=""+o;if(!n&&s>c){const p=s;s=c,c=p}const f={v:s,w:c};return a&&(f.name=a),f},su=(n,r)=>Fi(n,r.v,r.w,r.name),fy=class{constructor(n={}){Ve(this,"_nodeCount",0);Ve(this,"_edgeCount",0);Ve(this,"_isDirected");Ve(this,"_label");Ve(this,"_defaultNodeLabelFn");Ve(this,"_defaultEdgeLabelFn");Ve(this,"_nodes");Ve(this,"_in");Ve(this,"_preds");Ve(this,"_out");Ve(this,"_sucs");Ve(this,"_edgeObjs");Ve(this,"_edgeLabels");this._isDirected=Ti(n,"directed")?n.directed:!0,this._label=void 0,this._defaultNodeLabelFn=Dp(void 0),this._defaultEdgeLabelFn=Dp(void 0),this._nodes={},this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}setGraph(n){return this._label=n,this}graph(){return this._label}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}setNode(n,r=void 0){return Ti(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=r),this):(this._nodes[n]=arguments.length>1?r:this._defaultNodeLabelFn(n),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)}setNodes(n,r){return n.forEach(o=>{r!==void 0?this.setNode(o,r):this.setNode(o)}),this}node(n){return this._nodes[n]}hasNode(n){return Ti(this._nodes,n)}successors(n){const r=this._sucs[n];if(r)return Object.keys(r)}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setEdge(n,r,o=void 0,a=void 0){n=""+n,r=""+r;const s=Fi(this._isDirected,n,r,a);if(Ti(this._edgeLabels,s))return o!==void 0&&(this._edgeLabels[s]=o),this;this.setNode(n),this.setNode(r),this._edgeLabels[s]=o!==void 0?o:this._defaultEdgeLabelFn(n,r,a);const c=dy(this._isDirected,n,r,a);return n=c.v,r=c.w,Object.freeze(c),this._edgeObjs[s]=c,zp(this._preds[r],n),zp(this._sucs[n],r),this._in[r][s]=c,this._out[n][s]=c,this._edgeCount++,this}edge(n,r,o){const a=arguments.length===1?su(this._isDirected,arguments[0]):Fi(this._isDirected,n,r,o);return this._edgeLabels[a]}hasEdge(n,r,o){const a=arguments.length===1?su(this._isDirected,arguments[0]):Fi(this._isDirected,n,r,o);return Ti(this._edgeLabels,a)}removeEdge(n,r,o){const a=arguments.length===1?su(this._isDirected,arguments[0]):Fi(this._isDirected,n,r,o),s=this._edgeObjs[a];return s&&(n=s.v,r=s.w,delete this._edgeLabels[a],delete this._edgeObjs[a],Up(this._preds[r],n),Up(this._sucs[n],r),delete this._in[r][a],delete this._out[n][a],this._edgeCount--),this}outEdges(n,r=void 0){const o=this._out[n];if(o){const a=Object.values(o);return r===void 0?a:a.filter(function(s){return s.w===r})}}};function py(n){let r=0;const o=[],a={},s=[];function c(f){const p=a[f]={onStack:!0,lowlink:r,index:r++};if(o.push(f),n.successors(f).forEach(function(v){Object.prototype.hasOwnProperty.call(a,v)?a[v].onStack&&(p.lowlink=Math.min(p.lowlink,a[v].index)):(c(v),p.lowlink=Math.min(p.lowlink,a[v].lowlink))}),p.lowlink===p.index){const v=[];let g;do g=o.pop(),a[g].onStack=!1,v.push(g);while(f!==g);s.push(v)}}return n.nodes().forEach(function(f){Object.prototype.hasOwnProperty.call(a,f)||c(f)}),s}function my(n){return py(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}function hy(n){const r=new fy;return[...n.entries()].forEach(([o,a])=>{a.forEach(s=>{r.setEdge(o,s)})}),r}function vy(n,r){var c;function*o(f){let p=f;for(;;)yield r[p++%r.length]}const a=[];for(let f=0;f<r.length;f++){const p=[];let v;for(const g of o(f))if(v===void 0)p.push(g),v=g;else if((c=n.get(v))!=null&&c.has(g)){if(p.includes(g)){p.splice(0,p.lastIndexOf(g));break}p.push(g),v=g}a.push(p)}return a.reduce((f,p)=>p.length>f.length?f:p)}function gy(n){const{referencesMaps:r}=Ra(n),o=hy(r.referencesIn),s=my(o).map(p=>p.reverse()),c=s.map(p=>vy(r.referencesIn,p)),f=s.map((p,v)=>yy(o,p,c[v]));return[c,f]}var xy=(n,r,o)=>{for(let a=0;a<n.length+1;a++)if(r===n[a]&&o===n[(a+1)%n.length])return!0;return!1};function yy(n,r,o){const a=new Set;return r.forEach(s=>{n.outEdges(s).filter(({w:c})=>r.includes(c)).forEach(({v:c,w:f})=>{a.add(`"${c}" -> "${f}"`+(xy(o,c,f)?" [color=red]":""))})}),`digraph Cycle {
	${[...a].join(`;
	`)};
}`}var or=n=>n.split(" . "),Bu=n=>n.join(" . "),dh=n=>{var r;return(r=or(n).slice(-1))==null?void 0:r[0]},Ey=n=>n==null?void 0:n.replace(/\s\.\s/g,"/").replace(/-/g,"‑").replace(/\s/g,"-"),wy=n=>n.replace(/\//g," . ").replace(/-/g," ").replace(/\u2011/g,"-"),wu=n=>n.endsWith("$SITUATION")?fh(n):n,fh=n=>Bu(or(n).slice(0,-1));function Gi(n){return or(n).slice(0,-1).map((r,o,a)=>Bu(a.slice(0,o+1))).reverse()}var ky=(n,r)=>Object.keys(n).filter(a=>a.startsWith(r)&&or(a).length===or(r).length+1);function ph(n,r){const o=or(n),a=or(r),s=o.findIndex((c,f)=>a[f]!==c);return s===-1?n:Bu(o.slice(0,s))}function Ya(n,r,o){if(!(o in n))throw new X("InternalError",`La règle "${o}" n'existe pas`,{dottedName:o});const a=ph(r,o),s=[o,...Gi(o),""];return s.slice(0,Math.max(s.indexOf(a)-1,0)).every(f=>!(f in n)||n[f].private===!1)}function ku(n,r){if(!(r in n))throw new X("InternalError",`La règle "${r}" n'existe pas`,{dottedName:r});return[r,...Gi(r)].some(a=>{var s;return a in n&&((s=n[a].rawNode)==null?void 0:s.experimental)==="oui"})}function uu(n,r){return n?n+" . "+r:r}function mh(n,r="",o){const a=Gi(r);if(a.push(r),o.startsWith("^ . ")){const p=o.match(/^(\^ \. )+/)[0].length/4;o=o.replace(/^(\^ \. )+/,""),a.splice(-p)}const s=a.pop();a.unshift(s),a.push("");const c=a.find(p=>{const v=uu(p,o);return!(v in n)||v===r?!1:Ya(n,r,v)});if(c!==void 0)return uu(c,o);if(r.endsWith(o))return r;const f=a.map(p=>uu(p,o));throw f.every(p=>!(p in n))?new X("SyntaxError",`La référence "${o}" est introuvable.
Vérifiez que l'orthographe et l'espace de nom sont corrects`,{dottedName:wu(r)}):new X("SyntaxError",`La règle "${f.find(p=>p in n)}" n'est pas accessible depuis "${r}".
	Cela vient du fait qu'elle est privée ou qu'un de ses parent est privé`,{dottedName:wu(r)})}function Sy(n){return n.virtualRule!==!0&&n.type!=="groupe"&&n.type!=="texte"&&n.type!=="paragraphe"&&n.type!=="notification"}function Ku(n,r,o){n.nodeKind==="reference"&&(_p(r.referencesIn,o??n.contextDottedName,n.dottedName),_p(r.rulesThatUse,n.dottedName,o??n.contextDottedName))}function Su(n,r){if(n.nodeKind==="reference")return n.dottedName||(n.dottedName=mh(r,n.contextDottedName,n.name),n.title=r[n.dottedName].title,n.acronym=r[n.dottedName].rawNode.acronyme),n}function Cy(n,r,o){const a=r.privé==="oui"||n.startsWith("[privé] ");n=n.replace(/^\[privé\] /,"");const s=[o.dottedName,n].filter(Boolean).join(" . "),c=dh(s),f=ch(r.titre??c);if(o.parsedRules[s])throw new X("EvaluationError",`La référence '${s}' a déjà été définie`,{dottedName:s});const p=o.dottedName;o.dottedName=s,o.parsedRules[s]=void 0;const v={};v.avec=Object.assign({},r.avec);const g=sy(r,o,v.avec);for(const k in r)Th.includes(k)&&(v[k]??(v[k]=r[k]));if("formule"in r&&(v.valeur=r.formule),!a&&!s.endsWith("$SITUATION")){v["dans la situation"]=`${s} . $SITUATION`;const k=Re(eh);k.isNullable=r["possiblement non applicable"]==="oui",v.avec["[privé] $SITUATION"]={valeur:k},v["par défaut"]!=null&&(v["par défaut"]={valeur:v["par défaut"],"variable manquante":s})}const y={valeur:re(v,o),parents:Gi(s).map(k=>({dottedName:k,nodeKind:"reference",contextDottedName:o.dottedName}))},w={};if(r.suggestions)for(const k in r.suggestions)w[k]=re(r.suggestions[k],o);return o.parsedRules[s]={dottedName:s,replacements:[...R1(r["rend non applicable"],o),...$h(r.remplace,o)],title:f,private:a,suggestions:w,nodeKind:"rule",possibilities:g,explanation:y,rawNode:r,virtualRule:a},o.dottedName=p,o.parsedRules[s]}function hh(n,r){for(const o in n){let a=n[o];if((typeof a=="string"||typeof a=="number")&&(a={valeur:`${a}`}),typeof a!="object")throw new X("SyntaxError",`Rule ${o} is incorrectly written. Please give it a proper value.
 ${a}`,{dottedName:o});const s=a===null?{}:Re(a);Cy(o,s,r)}}Te("rule",function(r){!r.dottedName.endsWith("$SITUATION")&&!r.dottedName.includes("$INTERNAL")&&(this.context.evaluatedRule=r.dottedName);const{ruleDisabledByItsParent:o,nullableParent:a,parentMissingVariables:s}=vh(this,r),c={...r.explanation,nullableParent:a,ruleDisabledByItsParent:o};if(o)return{...r,nodeValue:null,missingVariables:s,explanation:c};if(this.cache._meta.evaluationRuleStack.filter(y=>y===r.dottedName).length>1){const y=this.cache._meta.evaluationRuleStack.indexOf(r.dottedName),w=[...this.cache._meta.evaluationRuleStack.slice(0,y+1).reverse(),r.dottedName],k=`
Un cycle a été détecté lors de l'évaluation de cette règle:
${w.join(w.length>5?`
 → `:" → ")}

Cela vient probablement d'une erreur dans votre modèle.

Si le cycle est voulu, vous pouvez indiquer au moteur de résoudre la référence circulaire en trouvant le point fixe de la fonction. Pour cela, ajoutez l'attribut suivant niveau de la règle :

	${r.dottedName}:
		résoudre la référence circulaire: oui"
		...
`;if(!this.cache._meta.parentRuleStack.length||this.cache._meta.parentRuleStack.some(R=>!R.startsWith(r.dottedName))){if(this.context.strict.noCycleRuntime)throw new X("EvaluationError",k,{dottedName:r.dottedName});un(this.context,k,"cyclicReferences")}return{...r,nodeValue:void 0,missingVariables:s,explanation:c}}this.cache._meta.evaluationRuleStack.unshift(r.dottedName);const f=r.possibilities&&this.evaluateNode(r.possibilities);if((f==null?void 0:f.nodeValue)!==void 0)return{...r,...f.unit?{unit:f.unit}:{},nodeValue:f.nodeValue,missingVariables:cn(f.missingVariables,s),possibilities:f};const p=this.evaluateNode(r.explanation.valeur);if(this.cache._meta.evaluationRuleStack.shift(),p.missingVariables??(p.missingVariables={}),jy(this,r,p),f&&this.context.strict.checkPossibleValues&&!uh(this,f,p))throw new X("EvaluationError",`La valeur de la règle ${r.dottedName} n'est pas une des possibilités attendues`,{dottedName:r.dottedName});const v=(f==null?void 0:f.unit)??p.unit,g=cn(cn((f==null?void 0:f.missingVariables)??{},p.missingVariables),s);return{...p,...v?{unit:v}:{},missingVariables:g,...r,possibilities:f,explanation:{parents:r.explanation.parents,valeur:p,nullableParent:a,ruleDisabledByItsParent:o}}});function jy(n,r,o){r.private===!0||!Ya(n.context.parsedRules,"",r.dottedName)||o.nodeValue===void 0&&!Object.keys(o.missingVariables).length&&(o.missingVariables[r.dottedName]=1)}function vh(n,r){var c,f,p;if(r.dottedName.endsWith("$SITUATION"))return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};const o=n.context.nodesTypes,a=r.explanation.parents.find(v=>{var g,y;return((g=o.get(v))==null?void 0:g.isNullable)||((y=o.get(v))==null?void 0:y.type)==="boolean"});if(!a)return{ruleDisabledByItsParent:!1,parentMissingVariables:{}};if(!n.cache._meta.parentRuleStack.includes(r.dottedName)){n.cache._meta.parentRuleStack.unshift(r.dottedName);let v=Yt(!1);if((c=o.get(a))!=null&&c.isNullable&&(v=n.evaluateNode({nodeKind:"est non applicable",explanation:a})),v.nodeValue!==!0&&((f=o.get(a))==null?void 0:f.type)==="boolean"&&(v=n.evaluateNode({nodeKind:"operation",operator:"=",operationKind:"=",explanation:[a,Yt(!1)]})),n.cache._meta.parentRuleStack.shift(),v.nodeValue===!0)return{ruleDisabledByItsParent:!0,parentMissingVariables:v.missingVariables??{},nullableParent:a}}let s={};if(((p=o.get(a))==null?void 0:p.type)==="boolean"){const v=n.evaluateNode(a);return s=v.missingVariables??{},{ruleDisabledByItsParent:v.nodeValue===!1,parentMissingVariables:s,nullableParent:a}}return{ruleDisabledByItsParent:!1,parentMissingVariables:s,nullableParent:a}}function gh(n,r){return hh(n.avec,r),re(n.valeur,r)}gh.nom="avec";var Wu=(n,r)=>n.map((o,a)=>{if(!o.plafond&&a>n.length)throw new X("SyntaxError",`La tranche n°${a} du barème n'a pas de plafond précisé. Seule la dernière tranche peut ne pas être plafonnée`,{dottedName:""});return{...o,...o.taux!==void 0?{taux:re(o.taux,r)}:{},...o.montant!==void 0?{montant:re(o.montant,r)}:{},plafond:"plafond"in o?re(o.plafond,r):{nodeValue:1/0,nodeKind:"constant",type:"number",isNullable:!1}}});function Hu({multiplicateur:n,assiette:r,parsedTranches:o}){return o.reduce(([a,s],c,f)=>{if(s)return[[...a,{...c,isAfterActive:!0}],s];const p=this.evaluateNode(c.plafond),v=a[f-1]?a[f-1].plafond:{nodeValue:0};let g=p.nodeValue===void 0||n.nodeValue===void 0?void 0:p.nodeValue*n.nodeValue;try{g=g===1/0||g===0?g:zn($n("*",[p.unit,n.unit]),r.unit,g)}catch(b){if(!(b instanceof Error))throw b;un(this.context,`L'unité du plafond de la tranche n°${f+1}  n'est pas compatible avec celle l'assiette`,"unitConversion",b)}const y=a[f-1]?a[f-1].plafondValue:0,w=y===void 0||r.nodeValue===void 0?void 0:y>r.nodeValue,k=[p,r,n,v];if(k.some(b=>b.nodeValue===void 0))return[[...a,{...c,plafond:p,plafondValue:g,plancherValue:y,nodeValue:void 0,isActive:void 0,isAfterActive:w,missingVariables:gt(k)}],!1];if(a[f-1]&&y&&g<=y)throw new X("EvaluationError",`Le plafond de la tranche n°${f+1} a une valeur inférieure à celui de la tranche précédente`,{dottedName:this.cache._meta.evaluationRuleStack[0]});const R={...c,plafond:p,plancherValue:y,plafondValue:g,isAfterActive:w,isActive:r.nodeValue>=y&&r.nodeValue<g};return[[...a,R],R.isActive]},[[],!1])[0]}function Ny(n,r){return{explanation:{assiette:re(n.assiette,r),multiplicateur:n.multiplicateur?re(n.multiplicateur,r):Yt(1),tranches:Wu(n.tranches,r)},nodeKind:"barème"}}function by(n,r,o){return n.map(a=>{if(a.isAfterActive)return{...a,nodeValue:0};const s=o(a.taux),c=gt([s,a]);return[r.nodeValue,s.nodeValue,a.plafondValue,a.plancherValue].some(f=>f===void 0)?{...a,taux:s,nodeValue:void 0,missingVariables:c}:{...a,taux:s,..."unit"in r&&{unit:r.unit},nodeValue:(Math.min(r.nodeValue,a.plafondValue)-a.plancherValue)*zn(s.unit,Qt(""),s.nodeValue),missingVariables:c}})}var Ry=function(n){const r=this.evaluateNode.bind(this),o=this.evaluateNode(n.explanation.assiette),a=this.evaluateNode(n.explanation.multiplicateur);if(a.nodeValue===0)throw new X("EvaluationError","Le multiplicateur ne peut pas être nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});let s=n.explanation.tranches,c=o.nodeValue;return[0,void 0,null].includes(o.nodeValue)||(s=by(Hu.call(this,{parsedTranches:n.explanation.tranches,assiette:o,multiplicateur:a}),o,r),c=s.reduce((f,{nodeValue:p})=>p==null?void 0:f+p,0)),{...n,nodeValue:c,missingVariables:gt([o,a,...s]),explanation:{assiette:o,multiplicateur:a,tranches:s},unit:o.unit}};Te("barème",Ry);var Py=function(n){let r;const o=this.evaluateNode(n.explanation.si);let a=n.explanation.alors,s=n.explanation.sinon;if("unit"in o)throw new X("EvaluationError","La condition doit être de type booléen",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(o.nodeValue===!0)a=this.evaluateNode(n.explanation.alors),a.isActive=!0,r=a;else if(o.nodeValue===!1)s=this.evaluateNode(n.explanation.sinon),r=s;else if(o.nodeValue===null)r=o;else if(o.nodeValue===void 0)s=this.evaluateNode(n.explanation.sinon),a=this.evaluateNode(n.explanation.alors),r={...o,missingVariables:gt([s,a])};else throw new X("EvaluationError","La condition doit être de type booléen",{dottedName:this.cache._meta.evaluationRuleStack[0]});const c=r.unit??a.unit;return{nodeValue:r.nodeValue,missingVariables:cn(Zm(o.missingVariables),r.missingVariables),...c!=null?{unit:c}:{},...n,explanation:{si:o,alors:a,sinon:s}}};function xh(n,r){return{explanation:{si:re(n.si,r),alors:re(n.alors,r),sinon:re(n.sinon,r)},nodeKind:"condition"}}xh.nom="condition";Te("condition",Py);function qu(n,r){const o=re(n.valeur,r),a=Object.keys(n.contexte).map(c=>[re(c,r),re(n.contexte[c],r)]).sort(([c],[f])=>c.name.localeCompare(f.name)),s=Ly(JSON.stringify(a));return{explanation:{valeur:o,contexte:a,subEngineId:s},nodeKind:qu.nom}}qu.nom="contexte";var _y=function(n){const r=Object.fromEntries(n.explanation.contexte.filter(([s,c])=>{const f=this.evaluateNode(s),p=this.evaluateNode(c);return f.nodeValue!==p.nodeValue||et(f.unit)!==et(p.unit)}).map(([s,c])=>[s.dottedName,c]));if(this.cache._meta.currentContexteSituation===JSON.stringify(r))return{...lr,...n};let o;this.context.subEngines.has(n.explanation.subEngineId)?o=this.context.subEngines.get(n.explanation.subEngineId):(o=this.shallowCopy(),o.context.warn.experimentalRules=!1,o.context.subEngineId=n.explanation.subEngineId,this.context.subEngines.set(n.explanation.subEngineId,o),Object.keys(r).length&&(o.setSituation(r,{keepPreviousSituation:!0}),Object.entries(r).forEach(([s,c])=>{const f=this.cache.nodes.get(c);if(!f)throw new X("InternalError","The situation should have already been evaluated",{dottedName:this.context.dottedName});const p=o.context.parsedRules[s+" . $SITUATION"];if(!(p!=null&&p.explanation.valeur))throw new X("InternalError","The origin rule should be defined",{dottedName:this.context.dottedName});o.cache.nodes.set(p.explanation.valeur,f)}))),o.cache._meta.currentContexteSituation=JSON.stringify(r);const a=o.evaluateNode(n.explanation.valeur);return{...n,nodeValue:a.nodeValue,explanation:{...n.explanation,valeur:a},missingVariables:a.missingVariables,..."unit"in a&&{unit:a.unit}}};Te("contexte",_y);function Ly(n){let r=0;for(let o=0,a=n.length;o<a;o++){const s=n.charCodeAt(o);r=(r<<5)-r+s,r|=0}return r}function yh(n){let[r,o,a]=n.split("/");return a||([r,o,a]=["01",r,o]),Eh(+a,+o,+r)}var cu=n=>+n<10?`0${n}`:""+n;function Eh(n,r,o){const a=new Date(+n,+r-1,+o);if(!+a||a.getDate()!==+o)throw new X("SyntaxError",`La date ${o}/${r}/${n} n'est pas valide`,{dottedName:""});return`${cu(o)}/${cu(r)}/${cu(n)}`}function Br(n){const[r,o,a]=yh(n).split("/"),s=new Date(+a,+o-1,+r);return s.setMinutes(s.getMinutes()-s.getTimezoneOffset()),s}function Vy(n){return Eh(n.getFullYear(),n.getMonth()+1,n.getDate())}function Bp(n){return+n.slice(-4)}function Kp(n){const[,r,o]=n.split("/");return`01/${(3*Math.floor((Number.parseInt(r,10)-1)/3)+1).toString().padStart(2,"0")}/${o}`}function wh(n,r){return(Br(r).getTime()-Br(n).getTime())/864e5}function Cu(n,r){const[o,a,s]=n.split("/").map(R=>+R),[c,f,p]=r.split("/").map(R=>+R),v=f-a+12*(p-s),g=new Date(s,a,0).getDate(),y=new Date(p,f,0).getDate(),w=(o-1)/g,k=c/y;return v-w+k}function kh(n,r){const o=wh(n,r),a=y=>y%4===0&&y%100!==0||y%400===0,s=y=>y>=new Date(y.getFullYear(),2,1),c=Br(n),f=Br(r),p=c.getFullYear()+(s(c)?1:0),v=f.getFullYear()+(s(c)?0:-1),g=Array.from({length:v-p+1},(y,w)=>p+w).filter(a).length;return(o-g)/365}function Oy(n,r){return Math.floor(Cu(Kp(n),Kp(r))/3)+1}function Ay(n,r){const o="01/"+Bp(n),a="01/"+Bp(r);return Math.floor(kh(o,a))+1}var Iy=function(n){const r=this.evaluateNode(n.explanation.depuis),o=this.evaluateNode(n.explanation["jusqu'à"]),a=r.nodeValue,s=o.nodeValue;let c;if(a===null||s===null)c=null;else if(a===void 0||s===void 0)c=void 0;else switch(n.unit.numerators[0]){case"jour":c=wh(a,s);break;case"mois":c=Cu(a,s);break;case"an":c=kh(a,s);break;case"trimestre":c=Cu(a,s)/3;break;case"trimestre civil":c=Oy(a,s);break;case"année civile":c=Ay(a,s);break}return typeof c=="number"&&(c=Math.max(0,c)),{...n,missingVariables:gt([r,o]),nodeValue:c,explanation:{depuis:r,"jusqu'à":o}}},Wp=Yt(Vy(new Date)),Ty=(n,r)=>{const o={depuis:re(n.depuis??Wp,r),"jusqu'à":re(n["jusqu'à"]??Wp,r)},a=n.unité?Qt(n.unité):Qt("jour");if(a.denominators.length>0||a.numerators.length>1||!Hp.includes(a.numerators[0]))throw new X("SyntaxError",`Seules les unités suivantes sont acceptées pour une durée : ${Hp.join(", ")}.
	L'unité fournie est: ${a.numerators[0]}`,{dottedName:r.dottedName});return{explanation:o,unit:a,nodeKind:"durée"}};Te("durée",Iy);var Hp=["mois","jour","an","trimestre","trimestre civil","année civile"];function Sh(n,r){return{explanation:re(n,r),nodeKind:"est non défini"}}Sh.nom="est non défini";var $y=pn("est défini",{valeur:{}},{"=":[{"est non défini":"valeur"},"non"]}),My=pn("est applicable",{valeur:{}},{"=":[{"est non applicable":"valeur"},"non"]}),Dy=function(n){const r=this.evaluateNode(n.explanation);let o=!1;return r.nodeValue===void 0&&(o=!0),{...n,nodeValue:o,missingVariables:r.missingVariables,explanation:r}};Te("est non défini",Dy);function Fy(n,r){return{explanation:{assiette:re(n.assiette,r),multiplicateur:n.multiplicateur?re(n.multiplicateur,r):Yt(1),tranches:Wu(n.tranches,r)},nodeKind:"grille"}}var zy=function(n){var v;const r=this.evaluateNode.bind(this),o=this.evaluateNode(n.explanation.assiette),a=this.evaluateNode(n.explanation.multiplicateur);if(a.nodeValue===0)throw new X("EvaluationError","Le multiplicateur ne peut pas être nul",{dottedName:this.cache._meta.evaluationRuleStack[0]});const s=Hu.call(this,{parsedTranches:n.explanation.tranches,assiette:o,multiplicateur:a}).map(g=>{if(g.isActive===!1)return g;const y=r(g.montant);return{...g,montant:y,nodeValue:y.nodeValue,unit:y.unit,missingVariables:gt([y,g])}});let c;const f=s.find(g=>g.isActive);f?c=[f]:s[s.length-1].isAfterActive===!1?c=[{nodeValue:!1}]:c=s.filter(g=>g.isActive===void 0);const p=c[0]?c[0].isActive===void 0?void 0:c[0].nodeValue:!1;return{...n,nodeValue:p,missingVariables:gt([o,a,...c]),explanation:{...n.explanation,assiette:o,multiplicateur:a,tranches:s},unit:((v=c[0])==null?void 0:v.unit)??void 0}};Te("grille",zy);function Ch(n,r,o,a=0,s=100,c=0){let f=r,p=o,v=f,g=n(f),y=n(p),w=g,k,R,b,L,V,O;for(;s-- >0;){if(b=p-f,Math.abs(w)<Math.abs(y)&&(f=p,p=v,v=f,g=y,y=w,w=g),k=1e-15*Math.abs(p)+a/2,R=(v-p)/2,Math.abs(R)<=k||y===0)return p;if(Math.abs(b)>=k&&Math.abs(g)>Math.abs(y)){let T,A;const z=v-p;f===v?(T=y/g,L=z*T,V=1-T):(V=g/w,T=y/w,A=y/g,L=A*(z*V*(V-T)-(p-f)*(T-1)),V=(V-1)*(T-1)*(A-1)),L>0?V=-V:L=-L,L<.75*z*V-Math.abs(k*V)/2&&L<Math.abs(b*V/2)&&(R=L/V)}if(Math.abs(R)<k&&(R=R>0?k:-k),f=p,g=y,p+=R,y=n(p),(y>0&&w>0||y<0&&w<0)&&(v=f,w=g),Math.abs(y)<a)return p;Math.abs(y)<c&&(O=p)}return O}var Uy=function(n){const r=this.shallowCopy();if(r.context.warn.experimentalRules=!1,this.cache._meta.evaluationRuleStack.slice(1).includes(n.explanation.ruleToInverse))return{...Ta,...n};r.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],r.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const o=n.explanation.inversionCandidates.find(O=>{if(this.cache._meta.evaluationRuleStack.includes(O.dottedName))return!1;const T=r.evaluateNode(r.context.parsedRules[`${O.dottedName} . $SITUATION`]);return typeof T.nodeValue=="number"&&!(O.dottedName in T.missingVariables)});if(o===void 0)return{...n,nodeValue:void 0,missingVariables:{...Object.fromEntries(n.explanation.inversionCandidates.map(O=>[O.dottedName,1])),[n.explanation.ruleToInverse]:1}};const a=r.evaluateNode(o);let s=0;r.setSituation({[o.dottedName]:Ta},{keepPreviousSituation:!0}),r.cache.traversedVariablesStack=this.cache.traversedVariablesStack?[]:void 0;let c;const f=O=>(s++,r.setSituation({[n.explanation.ruleToInverse]:{nodeValue:O,nodeKind:"constant",type:"number",unit:a.unit}},{keepPreviousSituation:!0}),r.cache.traversedVariablesStack=this.cache.traversedVariablesStack?[]:void 0,c=r.evaluateNode(o),c),p=a.nodeValue;let v;const g=p,w=f(g).nodeValue,k=w>p?.9:1.2,R=w!==void 0?g*p*k/w:2e3,L=f(R).nodeValue,V=this.context.inversionMaxIterations??10;if(w!==void 0||L!==void 0){const O=G=>(G===g?w:G===R?L:f(G).nodeValue)-p,T=L!==void 0&&L<p&&(L>w||w>p)?R:w!==void 0&&w<p&&(w>L||L>p)?g:n.explanation.min,A=L!==void 0&&L>p&&(L<w||w<p)?R:w!==void 0&&w>p&&(w<L||L<p)?g:n.explanation.max,z=n.explanation.errorTolerance;v=Ch(O,T,A,z,V,1),v&&(v<n.explanation.min||v>n.explanation.max)&&(v=void 0)}if(v==null&&(this.cache.inversionFail=!0),this.cache.traversedVariablesStack){const O=this.cache.traversedVariablesStack[0];O&&(c.traversedVariables??[]).forEach(T=>O.add(T))}return{...n,nodeValue:v,unit:a.unit,explanation:{...n.explanation,inversionGoal:o,numberOfIteration:s,inversionFail:this.cache.inversionFail},missingVariables:c.missingVariables}},By=(n,r)=>{let o=typeof n=="object"&&"avec"in n?n.avec:n;const a=typeof n=="object"&&"min"in n?n.min:-1e6,s=typeof n=="object"&&"max"in n?n.max:1e8,c=typeof n=="object"&&"tolérance d'erreur"in n?n["tolérance d'erreur"]:.1;if(n===null)throw new X("SyntaxError","Il manque les règles avec laquelle effectuer le calcul d'inversion dans le mécanisme `inversion numérique`",{dottedName:r.dottedName});return Array.isArray(o)||(o=[o]),{explanation:{ruleToInverse:r.dottedName,inversionCandidates:o.map(f=>({...re(f,r)})),min:a,max:s,errorTolerance:c},nodeKind:"inversion"}};Te("inversion",Uy);var Ky=sr("le maximum de",{valeur:{type:"liste"}},({valeur:n})=>n.reduce((r,o)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{">":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privé] $INTERNAL valeur":{valeur:o},"[privé] $INTERNAL acc":{valeur:r}}}),lr)),Wy=sr("le minimum de",{valeur:{type:"liste"}},({valeur:n})=>n.reduce((r,o)=>({condition:{si:{"est non applicable":"$INTERNAL valeur"},alors:"$INTERNAL acc",sinon:{condition:{si:{ou:[{"est non applicable":"$INTERNAL acc"},{"<":["$INTERNAL valeur","$INTERNAL acc"]}]},alors:"$INTERNAL valeur",sinon:"$INTERNAL acc"}}},avec:{"[privé] $INTERNAL valeur":{valeur:o},"[privé] $INTERNAL acc":{valeur:r}}}),lr));function ju(n){return n.reverse().reduce((r,o)=>({"+":[o,r]}),lr)}var Hy=sr("somme",{valeur:{type:"liste"}},({valeur:n})=>ju([...n])),qy=sr("moyenne",{valeur:{type:"liste"}},({valeur:n})=>{const r=[...n];return{"/":[ju(r),ju(r.map(Qy))]}});function Qy(n){return{"applicable si":{"est applicable":n},valeur:1}}var Yy=pn("non applicable si",{"non applicable si":{},valeur:{}},{condition:{si:"non applicable si = non",alors:"valeur",sinon:lr}}),jh={"*":[(n,r)=>n*r,"×"],"/":[(n,r)=>n/r,"∕"],"//":[(n,r)=>(n-n%r)/r,"//"],"**":[(n,r)=>n**r,"**"],"+":[(n,r)=>n+r],"-":[(n,r)=>n-r,"−"],"<":[(n,r)=>n<r],"<=":[(n,r)=>n<=r,"≤"],">":[(n,r)=>n>r],">=":[(n,r)=>n>=r,"≥"],"=":[(n,r)=>(n??!1)===(r??!1)],"!=":[(n,r)=>(n??!1)!==(r??!1),"≠"],et:[(n,r)=>(n??!1)&&(r??!1)],ou:[(n,r)=>(n??!1)||(r??!1)]},Gy=(n,r)=>(o,a)=>{const s=o.map(c=>re(c,a));return{...o,nodeKind:"operation",operationKind:n,operator:r||n,explanation:s}},Jy=function(n){var v;let r=this.evaluateNode(n.explanation[0]),o={...n,missingVariables:{}};if(r.nodeValue===null&&["<",">","<=",">=","/","*","//","-","et"].includes(n.operationKind)||r.nodeValue===0&&["/","*"].includes(n.operationKind)||r.nodeValue===!1&&n.operationKind==="et"||r.nodeValue===!0&&n.operationKind==="ou")return{...o,nodeValue:n.operationKind==="et"?!1:r.nodeValue,missingVariables:r.missingVariables};let a=this.evaluateNode(n.explanation[1]);if(o.explanation=[r,a],n.operationKind==="/"&&a.nodeValue===0)throw new X("EvaluationError","Division by zero",{dottedName:this.cache._meta.evaluationRuleStack[0]});if(a.nodeValue===null&&["<",">","<=",">=","/","*","//","et"].includes(n.operationKind)||a.nodeValue===0&&["*"].includes(n.operationKind)||a.nodeValue===!1&&n.operationKind==="et"||a.nodeValue===!0&&n.operationKind==="ou")return{...o,nodeValue:n.operationKind==="et"?!1:a.nodeValue,missingVariables:a.missingVariables};o.missingVariables=gt([r,a]),(r.nodeValue===void 0||a.nodeValue===void 0)&&(o={...o,nodeValue:void 0});const s=["+","-"].includes(n.operationKind)&&et(a.unit)==="%"&&et(r.unit)!=="%";if(!("nodeValue"in o)&&!["/","*","//"].includes(n.operationKind)&&!s)try{r.unit&&"unit"in a?a=Mn(r.unit,a):a.unit&&(r=Mn(a.unit,r))}catch(g){if(!(g instanceof Error))throw g;un(this.context,`Dans l'expression '${n.operationKind}', la partie gauche (unité: ${et(r.unit)}) n'est pas compatible avec la partie droite (unité: ${et(a.unit)})`,"unitConversion",g)}const c=jh[n.operationKind][0],f=r.nodeValue,p=a.nodeValue;if(o.nodeValue="nodeValue"in o?o.nodeValue:["<",">","<=",">=","*","/","//"].includes(n.operationKind)&&a.nodeValue===null?null:[f,p].every(g=>{var y;return typeof g=="string"&&((y=g.match)==null?void 0:y.call(g,/^[\d]{2}\/[\d]{2}\/[\d]{4}$/))})?c(Br(f).getTime(),Br(p).getTime()):c(f,p),n.operationKind==="*"&&((v=$n("*",[r.unit,a.unit]))!=null&&v.numerators.includes("%"))){const g=$n("*",[r.unit,a.unit]),y=o.nodeValue;return{...o,nodeValue:typeof y=="number"?y/100:y,unit:$n("*",[g,{numerators:[],denominators:["%"]}])}}if(s){const g=$n("*",[r.unit,a.unit]);return{...o,nodeValue:typeof r.nodeValue=="number"&&typeof a.nodeValue=="number"?r.nodeValue*(1+a.nodeValue/100*(n.operationKind==="-"?-1:1)):o.nodeValue,unit:$n("*",[g,{numerators:[],denominators:["%"]}])}}return n.operationKind==="*"||n.operationKind==="/"||n.operationKind==="//"||n.operationKind==="-"||n.operationKind==="+"?{...o,unit:$n(n.operationKind,[r.unit,a.unit])}:o};Te("operation",Jy);var Xy=Object.fromEntries(Object.entries(jh).map(([n,[,r]])=>[n,Gy(n,r)])),Zy=Xy,e1=pn("par défaut",{"par défaut":{},valeur:{}},{condition:{si:{"est non défini":"valeur"},alors:"par défaut",sinon:"valeur"}}),t1=pn("plafond",{plafond:{},valeur:{}},{condition:{si:{et:["plafond != non","valeur > plafond"]},alors:"plafond",sinon:"valeur"}}),n1=pn("plancher",{plancher:{},valeur:{}},{condition:{si:{et:["plancher != non","valeur < plancher"]},alors:"plancher",sinon:"valeur"}});function r1(n){return n.reduce((r,o)=>({"*":[o,r]}),Yt(1))}var qp=sr("produit",{valeur:{type:"liste"}},({valeur:n})=>({valeur:r1([...n]),"simplifier l'unité":"oui"})),i1=function(n){if(this.cache._meta.evaluationRuleStack.slice(1).includes(n.explanation.ruleToSolve))return{...Ta,...n};let r=0;const o=this.shallowCopy();o.context.warn.experimentalRules=!1,o.cache._meta.parentRuleStack=[...this.cache._meta.parentRuleStack],o.cache._meta.evaluationRuleStack=[...this.cache._meta.evaluationRuleStack];const a=this.context.inversionMaxIterations??25,s=w=>(r++,o.setSituation({[n.explanation.ruleToSolve]:{...Ta,nodeValue:w}},{keepPreviousSituation:!0}),o.evaluateNode(n.explanation.valeur)),c=Symbol("inversion failed");let f=c;const p=1;let v=s(p);const g=v.nodeValue,y=v.unit;return g!==void 0&&(f=Ch(b=>b===p?g-p:(v=s(b),v.nodeValue-b),-1e6,1e8,.5,a,2)),f===c&&(f=void 0,this.cache.inversionFail=!0),f!==void 0&&(v=s(f)),{...n,unit:y,nodeValue:f,explanation:{...n.explanation,valeur:v,numberOfIterations:r},missingVariables:v.missingVariables}};function Nh(n,r){return{explanation:{ruleToSolve:r.dottedName,valeur:re(n.valeur,r)},nodeKind:"résoudre référence circulaire"}}Nh.nom="résoudre la référence circulaire";Te("résoudre référence circulaire",i1);function bh(n,r){return{explanation:re(n.valeur,r),nodeKind:"simplifier unité"}}bh.nom="simplifier l'unité";Te("simplifier unité",function(r){const o=this.evaluateNode(r.explanation),a=o.nodeValue,s={...o,...r,explanation:o};if(a==null)return s;if(!o.unit)return{...s,unit:o.unit};const c=zu(o.unit);return{...s,nodeValue:typeof a=="number"?zn(o.unit,c,a):a,unit:c}});var o1=pn("dans la situation",{valeur:{},"dans la situation":{}},{condition:{si:{"est non défini":"dans la situation"},alors:"valeur",sinon:"dans la situation"}});function a1(n,r){return{explanation:{assiette:re(n.assiette,r),multiplicateur:n.multiplicateur?re(n.multiplicateur,r):Yt(1),tranches:Wu(n.tranches,r)},nodeKind:"taux progressif"}}var l1=function(n){const r=this.evaluateNode.bind(this),o=this.evaluateNode(n.explanation.assiette),a=this.evaluateNode(n.explanation.multiplicateur);if(a.nodeValue===0)throw new X("EvaluationError","Division by zero",{dottedName:""});const s=Hu.call(this,{parsedTranches:n.explanation.tranches,assiette:o,multiplicateur:a}),c={...n,explanation:{tranches:s,assiette:o,multiplicateur:a},unit:Qt("%")},f=s[s.length-1];if(s.every(({isActive:T})=>T===!1)||f.isActive&&f.plafond.nodeValue===1/0){const T=Mn(Qt("%"),r(f.taux)),{nodeValue:A,missingVariables:z}=T;return f.taux=T,f.nodeValue=A,f.missingVariables=z,{...c,nodeValue:A,missingVariables:z}}if(s.every(({isActive:T})=>T!==!0)||typeof o.nodeValue!="number")return{...c,nodeValue:void 0,missingVariables:gt(s)};const p=s.findIndex(({isActive:T})=>T===!0),v=s[p];v.taux=Mn(Qt("%"),r(v.taux));const g=s[p-1];g&&(g.taux=Mn(Qt("%"),r(g.taux)),g.isActive=!0);const y=g?g.taux:v.taux,w=[y,v.taux];if(w.some(T=>T.nodeValue===void 0))return v.nodeValue=void 0,{...c,nodeValue:void 0,missingVariables:gt(w)};const k=y.nodeValue,R=v.taux.nodeValue,b=v.plancherValue,L=v.plafondValue,V=(R-k)/(L-b),O=k+(o.nodeValue-b)*V;return v.nodeValue=O,{...c,nodeValue:O,missingVariables:{}}};Te("taux progressif",l1);var Qu="texte";function Nu(n,r){const o=[];let a=0;for(const{0:s,index:c}of n.matchAll(/{{(.|\n)*?}}/g)){const f=s.slice(2,-2).trim(),p=re(f,r);o.push(n.substring(a,c),p),a=(c??0)+s.length}return o.push(n.slice(a)),{nodeKind:Qu,explanation:o}}Nu.nom=Qu;Te(Qu,function(r){const o=r.explanation.map(a=>typeof a=="string"?a:this.evaluateNode(a));return{...r,explanation:o,missingVariables:gt(o.filter(a=>typeof a!="string")),nodeValue:o.map(a=>typeof a=="string"?a:Dn(a)).join("")}});var s1=sr("toutes ces conditions",{valeur:{type:"liste"}},({valeur:n})=>n.reduce((r,o)=>({et:[r,o]}),"oui")),u1=sr("une de ces conditions",{valeur:{type:"liste"}},({valeur:n})=>n.reduce((r,o)=>({ou:[r,o]}),"non"));function Ga(n,r){const o=re(n.valeur,r),a=Qt(n.unité,r.getUnitKey);return{explanation:o,unit:a,nodeKind:Ga.nom}}Ga.nom="unité";Te(Ga.nom,function(r){const o=this.evaluateNode(r.explanation);let a=o.nodeValue;if(a!==null&&"unit"in r)try{a=zn(o.unit,r.unit,o.nodeValue)}catch(s){if(!(s instanceof Error))throw s;un(this.context,"Erreur lors de la conversion d'unité explicite","unitConversion",s)}return{...r,nodeValue:a,explanation:o,missingVariables:o.missingVariables}});function Ja(n,r){return{missingVariable:n["variable manquante"],nodeKind:Ja.nom,explanation:re(n.valeur,r)}}Ja.nom="variable manquante";Te(Ja.nom,function(r){const o=this.evaluateNode(r.explanation),a=Object.values(o.missingVariables??{}).reduce((s,c)=>s>c?s:c,0);return{...r,nodeValue:o.nodeValue,unit:o.unit,explanation:o,missingVariables:cn(o.missingVariables,{[r.missingVariable]:a+1})}});function c1(n,r){return{explanation:n.map(({si:a,alors:s,sinon:c})=>c!==void 0?{consequence:re(c,r),condition:Yt(!0)}:{consequence:re(s,r),condition:re(a,r)}),nodeKind:"variations"}}var d1=function(n){const[r,o,a]=n.explanation.reduce(([s,c,f,p],{condition:v,consequence:g},y)=>{if(p===!0)return[s,[...c,{condition:v,consequence:g}],f,p];const w=this.evaluateNode(v),k=p===void 0?p:!p&&(w.nodeValue===void 0?void 0:w.nodeValue!==!1&&w.nodeValue!==null);if(k===!1||k===null)return[s,[...c,{condition:w,consequence:g}],f,p];let R;if(w.nodeValue!==!1&&w.nodeValue!==null&&(R=this.evaluateNode(g),f))try{R=Mn(f,R)}catch(b){if(!(b instanceof Error))throw b;un(this.context,`L'unité de la branche n° ${y+1} du mécanisme 'variations' n'est pas compatible avec celle d'une branche précédente`,"unitConversion",b)}return[k&&(R==null?void 0:R.nodeValue),[...c,{condition:w,consequence:R??g}],f||(R==null?void 0:R.unit),p||k]},[null,[],void 0,!1]);return{...n,nodeValue:r,...a!==void 0&&{unit:a},explanation:o,missingVariables:o.reduce((s,{condition:c,consequence:f})=>cn(s,cn(Zm(c.missingVariables),"nodeValue"in c&&c.nodeValue!==!1&&c.nodeValue!==null?f.missingVariables:{})),{})}};Te("variations",d1);var Rh=class extends Error{constructor(r){const o=Ph(r);super(o);Ve(this,"details");this.details=r}},f1=class extends X{constructor(n){const r=Ph(n);super("SyntaxError",r,n)}};function Ph({expression:n,position:r,expected:o,found:a,customMessage:s}){const c=" ".repeat(r)+"^",f=`${o} est attendu, ${a?`mais "${a}" a été trouvé`:"hors l’expression se termine prématurément"}`;return`L'expression suivante n'est pas valide :
   
   ${n}
   ${c}
   ${s??f}
`}function p1(n){return{strExpression:n,current:0,tree:null}}function Kr(n,r,o,a){throw new Rh({expression:n.strExpression,position:n.current,expected:r,found:o,customMessage:a})}function bu(n,r){return Hr(n)&&Kr(n,`'${r}'`,""),n.strExpression[n.current++]}function m1(n,r){const o=Tt(n);o!==r&&Kr(n,`'${r}'`,o),bu(n,r)}function In(n,r,o,a){const s=n.strExpression.slice(n.current).match(r);return s||Kr(n,o??r.source,Tt(n,5),a),n.current+=s[0].length,{parser:n,value:s[0]}}function h1(n,r="<expression>"){if(typeof n=="number")return Vh(n);const o=(n+"").replace(/\s*\n\s*/g," ").trim();try{const a=p1(o),s=_h(a);return Hr(s)||(ar(s,C1)&&Kr(s,"un opérateur entouré d’espaces",Tt(s),'Les opérateurs doivent être entourés d’espaces ("2 + 2" et non "2+2")'),Kr(s,"La fin d’expression",Tt(s))),s.tree}catch(a){throw a instanceof Rh?new f1({...a.details,dottedName:r}):a}}function _h(n){let r=Qp(n);for(;!Hr(r)&&ar(r,am);){const o=Xa(r,am),a=Qp(o.parser);a.tree=Za(o.value,r.tree,a.tree),r=a}return r}function Qp(n){let r=Yp(n);for(;!Hr(r)&&ar(r,om);){const o=Xa(r,om),a=Yp(o.parser);a.tree=Za(o.value,r.tree,a.tree),r=a}return r}function Yp(n){let r=Ru(n);for(;!Hr(r)&&ar(r,im);){const o=Xa(r,im),a=Ru(o.parser);a.tree=Za(o.value,r.tree,a.tree),r=a}return r}function Ru(n){let r=Lh(n);for(;!Hr(r)&&ar(r,rm);){const o=Xa(r,rm),a=Ru(o.parser);a.tree=Za(o.value,r.tree,a.tree),r=a}return r}function Lh(n){if(Tt(n)==="("){bu(n,"("),In(n,ba);const r=_h(n);return In(r,ba),m1(r,")"),r}else if(Tt(n)==="-"){bu(n,"-"),In(n,ba);const r=Lh(n);return r.tree=v1(r.tree),r}else if(ar(n,Xp)){const r=In(n,Xp,"Une date");return{...r.parser,tree:x1(r.value)}}else if(Tt(n).match(Jp)){const r=In(n,Jp,"Un nombre");if(ar(r.parser,nm)){const o=In(r.parser,nm,"Une unité");return{...o.parser,tree:{constant:{type:"number",nodeValue:parseFloat(r.value),rawUnit:o.value.trim()}}}}return{...r.parser,tree:Vh(parseFloat(r.value))}}else if(Gp(n,"'")||Gp(n,'"')){const r=In(n,w1,"Une chaîne de caractères");return{...r.parser,tree:{constant:{type:"string",nodeValue:r.value.slice(1,-1)}}}}else if(Tt(n).match(el)||Tt(n)==="^"){const r=In(n,k1,"Un nom de règle");return{...r.parser,tree:r.value==="oui"||r.value==="non"?g1(r.value):{variable:r.value}}}Kr(n,"Une constante, une référence ou une expression entre parenthèses",Tt(n))}function Tt(n,r){return r?n.strExpression.slice(n.current,n.current+r):n.strExpression[n.current]}function Gp(n,r){return n.strExpression.slice(n.current,n.current+r.length)===r}function ar(n,r){return n.strExpression.slice(n.current).match(r)!=null}function Xa(n,r){const o=n.strExpression.slice(n.current).match(r);if(!o)throw new Error(`Expected '${r.source}' but got ${Tt(n)}`);return n.current+=o[0].length,{parser:n,value:o[1]}}function Hr(n){return n.current>=n.strExpression.length}function v1(n){return{"-":[{constant:{type:"number",nodeValue:0}},n]}}function Vh(n){return{constant:{type:"number",nodeValue:n}}}function g1(n){return{constant:{type:"boolean",nodeValue:n==="oui"}}}function Za(n,r,o){return{[n]:[r,o]}}function x1(n){return{constant:{type:"date",nodeValue:yh(n)}}}var Hi=/[\t\u0020\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/,ba=new RegExp(`^${Hi.source}*`),el=/[a-zA-Z\u00C0-\u017F$]/,y1=/[',°€$%²_'"'«»]/,E1=/\d/,w1=/'.*'|".*"/,Jp=/\d+(\.\d+)?/,Xp=/^(?:(?:0?[1-9]|[12][0-9]|3[01])\/)?(?:0?[1-9]|1[012])\/\d{4}/,Oh=new RegExp(`(${el.source}|${y1.source}|${E1.source})`),Zp=new RegExp(`(${Oh.source}|\\-|\\+|')`),Ah=n=>new RegExp(`(${n.source}${Zp.source}*)(${Hi.source}${Oh.source}${Zp.source}*)*`),em=Ah(el),k1=new RegExp(`^(${em.source}|\\^)( \\. ${em.source})*`),S1=/[°%\p{Sc}€$]/u,tm=Ah(new RegExp(`(${S1.source}|${el.source})`)),nm=new RegExp(`${ba.source}(\\/)?${tm.source}(${Hi.source}*(\\.|\\/)${tm.source})*`),tl=n=>new RegExp(`^${Hi.source}+(${n.join("|")})${Hi.source}+`),rm=tl(["\\*\\*"]),im=tl(["\\*","\\/","\\/\\/"]),om=tl(["-","\\+"]),am=tl([">","<",">=","<=","=","!="]),C1=/(\+|-|\*|\/|\*\*|>|<|>=|<=|=|!=)/;function j1(n,r){if(!r.dottedName)throw new X("InternalError","Une référence ne peut pas exister en dehors d'une règle (`context.dottedName` est vide)",{dottedName:n});if(!n)throw new X("SyntaxError","Une référence ne peut pas être vide",{dottedName:r.dottedName});return{nodeKind:"reference",name:n,contextDottedName:r.dottedName}}Te("reference",function(r){if(!r.dottedName)throw new Ha(r);const o=this.evaluateNode(this.context.parsedRules[r.dottedName]);return delete o.sourceMap,{...o,...r}});function re(n,r){if(n==null)throw new X("SyntaxError",`
	Une des valeurs de la formule est vide.
	Vérifiez que tous les champs à droite des deux points sont remplis`,{dottedName:r.dottedName});if(typeof n=="boolean")throw new X("SyntaxError",`
Les valeurs booléennes true / false ne sont acceptées.
Utilisez leur contrepartie française : 'oui' / 'non'`,{dottedName:r.dottedName});const o=typeof n=="object"?n:h1(n,r.dottedName);return"nodeKind"in o?o:{...N1(o,r),rawNode:n}}function lm(n,r){if(Array.isArray(n))throw new X("SyntaxError",`
Il manque le nom du mécanisme pour le tableau : [${n.map(f=>`'${f}'`).join(", ")}]
Les mécanisme possibles sont : 'somme', 'le maximum de', 'le minimum de', 'toutes ces conditions', 'une de ces conditions'.
		`,{dottedName:r.dottedName});const o=Object.keys(n);if(o.length>1)throw new X("SyntaxError",`
Les mécanismes suivants se situent au même niveau : ${o.map(f=>`'${f}'`).join(", ")}
Cela vient probablement d'une erreur dans l'indentation
	`,{dottedName:r.dottedName});if(o.length===0)return{nodeKind:"constant",nodeValue:void 0};const a=o[0],s=n[a],c=Ih[a];if(!c)throw new X("SyntaxError",`Le mécanisme "${a}" est inconnu.

Vérifiez qu'il n'y ait pas d'erreur dans l'orthographe du nom.`,{dottedName:r.dottedName});try{return c(s,r)}catch(f){throw f instanceof X||!(f instanceof Error)?f:new X("SyntaxError",a?`➡️ Dans le mécanisme ${a}
${f.message}`:f.message,{dottedName:r.dottedName})}}var Yu=[qu,Ja,gh,Qx,Yy,Qa,Ga,bh,n1,t1,e1,o1,Nh,qx];function N1(n,r){const o=Yu.find(c=>c.nom in n);if(!o)return lm(n,r);const{[o.nom]:a,...s}=n;return lm({[o.nom]:{valeur:s,[o.nom]:a}},r)}var Ih={...Zy,...Yu.reduce((n,r)=>({[r.nom]:r,...n}),{}),logarithme:ny,"inversion numérique":By,"le maximum de":Ky,"le minimum de":Wy,"taux progressif":a1,"toutes ces conditions":s1,"est non défini":Sh,"est non applicable":Uu,"est applicable":My,"est défini":$y,"une de ces conditions":u1,condition:xh,barème:Ny,durée:Ty,grille:Fy,multiplication:qp,produit:qp,somme:Hy,moyenne:qy,[Nu.nom]:Nu,valeur:re,variable:j1,variations:c1,constant:(n,r)=>Object.assign(n,{fullPrecision:!0,isNullable:n.nodeValue==null,missingVariables:{},nodeKind:"constant",...n.type==="number"&&n.rawUnit?{unit:Qt(n.rawUnit,r.getUnitKey)}:{}})},Th=Object.keys(Ih);Th.filter(n=>!Yu.find(({nom:r})=>r===n));var b1=0,va={};function $h(n,r){return n?(Array.isArray(n)?n:[n]).map(o=>{typeof o=="string"&&(o={"références à":o});const a=re(o["références à"],r),[s,c]=[o.dans??[],o["sauf dans"]??[]].map(f=>Array.isArray(f)?f:[f]).map(f=>f.map(p=>re(p,r)));if(o.priorité!=null&&(typeof o.priorité!="number"||o.priorité<0))throw new X("SyntaxError","La priorité du remplacement doit être un nombre positif",r);return{nodeKind:"replacementRule",rawNode:o,priority:o.priorité,definitionRule:re(r.dottedName,r),replacedReference:a,replaceByNonApplicable:!1,whiteListedNames:s,blackListedNames:c,remplacementRuleId:b1++}}):[]}function R1(n,r){const o=$h(n,r);return o.forEach(a=>a.replaceByNonApplicable=!0),o}function P1(n){const r={};for(const o in n){const a=n[o];for(const s of a.replacements){if(!s.replacedReference.dottedName)throw new Ha(s);const c=s.replacedReference.dottedName;r[c]=[...r[c]??[],s]}}return r}function _1({newRules:n,previousReplacements:r,parsedRules:o,referencesMaps:a}){const s=P1(n),c=new Set([]);for(const y in s){const w=a.rulesThatUse.get(y)??[];for(const k of w)c.add(k)}const f=new Set(Object.keys(n).filter(y=>[...a.referencesIn.get(y)??new Set].some(w=>(r[w]??[]).length))),p=Cx(r,s);if(!f.size&&!c.size)return[o,p];const v=sm(r,a),g=sm(s,a);return f.forEach(y=>{o[y]=v(o[y])}),c.forEach(y=>{o[y]=g(o[y])}),[o,p]}function sm(n,r){return Wi((o,a)=>{if(o.nodeKind==="replacementRule"||o.nodeKind==="inversion"||o.nodeKind==="une possibilité")return!1;if(o.nodeKind==="contexte")return{...o,explanation:{...o.explanation,valeur:a(o.explanation.valeur),contexte:o.explanation.contexte.map(([s,c])=>[s,a(c)])}};if(o.nodeKind==="reference"){if(!o.dottedName)throw new Ha(o);const s=L1(o,n[o.dottedName]??[]);return Xm(c=>(Ku(c,r,o.contextDottedName),"continue"))(s),s}})}function L1(n,r){const o=r.filter(({definitionRule:c})=>c.dottedName!==n.contextDottedName).filter(({whiteListedNames:c})=>!c.length||c.some(f=>n.contextDottedName.startsWith(f.dottedName))).filter(({blackListedNames:c})=>!c.length||c.every(f=>!n.contextDottedName.startsWith(f.dottedName))).reverse().sort((c,f)=>{const p=(f.priority??0)-(c.priority??0);return p!==0?p:f.definitionRule.dottedName.localeCompare(c.definitionRule.dottedName)});if(!o.length)return n;const a=o.map(c=>c.remplacementRuleId).join("-");if(va[a])return va[a];const s={nodeKind:"variations",explanation:[...o.map(({definitionRule:c,replaceByNonApplicable:f})=>f?{condition:c,consequence:lr}:{condition:V1(c),consequence:c}),{condition:Mh,consequence:n}]};return s.sourceMap={mecanismName:"replacement",args:{applicableReplacements:o,originalNode:n}},va[a]=s,va[a]}function V1(n){return{nodeKind:"condition",explanation:{si:{nodeKind:"est non applicable",explanation:n},alors:O1,sinon:Mh}}}var Mh=Yt(!0),O1=Yt(!1);function qi(n){return{evaluatedRule:void 0,dottedName:"",logger:console,getUnitKey:r=>r,parsedRules:{},referencesMaps:{referencesIn:new Map,rulesThatUse:new Map},nodesTypes:new WeakMap,rulesReplacements:{},subEngines:new Map,subEngineId:void 0,...n,flag:{filterNotApplicablePossibilities:!1,...n.flag},strict:{situation:!0,noOrphanRule:!0,noCycleRuntime:!1,checkPossibleValues:!1,...n.strict},warn:{cyclicReferences:!0,experimentalRules:!0,unitConversion:!0,deprecatedSyntax:!0,...n.warn}}}function ga(n){return Object.assign({},n,{parsedRules:Re(n.parsedRules),referencesMaps:{referencesIn:new Map(n.referencesMaps.referencesIn),rulesThatUse:new Map(n.referencesMaps.rulesThatUse)},subEngines:new Map,warn:Re(n.warn),strict:Re(n.strict),flag:Re(n.flag)})}function Ra(n,r=qi({})){if(typeof n=="string")throw new X("EngineError","Publicodes does not parse yaml rule sets itself anymore. Please provide a parsed js object. E.g. the `eemeli/yaml` package.",{});const o=Re(n),a=qi(r),s=a.parsedRules;a.parsedRules={},hh(o,a);let c={};for(const y in s)c[y]=s[y];for(const y in a.parsedRules)c[y]=a.parsedRules[y];const[f,p]=A1(c,a.parsedRules,a.referencesMaps,!a.strict.noOrphanRule);let v;[c,v]=_1({parsedRules:c,newRules:f,referencesMaps:p,previousReplacements:a.rulesReplacements});const g=Wx(Object.keys(f),c,a.nodesTypes);return{parsedRules:c,nodesTypes:g,referencesMaps:p,rulesReplacements:v}}function A1(n,r,o,a){const s=Wi(p=>Su(p,n)),c=Wi(p=>{const v=Su(p,n);return v&&Ku(v,o),v});return[bx(p=>{if(p.nodeKind==="replacementRule")return s(p);if(p.nodeKind==="rule"){const v=p.explanation.parents.find(g=>!(g.dottedName in n));if(!a&&v)throw new X("SyntaxError",`La règle parente "${v.dottedName}" n'existe pas`,{dottedName:p.dottedName})}return c(p)},r),o]}function I1(n,r,o,a,s){var c;if(n!==void 0){if(o!==void 0){(c=o.traversedVariables)==null||c.forEach(f=>{var p;return(p=n[0])==null?void 0:p.add(f)});return}s&&n.unshift(new Set),r.nodeKind==="reference"&&r.dottedName&&r.dottedName in a&&n[0].add(r.dottedName)}}function T1(n,r){return!!n&&(n.length===0||r.nodeKind==="rule")}function $1(n,r,o){n!==void 0&&o&&(r.traversedVariables=Array.from(n.shift()??[]),n.length>0&&r.traversedVariables.forEach(a=>{n[0].add(a)}))}var xa=()=>({_meta:{evaluationRuleStack:[],parentRuleStack:[]},traversedVariablesStack:void 0,nodes:new Map}),M1=class Dh{constructor(r={},o={}){Ve(this,"baseContext");Ve(this,"context");Ve(this,"publicParsedRules");Ve(this,"publicSituation");Ve(this,"cache",xa());Ve(this,"checkExperimentalRule",Xm(r=>(r.nodeKind==="reference"&&ku(this.context.parsedRules,r.dottedName)&&Pp(this.baseContext,r.dottedName),"continue")));var f;const a=o.strict,s=o.warn,c={dottedName:"",...o,flag:{filterNotApplicablePossibilities:((f=o.flag)==null?void 0:f.filterNotApplicablePossibilities)??!1},strict:typeof a=="boolean"?{situation:a,noOrphanRule:o.allowOrphanRules===!0?!1:a,checkPossibleValues:a,noCycleRuntime:a}:typeof a=="object"?a:{},warn:typeof s=="boolean"?{cyclicReferences:s,experimentalRules:s,unitConversion:s}:typeof s=="object"?s:{}};this.baseContext=qi({...c,...Ra(r,c)}),this.context=ga(this.baseContext),this.publicParsedRules={};for(const p in this.baseContext.parsedRules){const v=this.baseContext.parsedRules[p];!v.private&&Ya(this.baseContext.parsedRules,"",p)&&(this.publicParsedRules[p]=v)}this.publicSituation={}}resetCache(){this.cache=xa(),this.context.subEngines=new Map}setSituation(r={},o={}){this.resetCache();const a=o.keepPreviousSituation??!1,s=o.strict??this.baseContext.strict.situation??!0;let c=Object.entries(r).filter(([p,v])=>{const g=this.checkSituationRule(p,v,s);if(!g)return!0;if(s)throw g;return this.baseContext.logger.error(g.message),!1});const f=this.context;if(a||(this.context=ga(this.baseContext),this.publicSituation={}),s){const p=this.parseSituationRules(c);if(p)throw this.context=f,p}else c=c.filter(p=>{const v=this.parseSituationRules([p]);return v&&this.baseContext.logger.error(v.message),!v});return this.publicSituation=Object.assign(this.publicSituation,Object.fromEntries(c)),this.context.warn.experimentalRules&&Object.keys(this.publicSituation).forEach(p=>{ku(this.context.parsedRules,p)&&Pp(this.context,p),this.checkExperimentalRule(this.context.parsedRules[`${p} . $SITUATION`])}),this}inversionFail(){return!!this.cache.inversionFail}getRule(r){if(!(r in this.baseContext.parsedRules))throw new X("UnknownRule",`La règle '${r}' n'existe pas`,{dottedName:r});if(!(r in this.publicParsedRules))throw new X("PrivateRule",`La règle ${r} est une règle privée.`,{dottedName:r});return this.publicParsedRules[r]}getParsedRules(){return this.publicParsedRules}getSituation(){return this.publicSituation}getPossibilitiesFor(r,{filterNotApplicable:o=!1}={}){var s;if(!((s=this.context.flag)!=null&&s.filterNotApplicablePossibilities)&&o)throw new X("EngineError","You must enable `flag.filterNotApplicablePossibilities` in engine instantiation to use the filterNotApplicable option",{});const a=this.getRule(r);return a.possibilities?o?this.evaluateNode(a.possibilities).explanation.filter(c=>{var f;return((f=c.notApplicable)==null?void 0:f.nodeValue)!==!0}):a.possibilities.explanation:null}evaluate(r){const o=this.cache.nodes.get(r);if(o)return o;this.context=Object.assign(this.context,Ra({"[privé] $EVALUATION":r&&typeof r=="object"&&"nodeKind"in r?{valeur:r}:r},this.context)),this.checkExperimentalRule(this.context.parsedRules.$EVALUATION),this.cache._meta=xa()._meta;const a=this.evaluateNode(this.context.parsedRules.$EVALUATION.explanation.valeur);return this.cache.nodes.set(r,a),a}evaluateNode(r){const o=this.cache.nodes.get(r);let a=!1;if(this.cache.traversedVariablesStack&&(a=T1(this.cache.traversedVariablesStack,r),I1(this.cache.traversedVariablesStack,r,o,this.publicParsedRules,a)),o!==void 0)return o;if(!Ui[r.nodeKind])throw new X("EvaluationError",`Unknown "nodeKind": ${r.nodeKind}`,{dottedName:""});const s=Ui[r.nodeKind].call(this,r);return this.cache.traversedVariablesStack&&$1(this.cache.traversedVariablesStack,s,a),this.cache.nodes.set(r,s),s}shallowCopy(){const r=new Dh;return r.baseContext=ga(this.baseContext),r.context=ga(this.context),r.publicParsedRules=this.publicParsedRules,r.publicSituation=Re(this.publicSituation),r.cache={...xa(),nodes:new Map(this.cache.nodes)},r}checkSituationRule(r,o,a){if(!(r in this.baseContext.parsedRules)){const c=`'${r}' n'existe pas dans la base de règle.`;return new X("SituationError",c,{dottedName:r})}const s=this.baseContext.parsedRules[r];if(s.private){const c=`La règle ${r} est une règle privée.`;return new X("SituationError",c,{dottedName:r})}if(s.possibilities&&(this.baseContext.strict.checkPossibleValues||!a)&&!uh(this,s.possibilities,this.evaluate(o))){const c=`La valeur ${o} ne fait pas parti des possibilités applicables listées pour cette règle.`;return new X("SituationError",c,{dottedName:r})}return!1}parseSituationRules(r){const o=Object.fromEntries(r.map(([a,s])=>[`[privé] ${a} . $SITUATION`,s&&typeof s=="object"&&"nodeKind"in s?{valeur:s}:s]));try{const a=Ra(o,this.context);return this.context=Object.assign(this.context,a),!1}catch(a){let s="",c;if(!(a instanceof Error))throw a;return s=a.message,"dottedName"in a&&(c=a.dottedName),new X("SituationError",s,{dottedName:c??""})}}},um=M1,Fh=({className:n})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",className:n,"aria-hidden":"true",children:[m.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),m.jsx("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})]}),D1=le.div`
	overflow: hidden;
	border-radius: 6px;
	border: 1px solid #bbb;
`,zh=le.h4`
	font-weight: 700;
	margin: 2rem 0px 1rem;
	font-size: 1.25rem;
	line-height: 1.75rem;

	button {
		display: flex;
		flex-wrap: nowrap;
		flex-direction: row;
		align-content: center;
		align-items: center;
		justify-content: space-between;
		text-align: left;
		width: 100%;
		height: 50px;
		border: none;
		padding: 1.5rem;
		cursor: pointer;
		font-size: 1rem;
		font-weight: bold;

		&:hover {
			text-decoration: underline;
		}
	}
`,F1=le.div`
	border: 0 solid #bbb;
	${({i:n})=>n>0&&Ur`
			border-top-width: 1px;
		`}

	& ${zh} {
		margin: 0;
	}
`,z1=le.div`
	display: ${({open:n})=>n?"block":"none"};
	margin: 1.5rem;
`,U1=le(Fh)`
	display: inline-block;
	width: 25px;
	transition: transform 0.1s;
	height: 25px;
	transform: rotate(${({$isOpen:n})=>n?"180deg":"360deg"});
`,B1=({items:n})=>{const[r,o]=j.useState([]),a=s=>()=>o(c=>(c[s]=!c[s],[...c]));return m.jsx(D1,{children:n.map(({id:s,title:c,children:f},p)=>m.jsxs(F1,{id:s,i:p,children:[m.jsx(zh,{children:m.jsxs("button",{onClick:a(p),children:[m.jsx("span",{children:c}),m.jsx(U1,{$isOpen:r[p]})]})}),m.jsx("div",{children:m.jsx(z1,{open:!!r[p],children:f})})]},s))})},K1=le.div`
	position: relative;
	:hover button,
	:focus-within button {
		opacity: 1;
	}
`,W1=le.div`
	position: absolute;
	right: 0;
	top: 0;
	margin: 0 0.5rem;
	height: 100%;
	display: flex;
	align-items: center;
	gap: 0.5rem;
	line-height: 0;

	& button {
		transform: translateT(-50%);
		margin: 0;
		padding: 1px 3px;
		transition: opacity ease-in-out 0.1s;
		cursor: pointer;
	}
`,H1=le.pre`
	overflow: auto;
	padding: 0.5rem;
	background-color: #e6e9ec;
	border-radius: 0.25rem;
`,q1=({tabs:n})=>{const[r,o]=j.useState(),a=Object.keys(n),s=r??a[0];return m.jsxs(K1,{children:[m.jsxs(W1,{children:[typeof navigator<"u"&&navigator.clipboard&&m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n[s])},children:"copier"}),a.length>1&&a.filter(c=>c!==s).map(c=>m.jsx("button",{onClick:()=>o(c),children:c},c))]}),m.jsx(H1,{children:m.jsx("code",{children:n[s]})})]})};function Q1({references:n}){return n?m.jsx("ul",{children:Object.entries(n).map(([r,o])=>m.jsx("li",{style:{display:"flex",alignItems:"center"},children:m.jsx("a",{href:o,target:"_blank",style:{marginRight:"1rem"},rel:"noreferrer",children:ch(r)})},r))}):null}var Y1=({children:n})=>m.jsx("p",{children:n}),G1=n=>m.jsx("a",{...n}),Uh=(n={})=>{const r={References:Q1,Text:Y1,Code:q1,Accordion:B1,Link:G1};return Object.fromEntries([...Object.keys(r),...Object.keys(n)].map(o=>[o,n[o]??r[o]]).filter(([,o])=>o))},mn=j.createContext(Uh()),Bh=j.createContext("/documentation"),Gu=j.createContext(void 0),ur=j.createContext(void 0),Kh=j.createContext(void 0),hn=()=>{const n=j.useContext(ur);if(!n)throw new Error("Engine expected");return n},Ju=n=>{if(!n)return!1;const r=j.useContext(Kh);return r?r.includes(n):!1},{encodeRuleName:J1}=Mt;function X1({dottedName:n,engine:r,currentEngineId:o,documentationPath:a,displayIcon:s=!1,linkComponent:c,children:f,...p}){var b;const v=j.useContext(mn),g=Mt.findCommonAncestor(j.useContext(Gu)??n,n),y=c||v.Link;if(!y)throw new Error("You must provide a <Link /> component.");const w=r.context.parsedRules[n],k=a+"/"+J1(n),R=[...Mt.ruleParents(n).reverse().filter(L=>L.startsWith(`${g} . `)).map(L=>{var V;return(V=r.context.parsedRules[L])==null?void 0:V.title.trim()}),(b=w.title)==null?void 0:b.trim()].join(" › ");if(!w)throw new Error(`Unknown rule: ${n}`);return m.jsxs(y,{...p,"aria-label":p["aria-label"]??(w.title&&w.title+", voir les détails du calcul pour : "+w.title),to:k+(o?`?currentEngineId=${o}`:""),children:[f||R||w.dottedName.split(" . ").slice(-1)[0]," ",s&&w.rawNode.icônes&&m.jsx("span",{children:w.rawNode.icônes})]})}function Gt(n){const r=hn(),o=j.useContext(Bh),a=typeof window<"u"&&new URLSearchParams(window.location.search).get("currentEngineId"),s=n.useSubEngine!==!1&&(n.currentEngineId||r.context.subEngineId||a&&Number.parseInt(a))||void 0;return m.jsx(X1,{engine:r,currentEngineId:s,documentationPath:o,...n})}var Z1=bm();const cm=Ou(Z1);var Xu=({value:n,prefixed:r,children:o})=>m.jsxs("div",{children:[r&&o,m.jsx("div",{className:"value",style:{position:"relative",margin:"1rem 0"},children:m.jsx(ue,{node:n})}),!r&&o]});function eE(n){return m.jsx(Xu,{value:n.explanation.valeur,children:m.jsxs("p",{children:[m.jsx("strong",{children:"Arrondi : "}),m.jsx(ue,{node:n.explanation.arrondi})]})})}var Zu="masquée par l'intégrateur",Ji=({data:n,unit:r,hideValue:o})=>m.jsx(Wh,{className:"node-value-pointer",title:n===null?"Non applicable":"","aria-label":n===null?"Valeur non applicable":"",children:n===null?m.jsx("span",{"aria-hidden":!0,children:"-"}):o?m.jsx("span",{children:Zu}):Dn({nodeValue:n,unit:r})}),Wh=le.span`
	background: white;
	border-bottom: 0 !important;
	font-size: 0.875rem;
	line-height: 1.25rem;
	margin: 0 0.2rem;
	flex-shrink: 0;
	padding: 0.1rem 0.2rem;
	text-decoration: none !important;
	box-shadow:
		0px 1px 2px 1px #d9d9d9,
		0 0 0 1px #d9d9d9;
	border: 1px solid #f8f9fa;
	border-radius: 0.2rem;
`,dm={"applicable si":"#7B1FA2","non applicable si":"#7B1FA2","est applicable":"#00796B","est non applicable":"#00796B","est défini":"#00796B","est non défini":"#00796B",somme:"#18457B",plafond:"#EF6C00",plancher:"#EF6C00",abattement:"#B73731",produit:"#2ecc71","une de ces conditions":"#3498db","toutes ces conditions":"#3498db","le maximum de":"#795548","le minimum de":"#795548",variations:"#FF9800","par défaut":"#00695C","taux progressif":"#795548",barème:"#9B296F",grille:"#AD1457","une possibilité":"#00796B",avec:"#2653ce"},Hh=n=>n in dm?dm[n]:"palevioletred";function Jt({name:n,value:r,children:o,unit:a,displayName:s=!0,docUrl:c}){return m.jsxs(tE,{$mecanismName:n,children:[s&&m.jsx(nE,{name:n,href:c,children:n}),m.jsxs("div",{children:[o,r!==void 0&&m.jsxs(iE,{children:[m.jsx("small",{children:" = "}),m.jsx(Ji,{data:r,unit:a})]})]})]})}var tE=le.div`
	border: 1px solid;
	max-width: 100%;
	border-radius: 3px;
	padding: 0.5rem 1rem;
	position: relative;
	flex: 1;
	flex-direction: column;
	text-align: left;
	border-color: ${({$mecanismName:n})=>Hh(n)};
	.properties > li {
		margin: 1rem 0;
	}
`,nE=({name:n,inline:r=!1,children:o,href:a})=>m.jsx(m.Fragment,{children:m.jsx(rE,{name:n,$inline:r,target:"_blank",href:a??`https://publi.codes/docs/mecanismes#${n}`,children:o})}),rE=le.a`
	background-color: ${({name:n})=>Hh(n)} !important;
	font-size: inherit;
	display: inline-block;
	font-weight: inherit;
	width: fit-content;
	font-family: inherit;
	padding: 0.4rem 0.6rem !important;
	color: white !important;
	transition: hover 0.2s;
	:hover {
		color: white;
	}
	${n=>n.$inline?Ur`
				border-radius: 0.3rem;
				margin-bottom: 0.5rem;
			`:Ur`
				top: -0.5rem;
				position: relative;
				margin-left: -1rem;
				border-radius: 0 !important;
				border-bottom-right-radius: 0.3rem !important;
				::first-letter {
					text-transform: capitalize;
				}
			`}
	:hover {
		opacity: 0.8;
	}
`,iE=le.div`
	text-align: right;
	margin-top: 1rem;
	font-weight: bold;
`;function oE({nodeValue:n,explanation:r,unit:o}){return m.jsx(Jt,{name:"barème",value:n,unit:o,children:m.jsx(nc,{children:m.jsxs("ul",{className:"properties",children:[m.jsx(ec,{explanation:r}),m.jsx(tc,{tranches:r.tranches,multiplicateur:r.multiplicateur}),n!=null&&r.tranches.length>2&&m.jsxs(m.Fragment,{children:[m.jsx("b",{children:"Taux moyen : "}),m.jsx(Ji,{data:100*n/(r.assiette.nodeValue??1),unit:Qt("%")})]})]})})})}var ec=({explanation:n})=>{const r=n.multiplicateur;return m.jsxs(m.Fragment,{children:[m.jsxs("li",{children:[m.jsx("span",{className:"key",children:"Assiette : "}),m.jsx("span",{className:"value",children:m.jsx(ue,{node:n.assiette})})]},"assiette"),r&&!r.isDefault&&m.jsxs("li",{children:[m.jsx("span",{className:"key",children:"Multiplicateur : "}),m.jsx("span",{className:"value",children:m.jsx(ue,{node:r})})]},"multiplicateur")]})},tc=({tranches:n,multiplicateur:r})=>{const o=n.find(({isActive:a})=>a);return n.length?m.jsxs("table",{className:"tranches",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Plafonds des tranches"}),"taux"in n[0]&&m.jsx("th",{children:"Taux"}),("montant"in n[0]||(o==null?void 0:o.nodeValue)!=null)&&m.jsx("th",{children:"Montant"})]})}),m.jsx("tbody",{children:n.map((a,s)=>m.jsx(aE,{tranche:a,multiplicateur:r},s))})]}):null},aE=({tranche:n,multiplicateur:r})=>{const o=n.isActive;return m.jsxs("tr",{className:`tranche ${o?"activated":""}`,children:[m.jsx("td",{children:n.plafond.nodeValue===1/0?"Au-delà du dernier plafond":m.jsxs(m.Fragment,{children:["Inférieur à ",m.jsx(ue,{node:n.plafond}),r&&!r.isDefault&&m.jsxs(m.Fragment,{children:[" × ",m.jsx(ue,{node:r})]})]})},"tranche"),"taux"in n&&m.jsx("td",{children:m.jsx(ue,{node:n.taux})},"taux"),(n.nodeValue!=null||"montant"in n)&&m.jsx("td",{children:"montant"in n?m.jsx(ue,{node:n.montant}):m.jsx(Ji,{data:n.nodeValue,unit:n.unit})},"value")]})},nc=le.div`
	table {
		margin: 1em 0;
		width: 100%;
		text-align: left;
		font-weight: 400;
	}
	table td {
		padding: 0.1em 0.4em;
	}
	table th {
		font-weight: 600;
	}
	table th:first-letter {
		text-transform: uppercase;
	}
	.tranche:nth-child(2n) {
		background: var(--lightestColor);
	}
	.tranche.activated {
		background: var(--lighterColor);
		font-weight: bold;
	}
`;function lE(n){const r=j.useContext(ur),{dottedName:o,nodeValue:a,unit:s}=n,c=r==null?void 0:r.context.parsedRules[n.dottedName],f=Ju(o);if(!c)throw new Error(`Unknown rule: ${o}`);const[p,v]=j.useState(!0),g=j.useContext(Pu);return n.dottedName===n.contextDottedName+" . "+n.name&&!n.name.includes(" . ")&&c.virtualRule?m.jsx(ue,{node:r==null?void 0:r.evaluate(c)}):m.jsxs("div",{style:{display:"flex",flex:g?1:"initial",flexDirection:"column",maxWidth:"100%"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"baseline",flexWrap:"wrap",justifyContent:"space-between"},children:[m.jsx("span",{style:{paddingRight:"0.2rem"},children:m.jsx(Gt,{dottedName:o})}),m.jsxs("div",{style:{flex:1,display:"flex",alignItems:"baseline"},children:[g&&m.jsxs(m.Fragment,{children:[m.jsx(sE,{onClick:()=>v(!p),"aria-expanded":!p,className:"publicodes_btn-small","aria-label":p?"Déplier, afficher le détail":"Replier, afficher le détail",children:p?"Déplier":"Replier"}),m.jsx(uE,{})]}),a!==void 0&&m.jsx(Ji,{data:a,unit:s,hideValue:f})]})]})," ",!p&&m.jsx("div",{children:m.jsx(Pu.Provider,{value:!1,children:m.jsx(ue,{node:r==null?void 0:r.evaluate(c)})})})]})}var Pu=j.createContext(!1),sE=le.button`
	text-transform: none !important;
`,uE=le.div`
	@media (max-width: 500px) {
		/* border: none; */
	}
	margin: 0.5rem;
	flex: 1;
	border-bottom: 2px dotted lightgray;
`;function Xi({sourceMap:n,nodeValue:r,unit:o}){const{args:a,mecanismName:s}=n,c="valeur"in a&&s in a&&Object.keys(a).length===2,f="valeur"in a&&Object.keys(a).length===1;return m.jsxs(m.Fragment,{children:[c&&m.jsx(ya,{node:a.valeur}),m.jsx("div",{style:{marginTop:c?"1rem":0},children:m.jsx(Jt,{name:s,value:r,unit:o,children:c?m.jsx(ya,{node:a[s],mecanismName:s}):f?m.jsx(ya,{node:a.valeur,mecanismName:s}):m.jsx("ul",{children:Object.entries(a).map(([p,v])=>m.jsxs("li",{style:{display:"flex",alignItems:"baseline",padding:"0.25rem 0"},children:[m.jsxs("span",{children:[p," : "]}),m.jsx("span",{children:m.jsx(ya,{node:v})})]},p))})})})]})}function ya({node:n,mecanismName:r}){if(Array.isArray(n)){const o=r==="produit"?"×":r==="somme"?"+":void 0;return m.jsx(dE,{explanation:n,hideNotApplicable:r!=="produit",sign:o})}return m.jsx(ue,{node:n})}var cE=n=>{var o;const r=(o=j.useContext(ur))==null?void 0:o.evaluate(n).nodeValue;return r===null||r===0};function dE({explanation:n,hideNotApplicable:r=!0,sign:o}){const[a,s]=n.reduce((v,g)=>(v[r&&cE(g)?1:0].push(g),v),[[],[]]),[c,f]=j.useState(a.length===0),p=j.useMemo(()=>"notApplicableExplanation"+Math.random().toString(36).substring(7),[]);return m.jsxs(m.Fragment,{children:[m.jsx(fm,{$sign:o,children:a.map((v,g)=>m.jsx(pm,{node:v},g))}),s.length>0&&a.length!==0&&m.jsx(fE,{style:{textAlign:"right"},children:m.jsx("button",{"aria-expanded":c,"aria-controls":p,className:"publicodes_btn-small",onClick:()=>f(!c),children:c?"Masquer les valeurs non applicable":"Voir toute la liste"})}),c&&m.jsx(fm,{id:p,$sign:o,$showFirst:a.length>0,children:s.map((v,g)=>m.jsx(pm,{node:v},g))})]})}var fE=le.div`
	margin: 0.5rem 0;
	margin-left: 1rem;
`,fm=le.ul`
	margin: 0;
	margin-left: 1rem;

	${({$sign:n,$showFirst:r})=>n&&!r&&Ur`
			& > li:first-child::marker {
				content: '';
			}
		`}
	${({$sign:n})=>n&&Ur`
			& > li::marker {
				font-weight: bold;
				content: '${n}  ';
			}
		`}
`;function pm({node:n}){return m.jsx(pE,{style:{padding:"0.25rem 0"},children:m.jsx(Pu.Provider,{value:!0,children:m.jsx(ue,{node:n})})})}var pE=le.li`
	> * {
		width: 100%;
	}
`;function mE(n){return m.jsx(Xi,{...n,sourceMap:{mecanismName:n.nodeKind,args:n.explanation}})}function hE({dottedName:n,nodeValue:r,type:o,fullPrecision:a,unit:s}){const c=Ju(n);return r===void 0?null:r===null?m.jsx("span",{className:"value",children:Dn({nodeValue:r})}):c?m.jsx("span",{children:Zu}):a?m.jsx("span",{className:o,children:Dn({nodeValue:r,unit:s},{precision:5})}):m.jsx("span",{className:"value",children:Dn({nodeValue:r,unit:s})})}function vE({explanation:n}){const r=hn(),o=n.subEngineId?r.context.subEngines.get(n.subEngineId)??r:r;return m.jsxs(m.Fragment,{children:[m.jsxs(Jt,{name:"contexte",children:[m.jsx("p",{children:"Ce calcul est effectué en changeant les valeurs des règles suivantes :"}),m.jsx(gE,{children:n.contexte.map(([a,s])=>m.jsxs(j.Fragment,{children:[m.jsx("dt",{children:m.jsx(Gt,{dottedName:a.dottedName})}),m.jsxs("dd",{children:[m.jsx("span",{"aria-hidden":!0,children:" = "}),m.jsx(ue,{node:s})]})]},a.dottedName))})]}),m.jsx(ur.Provider,{value:o,children:m.jsx(ue,{node:n.valeur})})]})}var gE=le.dl`
	display: grid;
	grid-template-columns: auto 1fr;
	gap: 0.6rem;
	line-height: 1.75;
	dd {
		margin: 0;
		display: flex;
		gap: 0.5rem;
	}
	@media (max-width: 600px) {
		grid-template-columns: auto;
		line-height: initial;
		dd {
			justify-content: flex-end;
			margin-bottom: 0.5rem;
		}
	}
`;function xE(n){return m.jsx(Xi,{...n,sourceMap:{mecanismName:n.nodeKind,args:n.explanation}})}function yE(n){return m.jsx(Xi,{...n,sourceMap:{mecanismName:n.nodeKind,args:{valeur:n.explanation}}})}function EE(n){return m.jsx(Xi,{...n,sourceMap:{mecanismName:n.nodeKind,args:{valeur:n.explanation}}})}function wE({nodeValue:n,explanation:r,unit:o}){return m.jsx(nc,{children:m.jsx(Jt,{name:"grille",value:n,unit:o,children:m.jsxs("ul",{className:"properties",children:[m.jsx(ec,{explanation:r}),m.jsx(tc,{tranches:r.tranches,multiplicateur:r.multiplicateur})]})})})}function kE({nodeValue:n,explanation:r}){const o=hn();return m.jsx(Jt,{name:"inversion numérique",value:n,children:o.cache.inversionFail&&r.inversionGoal?m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Cette valeur devrait pouvoir être estimée à partir d’une autre variable qui possède une formule de calcul et dont la valeur a été fixée dans la simulation :"}),m.jsx(ue,{node:r.inversionGoal}),m.jsx("p",{children:"Malheureusement, il a été impossible de retrouver une valeur pour cette formule qui permette d’atterrir sur la valeur demandée."})]}):r.inversionGoal?m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Cette valeur a été estimée à partir d’une autre variable qui possède une formule de calcul et dont la valeur a été fixée dans la simulation :"}),m.jsx(ue,{node:r.inversionGoal})]}):m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Cette formule de calcul n’existe pas, mais on peut la calculer par inversion en utilisant les formules des règles suivantes :"}),m.jsx("ul",{id:"inversionsPossibles",children:r.inversionCandidates.map(a=>m.jsx("li",{children:m.jsx(ue,{node:a})},a.dottedName))})]})})}function SE({nodeValue:n,explanation:r,operator:o,unit:a}){const s=r[0].nodeValue===0&&o==="−"&&r[0].nodeKind==="constant";return m.jsxs(CE,{className:"operation",role:"math",children:[m.jsx("span",{children:"("}),!s&&m.jsxs(m.Fragment,{children:[m.jsx(ue,{node:r[0]})," "]}),o," ",m.jsx(ue,{node:r[1]}),n!=null&&m.jsxs("span",{className:"result",children:[m.jsx("small",{children:" = "}),m.jsx(Ji,{data:n,unit:a})]}),m.jsx("span",{children:")"})]})}var CE=le.div`
	display: flex;
	flex-wrap: wrap;
	gap: 0.125rem;
	> .operation ::before,
	> .operation ::after {
		content: '';
	}
	.result {
		margin-left: 0.2rem;
	}
	.operation .result {
		display: none;
	}
`;function jE(n){const r=hn(),o=n.sourceMap,a=o.args.originalNode,s=o.args.applicableReplacements.find(({definitionRule:v})=>r.evaluate(v).nodeValue===n.nodeValue);if(!s||s.replaceByNonApplicable)return a.nodeValue=n.nodeValue,m.jsx(ue,{node:a});const[c,f]=j.useState(!1),p=j.useId();return m.jsx(m.Fragment,{children:m.jsxs("span",{style:{display:"inline-flex",maxWidth:"100%"},children:[m.jsxs("span",{style:{display:"flex",flexDirection:"column",flex:"1 1 0%"},children:[c&&m.jsx("span",{id:p,style:{opacity:"0.6",textDecoration:"line-through"},children:m.jsx(ue,{node:a})}),m.jsx(ue,{node:s.definitionRule})]}),m.jsx("div",{style:{marginLeft:"0.4rem"},children:m.jsx("button",{onClick:()=>f(!c),type:"button",className:"publicodes_btn-small","aria-expanded":c,"aria-controls":p,title:c?"Cacher la valeur d’origine":"Voir la valeur d’origine",children:"🔄"})})]})})}function NE(n){return m.jsxs("span",{children:["Remplace ",m.jsx(ue,{node:n.replacedReference})," ",n.rawNode.dans&&m.jsxs(m.Fragment,{children:["dans"," ",n.whiteListedNames.map((r,o)=>m.jsx(ue,{node:r},o)).join(", ")]}),n.rawNode["sauf dans"]&&m.jsxs(m.Fragment,{children:["sauf dans"," ",n.blackListedNames.map((r,o)=>m.jsx(ue,{node:r},o)).join(", ")]})]})}function bE({explanation:n,dottedName:r}){return m.jsx(PE,{children:m.jsx(Gu.Provider,{value:r,children:m.jsx(RE,{children:m.jsx(ue,{node:n.valeur})})})})}var RE=le.div`
	border-left: 1rem solid hsl(220, 60%, 97.5%);
	padding-left: 1rem;
	margin-left: -2rem;
`,PE=le.div`
	margin-top: 0.5rem;
	margin-bottom: 1rem;
	display: flex;
	flex-direction: column;
`;function _E({explanation:n,nodeValue:r}){return m.jsxs(Jt,{name:"résoudre la référence circulaire",value:r,children:[m.jsxs("p",{children:[" ","Cette valeur a été retrouvé en résolvant la référence circulaire dans la formule ci dessous :"," "]}),m.jsx(ue,{node:n.valeur})]})}function LE({sourceMap:n}){const r=j.useContext(ur),o=r==null?void 0:r.evaluate(n.args["dans la situation"]);return(o==null?void 0:o.nodeValue)!==void 0?m.jsx(Xu,{prefixed:!0,value:n.args.valeur,children:m.jsxs("p",{children:[m.jsx("strong",{children:"Valeur renseignée dans la simulation : "}),m.jsx(ue,{node:o.explanation.valeur})]})}):m.jsx(ue,{node:n.args.valeur})}function VE({nodeValue:n,explanation:r,unit:o}){return m.jsx(nc,{children:m.jsx(Jt,{name:"taux progressif",value:n,unit:o,children:m.jsxs("ul",{className:"properties",children:[m.jsx(ec,{explanation:r}),m.jsx(tc,{tranches:r.tranches,multiplicateur:r.multiplicateur})]})})})}function OE({explanation:n}){return m.jsx("p",{children:n.map(r=>typeof r=="string"?r:m.jsx(AE,{children:m.jsx(ue,{node:r})},r.rawNode))})}var AE=le.span`
	border: 1px solid rgba(0, 0, 0, 0.1);
	padding: 0.2rem;
	position: relative;
	border-radius: 0.15rem;
	background-color: rgba(0, 0, 0, 0.05);
`;function IE({nodeValue:n,explanation:r,unit:o}){return r.nodeKind==="constant"?Dn({nodeValue:n,unit:o}):r.nodeKind==="reference"?m.jsxs(m.Fragment,{children:[m.jsx(ue,{node:r})," ",et(o)]}):m.jsx(Xu,{value:r,children:m.jsxs("p",{children:[m.jsx("strong",{children:"Unité : "}),et(o)]})})}function TE({nodeValue:n,explanation:r,unit:o}){const a=r.findIndex(({condition:p})=>p.nodeValue===!0);let s;a!==void 0&&(s=r[a],r=[...r.slice(0,a),...r.slice(a+1)]);const[c,f]=j.useState(!s);return m.jsx(Jt,{name:"variations",unit:o,value:n,children:m.jsxs("ul",{children:[s&&m.jsxs("li",{children:[m.jsx(mm,{...s}),m.jsx("span",{style:{paddingLeft:"1rem"},children:m.jsxs("button",{className:"publicodes_btn-small",onClick:()=>f(!c),children:[c?"Masquer":"Afficher"," les autres cas"]})})]}),c&&m.jsx(m.Fragment,{children:r.map((p,v)=>m.jsx("li",{children:m.jsx(mm,{...p})},v))})]})})}function mm({condition:n,consequence:r}){return m.jsx(DE,{children:m.jsxs(ME,{children:[m.jsx($E,{children:n.nodeKind==="constant"&&n.nodeValue===!0?m.jsx(vm,{children:"Par défaut : "}):m.jsxs(m.Fragment,{children:[m.jsx(vm,{children:"Condition : "}),m.jsx(hm,{children:m.jsx(ue,{node:n})})]})}),m.jsx(hm,{children:m.jsx(ue,{node:r})})]})})}var hm=le.div``,vm=le.span`
	font-weight: bold;
`,$E=le.div`
	padding-bottom: 1rem;
	padding-top: 0.5rem;
	display: flex;
	align-items: baseline;
`,ME=le.div`
	border-left: 1rem solid hsl(36, 60%, 97%);
	padding-left: 1rem;
	margin-left: -1rem;
`,DE=le.div`
	padding: 1rem 0;
`;function FE(n){return m.jsx(Jt,{name:"une possibilité",value:n.nodeValue,docUrl:"http://publi.codes/docs/manuel/une-possibilit%C3%A9",children:m.jsx("ul",{children:n.explanation.map((r,o)=>{var s;const a=((s=r.notApplicable)==null?void 0:s.nodeValue)===!0;return m.jsx("li",{children:r.nodeKind==="reference"?m.jsxs(m.Fragment,{children:[m.jsx(Gt,{dottedName:r.dottedName,children:m.jsx("code",{style:{textDecoration:a?"line-through":""},children:r.publicodesValue})}),a&&m.jsx(Wh,{children:"Non Applicable"})]}):r.nodeKind==="constant"&&r.type==="string"?m.jsx("code",{children:r.publicodesValue}):m.jsx(ue,{node:r})},o)})})})}function zE(n){return m.jsx(Jt,{name:"logarithme",value:n.nodeValue,children:m.jsx(ue,{node:n.explanation})})}var UE={constant:hE,arrondi:eE,barème:oE,durée:xE,grille:wE,inversion:kE,operation:SE,texte:OE,reference:lE,"est non applicable":yE,"est non défini":EE,rule:bE,condition:mE,"dans la situation":LE,contexte:vE,replacement:jE,replacementRule:NE,"taux progressif":VE,"résoudre référence circulaire":_E,unité:IE,"variable manquante":n=>m.jsx(ue,{node:n.explanation}),variations:TE,logarithme:zE,"une possibilité":FE};function ue({node:n}){var f,p;const r=((f=n.sourceMap)==null?void 0:f.mecanismName)??n.nodeKind,o=hn(),s=Wi(v=>"nodeValue"in v||v.nodeKind==="replacementRule"?!1:o.evaluateNode(v),!1)(n),c=UE[r]??((p=n.sourceMap)!=null&&p.mecanismName?Xi:void 0);if(!c)throw new Error(`Unknown visualisation: ${r}`);return m.jsx(c,{...s})}function BE(n){return typeof n.nodeValue!="number"?void 0:jx((o,a)=>{if(a.nodeValue!==n.nodeValue)return o;if(a.nodeKind==="constant")return 20;if(a.nodeKind!=="arrondi")return;const s=a.explanation.arrondi.nodeValue;if(typeof s=="number")return s;if(s===!0)return 0},void 0,n.explanation.valeur)}var{encodeRuleName:KE}=Mt;function WE({engine:n,dottedName:r}){const o=HE(n,r);if(typeof window<"u"&&window.location.host==="publi.codes")return null;const a="Afficher la règle dans le bac à sable Publicodes";return m.jsx("p",{style:{textAlign:"right"},children:m.jsxs("a",{target:"_blank",href:o,title:`${a}, nouvelle fenêtre`,rel:"noreferrer",children:[m.jsx("span",{"aria-hidden":!0,children:"✍️"})," ",a]})})}var HE=(n,r)=>{const o=Array.from(n.context.referencesMaps.referencesIn.get(r)??[]),a=n.evaluateNode(n.context.parsedRules[r]),s={[r]:Object.fromEntries(Object.entries(a.rawNode).filter(([p])=>p!=="nom"))},c=Object.fromEntries(o.filter(p=>p!==r&&!p.endsWith(" . $SITUATION")).map(p=>[p,qE(a)])),f=encodeURIComponent(JSON.stringify({rules:s,situation:c}));return`https://publi.codes/studio/${KE(r)}#${f}`};function qE(n){const r=Dn(n).replace(/\s\/\s/g,"/").replace(/(\d)\s(\d)/g,"$1$2").replace(",",".");return r.match(/^[0-9]/)||r==="Oui"||r==="Non"?r.toLowerCase():r==="-"?"non":`'${r}'`}var $a=le.ul`
	padding: 0;
	max-height: 400px;
	overflow: auto;
	list-style: none;
`,Ma=le.li`
	position: relative;
	padding-left: 1.5rem;

	&::before {
		content: '●';
		font-size: 80%;
		display: inline-block;
		position: absolute;
		left: 0;
		width: 1.5rem;
		text-align: center;
		color: #b3b3b3;
		margin-bottom: 0.5rem;
	}
`;function QE({rule:n,engine:r,dottedName:o,situation:a={},apiDocumentationUrl:s,apiEvaluateUrl:c,npmPackage:f}){const{Accordion:p}=j.useContext(mn),v=[{title:"Règle et situation",id:"rule-situation",children:m.jsxs(m.Fragment,{children:[m.jsx(YE,{engine:r,dottedName:o}),m.jsx(GE,{situation:a})]})},s&&c||f?{title:"Réutiliser ce calcul ("+[s&&c?"API REST":null,f?"Paquet NPM":null].filter(g=>g!==null).join(" / ")+")",id:"usage",children:m.jsxs(m.Fragment,{children:[Mt.isExperimental(r.baseContext.parsedRules,o)&&m.jsxs(nw,{children:[m.jsx("h5",{children:"⚠️ Cette règle est tagguée comme experimentale ⚠️"}),m.jsx("p",{children:"Cela veut dire qu’elle peut être modifiée, renommée, ou supprimée sans qu’il n’y ait de changement de version majeure dans l’API."})]}),f&&m.jsx(JE,{rule:n,situation:a,dottedName:o,npmPackage:f}),s&&c&&m.jsx(XE,{situation:a,dottedName:o,apiDocumentationUrl:s,apiEvaluateUrl:c})]})}:null,{title:"Dépendances et effets de la règle",id:"dependencies-effects",children:m.jsxs(m.Fragment,{children:[m.jsx(ZE,{selfMissing:Object.keys(n.missingVariables)}),m.jsx(ew,{engine:r,dottedName:o,ruleIsNotDefined:n.nodeValue===void 0}),m.jsx(tw,{engine:r,dottedName:o,replacements:n.replacements})]})}].filter(g=>g!==null);return m.jsx(p,{items:v})}function YE({engine:n,dottedName:r}){const{Code:o}=j.useContext(mn);return m.jsxs("section",{children:[m.jsx("h5",{children:"Règle actuelle"}),m.jsx(o,{tabs:{dottedName:r}}),m.jsx(WE,{dottedName:r,engine:n})]})}function GE({situation:n}){const{Code:r}=j.useContext(mn),o=Object.keys(n),a={json:JSON.stringify(n,null,2)};return m.jsxs("section",{children:[m.jsx("h5",{children:"Situation actuelle"}),o.length?m.jsx("p",{children:"Voici les données que vous avez saisies dans notre simulateur sous forme de JSON."}):m.jsx("p",{children:"Votre situation est pour l’instant vide, vous n’avez probablement pas encore fait de simulation."}),m.jsx(r,{tabs:a})]})}var gm="Retrouvez ce paquet sur NPM",xm="moteur Publicodes";function JE({rule:n,situation:r,dottedName:o,npmPackage:a}){const{Code:s,Link:c}=j.useContext(mn),f={npmPackage:`// npm i publicodes ${a}

import Engine, { formatValue } from 'publicodes'
import rules from '${a}'

const engine = new Engine(rules)
engine.setSituation(${JSON.stringify(r,null,2)})

// ${n.title}
const evaluation = engine.evaluate(${JSON.stringify(o)})

console.log(formatValue(evaluation))
`};return m.jsxs("section",{children:[m.jsx("h5",{children:"Lancer un calcul avec Publicodes"}),m.jsxs("p",{children:["Vous pouvez installer notre package de règles pour l’utiliser avec le"," ",m.jsx(c,{title:`${xm}, accéder au site publi.codes, nouvelle fenêtre`,href:"https://publi.codes/",children:xm})," ","et ainsi effectuer vos propres calculs. Voici un exemple avec votre situation et la règle actuelle :"]}),m.jsx(s,{tabs:f}),m.jsx("p",{style:{textAlign:"right"},children:m.jsxs(c,{href:"https://www.npmjs.com/package/"+a,title:`${gm}, accéder à la page npm du package Publicodes, nouvelle fenêtre`,children:[m.jsx("span",{"aria-hidden":!0,children:"📦"})," ",gm]})})]})}var ym="En savoir plus sur notre API REST";function XE({situation:n,dottedName:r,apiDocumentationUrl:o,apiEvaluateUrl:a}){const{Code:s,Link:c}=j.useContext(mn),f={expressions:[r],situation:n},p={curl:`curl '${a}' \\
  -H 'accept: application/json' \\
  -H 'content-type: application/json' \\
  --data-raw $'${JSON.stringify(f).replace(/'/g,"'\\''")}' \\
  --compressed`,"fetch js":`const request = await fetch("${a}", {
  "headers": { "content-type": "application/json" },
  "method": "POST",
  "body": JSON.stringify(${JSON.stringify(f,null,2)}),
})
const { evaluate } = await request.json()

console.log(evaluate)`};return m.jsxs("section",{children:[m.jsx("h5",{children:"Utiliser notre API REST"}),m.jsx("p",{children:"Vous trouverez ici un exemple d’utilisation de notre API REST via curl ou un fetch javascript."}),m.jsx(s,{tabs:p}),o&&m.jsx("p",{style:{textAlign:"right"},children:m.jsxs(c,{to:o,title:`${ym}, accéder à la documentation, nouvelle fenêtre`,children:[m.jsx("span",{"aria-hidden":!0,children:"👩‍💻"})," ",ym]})})]})}function ZE({selfMissing:n}){return m.jsxs("section",{children:[m.jsx("h5",{children:"Données manquantes"}),n!=null&&n.length?m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Les règles suivantes sont nécessaires pour le calcul mais n’ont pas été saisies dans la situation. Leur valeur par défaut est utilisée."}),m.jsx($a,{children:n.map(r=>m.jsx(Ma,{children:m.jsx(Gt,{dottedName:r})},r))})]}):m.jsx("p",{children:"Il n’y a pas de données manquante."})]})}var qh=(n,r)=>n&&"replacements"in n&&n.replacements.some(({replacedReference:o})=>o.dottedName===r);function ew({engine:n,dottedName:r,ruleIsNotDefined:o=!1}){const a=Array.from(n.context.referencesMaps.rulesThatUse.get(r)??[]).filter(s=>s!=="$EVALUATION"&&s in n.context.parsedRules&&!n.context.parsedRules[s].private&&!qh(n.context.parsedRules[s],r));return m.jsxs("section",{children:[m.jsx("h5",{children:"Règles qui ont besoin de cette valeur"}),a.length?m.jsxs(m.Fragment,{children:[m.jsxs("p",{children:["Les règles suivantes ont besoin de la règle courante pour être calculées :",o&&m.jsxs(m.Fragment,{children:[" ","La règle courante n’étant pas encore définie, c’est sa valeur par défaut qui est utilisée pour déterminer la valeur de ces règles."]})]}),m.jsx($a,{children:a.map(s=>m.jsx(Ma,{children:m.jsx(Gt,{dottedName:s})},s))})]}):m.jsx("p",{children:"Aucune règle n’utilise cette valeur."})]})}function tw({engine:n,dottedName:r,replacements:o}){const a=Array.from(n.context.referencesMaps.rulesThatUse.get(r)??[]).filter(s=>s!=="$EVALUATION"&&s in n.context.parsedRules&&!n.context.parsedRules[s].private&&qh(n.context.parsedRules[s],r));return m.jsxs(m.Fragment,{children:[m.jsxs("section",{children:[m.jsx("h5",{children:"Effets sur d’autres règles"}),o.length?m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Une règle peut avoir des effets sur d’autres règles afin de modifier leur comportement."}),m.jsx($a,{children:o.map(s=>m.jsx(Ma,{style:{marginBottom:"0.5rem"},children:m.jsx(ue,{node:s})},s.replacedReference.dottedName))})]}):m.jsx("p",{children:"Cette règle ne modifie aucune autre règle."})]}),m.jsxs("section",{children:[m.jsx("h5",{children:"Règles qui peuvent avoir un effet sur cette valeur"}),a.length?m.jsxs(m.Fragment,{children:[m.jsx("p",{children:"Les règles suivantes peuvent remplacer la valeur de la règle courante :"}),m.jsx($a,{children:a.map(s=>m.jsx(Ma,{children:m.jsx(Gt,{dottedName:s})},s))})]}):m.jsx("p",{children:"Aucune autre règle n’a d’effets sur cette valeur."})]})]})}var nw=le.div``;function rw({title:n,description:r}){const{Head:o}=j.useContext(mn);return o?m.jsxs(o,{children:[m.jsx("title",{children:n}),m.jsx("meta",{property:"og:type",content:"article"}),m.jsx("meta",{property:"og:title",content:n}),r&&m.jsx("meta",{property:"og:description",content:r}),r&&m.jsx("meta",{name:"description",content:r})]}):null}function iw({dottedName:n}){const r=hn(),{title:o,rawNode:{description:a,question:s,icônes:c}}=r.context.parsedRules[n],f=c?o+" "+c:o;return m.jsxs("header",{children:[m.jsx(rw,{title:f,description:a||s}),m.jsxs("div",{children:[m.jsx("span",{id:"rules-nav-open-nav-button"}),Mt.ruleParents(n).reverse().map(p=>m.jsxs("span",{children:[m.jsx(Gt,{dottedName:p,displayIcon:!0}),m.jsx("span",{"aria-hidden":!0,children:" › "})]},p))]}),m.jsx("h1",{children:m.jsx(Gt,{dottedName:n,displayIcon:!0})})]})}var ow=({className:n})=>m.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentcolor",className:n,children:m.jsx("path",{d:"M9.04286 8L13 11.9571V13H11.9571L8 9.04286L4.04286 13H3V11.9571L6.95714 8L3 4.04286V3H4.04286L8 6.95714L11.9571 3H13V4.04286L9.04286 8Z",fill:"currentcolor"})}),aw=j.lazy(()=>g0(()=>import("./RulesSearch-IRELSA5T-CMcqHvnR.js"),[])),lw=({dottedName:n,searchBar:r,mobileMenuPortalId:o,openNavButtonPortalId:a})=>{const c=hn().getParsedRules(),f=j.useMemo(()=>Object.keys(c).sort((A,z)=>A.localeCompare(z)),[c]),[p,v]=j.useState(!1),g=A=>Object.fromEntries([[A,!0],...Mt.ruleParents(A).map(z=>[z,!0])]),[y,w]=j.useState(g(n));j.useEffect(()=>{w(A=>({...A,...g(n)}))},[n]);const k=j.useCallback(A=>{w(z=>z[A]?Object.fromEntries(Object.entries(z).map(([G,Z])=>G.startsWith(A)?[G,!1]:[G,Z])):{...z,[A]:!z[A]})},[]),R=typeof window>"u"?null:a&&window.document.getElementById(a)||window.document.getElementById("rules-nav-open-nav-button"),b=j.useRef(null);j.useEffect(()=>{b.current&&!p&&b.current.focus()},[b,p]);const L=j.useRef(null);j.useEffect(()=>{if(!L.current||!p)return;const A=L.current.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),z=A[0],G=A[A.length-1],Z=B=>{R&&p&&(B.key==="Escape"?(B.preventDefault(),v(!1)):B.key==="Tab"&&L.current&&(B.shiftKey?document.activeElement===z&&(B.preventDefault(),G.focus()):document.activeElement===G&&(B.preventDefault(),z.focus())))};return L.current.addEventListener("keydown",Z),()=>{L.current&&L.current.removeEventListener("keydown",Z)}},[L,p]);const V=m.jsxs(cw,{$open:p,children:[m.jsx(dw,{$open:p,onClick:()=>{v(A=>!A)}}),R&&cm.createPortal(m.jsx(fw,{ref:b,onClick:()=>{v(!0),L.current&&L.current.focus()},children:"Toutes les règles"}),R),m.jsxs(pw,{role:p?"dialog":void 0,"aria-modal":p?"true":void 0,"aria-label":p?"Menu de navigation":void 0,$open:p,ref:L,tabIndex:-1,children:[m.jsxs("nav",{role:"navigation","aria-label":"Menu de navigation sur les règles de la documentation",children:[r?m.jsx(j.Suspense,{fallback:m.jsx("p",{children:"Chargement..."}),children:m.jsx(aw,{})}):null,m.jsx(Qh,{onClick:()=>{v(!1)},rules:f,level:y,navRef:L,toggleDropdown:k,dottedName:n,parentName:""})]}),p&&m.jsx(vw,{"aria-label":"Fermer le menu de navigation",onClick:()=>v(!1),children:m.jsx(ow,{})})]})]}),O=typeof window<"u"&&window.matchMedia(`(max-width: ${Fn.lg})`).matches,T=typeof window<"u"&&o?window.document.getElementById(o):null;return O&&T?cm.createPortal(V,T):V},Qh=({rules:n,level:r,navRef:o,onClick:a,toggleDropdown:s,dottedName:c,parentName:f})=>m.jsx("ul",{children:n.map(p=>{if(Mt.ruleParent(p)!==f)return null;const g=p in r&&r[p];return m.jsx(uw,{onClick:a,ruleDottedName:p,open:g,active:c===p,onClickDropdown:s,navRef:o,children:r[p]&&m.jsx(Qh,{onClick:a,rules:n,level:r,navRef:o,toggleDropdown:s,dottedName:c,parentName:p})},p)})}),sw=({ruleDottedName:n,open:r,active:o,onClick:a,onClickDropdown:s,navRef:c,children:f})=>{const v=hn().getParsedRules(),g=Object.keys(v).reduce((k,R)=>R.startsWith(n+" . ")&&R.split(" . ").length===n.split(" . ").length+1?k+1:k,0),y=j.useRef(!0),w=j.useRef(null);return j.useEffect(()=>{var k,R;if(y.current){y.current=!1;return}c.current&&((k=w.current)!=null&&k.offsetTop)&&(c.current.scrollTop=(R=w.current)==null?void 0:R.offsetTop)},[o]),m.jsxs("li",{ref:o?w:void 0,style:{paddingLeft:(n.split(" . ").length-1)*16},className:g>0?"dropdown ":"",children:[m.jsxs("span",{className:`content ${o?"active ":""}`,children:[m.jsx(Gt,{dottedName:n,displayIcon:!0,onClick:a}),g>0&&m.jsx(mw,{"aria-label":r?"Replier le sous-menu":"Déplier le sous-menu","aria-expanded":r,onClick:()=>s(n),children:m.jsx(hw,{$open:r})})]}),f]},n)},uw=j.memo(sw),Fn={lg:"992px"},cw=le.div`
	z-index: 200;
	overflow: auto;
	position: sticky;
	top: 0;

	@media (min-width: ${Fn.lg}) {
		max-width: 50%;
		flex-shrink: 0;
	}
`,dw=le.div`
	background: rgb(0 0 0 / 25%);
	position: fixed;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
	z-index: 200;
	transition: ease-in-out 0.25s;
	transition-property: visibility, opacity;
	visibility: ${({$open:n})=>n?"visible":"hidden"};
	opacity: ${({$open:n})=>n?"1":"0"};

	@media (min-width: ${Fn.lg}) {
		display: none;
	}
`,fw=le.button`
	margin: 0.25rem 0;
	margin-right: 0.5rem;
	background: none;
	border: 1px solid rgb(29, 66, 140);
	border-radius: 3px;
	color: rgb(29, 66, 140);
	padding: 0.5rem;
	display: inline-block;

	&:hover {
		background-color: rgb(219, 231, 255);
	}
	@media (min-width: ${Fn.lg}) {
		display: none;
	}
`,pw=le.div`
	@media (min-width: ${Fn.lg}) {
		flex-shrink: 0;
	}
	border-right: 1px solid #e6e6e6;
	overflow: auto;
	max-height: calc(100vh - 2rem);
	position: sticky;
	top: 0;
	@media (max-width: ${Fn.lg}) {
		position: fixed;
		top: 0;
		left: 0;
		padding-top: 1rem;
		padding-right: 2rem;
		bottom: 0;
		z-index: 200;
		max-height: initial;
		background: white;
		max-width: 80vw;
		height: 100%;

		transition: all ease-in-out 0.25s;
		${({$open:n})=>n?"":"transform: translateX(-100%);"}
	}

	&:focus {
		outline: none;
	}

	ul {
		flex-wrap: nowrap;
		margin: 0;

		padding: 0;
		list-style: none;
		li {
			margin-bottom: 3px;
			max-width: 350px;
			.content {
				border-radius: 3px;
				padding: 3px 1rem;
				display: flex;
				width: fit-content;
				align-items: center;
				flex-direction: row-reverse;
				flex-wrap: nowrap;
			}

			span {
				&.active {
					background-color: #e6e6e6;
				}
			}

			&:not(.active) a {
				font-weight: normal;
			}
			&:not(.dropdown) .content:after {
				content: ' ';
				display: inline-block;
				background-color: #b3b3b3;
				min-width: 0.5rem;
				min-height: 0.5rem;
				border-radius: 0.5rem;
				margin-left: 0.5rem;
				margin-right: 1.25rem;
				pointer-events: none;
			}
		}
	}
`,mw=le.button`
	margin-right: 0.75rem;
	flex-shrink: 0;
	background: none;
	border: 1px solid #b3b3b3;
	border-radius: 2rem;
	width: 1.5rem;
	height: 1.5rem;
	color: #999;
	padding: 0;
	display: inline-block;
`,hw=le(Fh)`
	width: 100%;
	transition: transform 0.1s;
	height: 100%;
	transform: rotate(${({$open:n})=>n?"0deg":"-90deg"});
`,vw=le.button`
	cursor: pointer;
	position: absolute;
	border-radius: 0.25rem;
	top: 0.25rem;
	padding: 0.25rem;
	right: 0.25rem;
	height: 1.5rem;
	background-color: transparent;
	border: none;

	&:hover {
		background-color: #e6e6e6;
	}
`;function gw({documentationPath:n,rulePath:r,engine:o,renderers:a,searchBar:s,language:c,apiDocumentationUrl:f,apiEvaluateUrl:p,npmPackage:v,mobileMenuPortalId:g,openNavButtonPortalId:y,showDevSection:w=!0,rulesToHide:k}){const R=typeof window<"u"&&new URLSearchParams(window.location.search).get("currentEngineId"),b=j.useRef(a);return j.useEffect(()=>{b.current!==a&&(b.current=a)},[a]),m.jsx(ur.Provider,{value:o,children:m.jsx(Bh.Provider,{value:n,children:m.jsx(mn.Provider,{value:Uh(a),children:m.jsx(Kh.Provider,{value:k,children:m.jsx(xw,{dottedName:Mt.decodeRuleName(r),subEngineId:R?parseInt(R,10):void 0,language:c,apiDocumentationUrl:f,apiEvaluateUrl:p,npmPackage:v,mobileMenuPortalId:g,openNavButtonPortalId:y,showDevSection:w,searchBar:s})})})})})}function xw({dottedName:n,language:r,subEngineId:o,searchBar:a=!1,apiDocumentationUrl:s,apiEvaluateUrl:c,npmPackage:f,mobileMenuPortalId:p,openNavButtonPortalId:v,showDevSection:g}){const y=hn(),{References:w,Text:k}=j.useContext(mn),R=y.context.subEngines,b=o&&R.has(o),L=b?R.get(o):y;if(!(n in L.context.parsedRules))return m.jsx("p",{children:"Cette règle est introuvable dans la base"});L.resetCache(),L.cache.traversedVariablesStack=[];const V=L.evaluateNode(L.context.parsedRules[n]),{description:O,question:T}=V.rawNode,{valeur:A,nullableParent:z,ruleDisabledByItsParent:G}=V.explanation,Z=ww(L,V),B=w==null?void 0:w({references:V.rawNode.références,dottedName:V.dottedName}),ye=Ju(n);return m.jsx(ur.Provider,{value:L,children:m.jsxs(yw,{id:"documentation-rule-root",children:[m.jsx(lw,{dottedName:n,mobileMenuPortalId:p,openNavButtonPortalId:v,searchBar:a}),m.jsx(Ew,{children:m.jsxs(Gu.Provider,{value:n,children:[m.jsx(iw,{dottedName:n}),m.jsx("section",{children:m.jsx(k,{children:O||T||""})}),m.jsxs("p",{style:{fontSize:"1.25rem",lineHeight:"2rem"},children:["Valeur :"," ",ye?m.jsx("span",{children:Zu}):Dn(V,{language:r,precision:BE(V)}),V.nodeValue===void 0&&V.unit&&m.jsxs(m.Fragment,{children:[m.jsx("br",{}),"Unité : ",et(V.unit)]})]}),G&&z&&m.jsxs(m.Fragment,{children:["@",m.jsxs("blockquote",{children:["Cette règle est ",m.jsx("strong",{children:"non applicable"})," car elle appartient à l’espace de nom :"," ",m.jsx(ue,{node:z})]})]}),b&&m.jsxs("div",{style:{margin:"1rem 0",padding:"0rem 1rem",display:"flex",justifyContent:"flex-end",columnGap:"1rem",alignItems:"baseline",flexWrap:"wrap",background:"hsl(220, 60%, 97.5%)",borderRadius:"0.25rem"},children:[m.jsxs("p",{children:["Vous naviguez la documentation avec un"," ",m.jsx("strong",{children:"contexte"})," d’évaluation"," ",m.jsx("strong",{children:"spécifique"}),"."]}),m.jsx("div",{style:{flex:1}}),m.jsx("p",{style:{textAlign:"right",marginTop:0},children:m.jsx(Gt,{dottedName:n,useSubEngine:!1,children:"Retourner à la version de base"})})]}),m.jsx("h2",{children:"Comment cette donnée est-elle calculée ?"}),V.possibilities&&m.jsx(ue,{node:V.possibilities}),m.jsx("div",{id:"documentation-rule-explanation",children:m.jsx(ue,{node:A})}),V.rawNode.note&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:"Note"}),m.jsx("div",{children:m.jsx(k,{children:V.rawNode.note})})]}),B&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:"Références"}),B]}),m.jsx("br",{}),g&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:"Informations techniques"}),m.jsx(k,{children:"Si vous êtes développeur/euse vous trouverez ci-dessous des informations techniques utiles pour l’intégration de cette règle dans votre application."}),m.jsx(QE,{engine:L,situation:Z,dottedName:n,rule:V,apiDocumentationUrl:s,apiEvaluateUrl:c,npmPackage:f})]})]})})]})})}var yw=le.div`
	display: flex;
	flex-wrap: nowrap;
	align-items: flex-start;
	@media (max-width: ${Fn.lg}) {
		flex-direction: column;
	}
`,Ew=le.article`
	flex-shrink: 1;
	max-width: 100%;
	@media (min-width: ${Fn.lg}) {
		min-width: 0;
		padding-left: 1rem;
		border-left: 1px solid #e6e6e6;
		margin-left: -1px;
	}
`;function ww(n,r){const o=n.getSituation();return Object.fromEntries(Object.entries(o).filter(([s])=>{var c;return s===r.dottedName?!0:(c=r.traversedVariables)==null?void 0:c.includes(s)}))}function kw({engine:n,documentationPath:r}){const o=n.context.parsedRules;return Object.fromEntries(Object.keys(o).filter(a=>!a.match(/(\$SITUATION|\$EVALUATION|\$INTERNAL)/)).map(a=>[r+"/"+Mt.encodeRuleName(a),a]))}var $i={},Em;function Sw(){if(Em)return $i;Em=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.parse=f,$i.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,c=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function f(k,R){const b=new c,L=k.length;if(L<2)return b;const V=(R==null?void 0:R.decode)||y;let O=0;do{const T=k.indexOf("=",O);if(T===-1)break;const A=k.indexOf(";",O),z=A===-1?L:A;if(T>z){O=k.lastIndexOf(";",T-1)+1;continue}const G=p(k,O,T),Z=v(k,T,G),B=k.slice(G,Z);if(b[B]===void 0){let ye=p(k,T+1,z),we=v(k,z,ye);const $e=V(k.slice(ye,we));b[B]=$e}O=z+1}while(O<L);return b}function p(k,R,b){do{const L=k.charCodeAt(R);if(L!==32&&L!==9)return R}while(++R<b);return b}function v(k,R,b){for(;R>b;){const L=k.charCodeAt(--R);if(L!==32&&L!==9)return R+1}return b}function g(k,R,b){const L=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(k))throw new TypeError(`argument name is invalid: ${k}`);const V=L(R);if(!r.test(V))throw new TypeError(`argument val is invalid: ${R}`);let O=k+"="+V;if(!b)return O;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);O+="; Max-Age="+b.maxAge}if(b.domain){if(!o.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);O+="; Domain="+b.domain}if(b.path){if(!a.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);O+="; Path="+b.path}if(b.expires){if(!w(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);O+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(O+="; HttpOnly"),b.secure&&(O+="; Secure"),b.partitioned&&(O+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return O}function y(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function w(k){return s.call(k)==="[object Date]"}return $i}Sw();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wm="popstate";function Cw(n={}){function r(a,s){let{pathname:c,search:f,hash:p}=a.location;return _u("",{pathname:c,search:f,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function o(a,s){return typeof s=="string"?s:Qi(s)}return Nw(r,o,null,n)}function Pe(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Dt(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function jw(){return Math.random().toString(36).substring(2,10)}function km(n,r){return{usr:n.state,key:n.key,idx:r}}function _u(n,r,o=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof r=="string"?qr(r):r,state:o,key:r&&r.key||a||jw()}}function Qi({pathname:n="/",search:r="",hash:o=""}){return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function qr(n){let r={};if(n){let o=n.indexOf("#");o>=0&&(r.hash=n.substring(o),n=n.substring(0,o));let a=n.indexOf("?");a>=0&&(r.search=n.substring(a),n=n.substring(0,a)),n&&(r.pathname=n)}return r}function Nw(n,r,o,a={}){let{window:s=document.defaultView,v5Compat:c=!1}=a,f=s.history,p="POP",v=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function w(){p="POP";let V=y(),O=V==null?null:V-g;g=V,v&&v({action:p,location:L.location,delta:O})}function k(V,O){p="PUSH";let T=_u(L.location,V,O);g=y()+1;let A=km(T,g),z=L.createHref(T);try{f.pushState(A,"",z)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(z)}c&&v&&v({action:p,location:L.location,delta:1})}function R(V,O){p="REPLACE";let T=_u(L.location,V,O);g=y();let A=km(T,g),z=L.createHref(T);f.replaceState(A,"",z),c&&v&&v({action:p,location:L.location,delta:0})}function b(V){let O=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof V=="string"?V:Qi(V);return T=T.replace(/ $/,"%20"),Pe(O,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,O)}let L={get action(){return p},get location(){return n(s,f)},listen(V){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(wm,w),v=V,()=>{s.removeEventListener(wm,w),v=null}},createHref(V){return r(s,V)},createURL:b,encodeLocation(V){let O=b(V);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:k,replace:R,go(V){return f.go(V)}};return L}function Yh(n,r,o="/"){return bw(n,r,o,!1)}function bw(n,r,o,a){let s=typeof r=="string"?qr(r):r,c=fn(s.pathname||"/",o);if(c==null)return null;let f=Gh(n);Rw(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let g=Dw(c);p=$w(f[v],g,a)}return p}function Gh(n,r=[],o=[],a=""){let s=(c,f,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};v.relativePath.startsWith("/")&&(Pe(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length));let g=dn([a,v.relativePath]),y=o.concat(v);c.children&&c.children.length>0&&(Pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Gh(c.children,r,y,g)),!(c.path==null&&!c.index)&&r.push({path:g,score:Iw(g,c.index),routesMeta:y})};return n.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))s(c,f);else for(let v of Jh(c.path))s(c,f,v)}),r}function Jh(n){let r=n.split("/");if(r.length===0)return[];let[o,...a]=r,s=o.endsWith("?"),c=o.replace(/\?$/,"");if(a.length===0)return s?[c,""]:[c];let f=Jh(a.join("/")),p=[];return p.push(...f.map(v=>v===""?c:[c,v].join("/"))),s&&p.push(...f),p.map(v=>n.startsWith("/")&&v===""?"/":v)}function Rw(n){n.sort((r,o)=>r.score!==o.score?o.score-r.score:Tw(r.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}var Pw=/^:[\w-]+$/,_w=3,Lw=2,Vw=1,Ow=10,Aw=-2,Sm=n=>n==="*";function Iw(n,r){let o=n.split("/"),a=o.length;return o.some(Sm)&&(a+=Aw),r&&(a+=Lw),o.filter(s=>!Sm(s)).reduce((s,c)=>s+(Pw.test(c)?_w:c===""?Vw:Ow),a)}function Tw(n,r){return n.length===r.length&&n.slice(0,-1).every((a,s)=>a===r[s])?n[n.length-1]-r[r.length-1]:0}function $w(n,r,o=!1){let{routesMeta:a}=n,s={},c="/",f=[];for(let p=0;p<a.length;++p){let v=a[p],g=p===a.length-1,y=c==="/"?r:r.slice(c.length)||"/",w=Da({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},y),k=v.route;if(!w&&g&&o&&!a[a.length-1].route.index&&(w=Da({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},y)),!w)return null;Object.assign(s,w.params),f.push({params:s,pathname:dn([c,w.pathname]),pathnameBase:Bw(dn([c,w.pathnameBase])),route:k}),w.pathnameBase!=="/"&&(c=dn([c,w.pathnameBase]))}return f}function Da(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,a]=Mw(n.path,n.caseSensitive,n.end),s=r.match(o);if(!s)return null;let c=s[0],f=c.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:w},k)=>{if(y==="*"){let b=p[k]||"";f=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const R=p[k];return w&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:n}}function Mw(n,r=!1,o=!0){Dt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(a.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function Dw(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Dt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),n}}function fn(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,a=n.charAt(o);return a&&a!=="/"?null:n.slice(o)||"/"}function Fw(n,r="/"){let{pathname:o,search:a="",hash:s=""}=typeof n=="string"?qr(n):n;return{pathname:o?o.startsWith("/")?o:zw(o,r):r,search:Kw(a),hash:Ww(s)}}function zw(n,r){let o=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?o.length>1&&o.pop():s!=="."&&o.push(s)}),o.length>1?o.join("/"):"/"}function du(n,r,o,a){return`Cannot include a '${n}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uw(n){return n.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function rc(n){let r=Uw(n);return r.map((o,a)=>a===r.length-1?o.pathname:o.pathnameBase)}function ic(n,r,o,a=!1){let s;typeof n=="string"?s=qr(n):(s={...n},Pe(!s.pathname||!s.pathname.includes("?"),du("?","pathname","search",s)),Pe(!s.pathname||!s.pathname.includes("#"),du("#","pathname","hash",s)),Pe(!s.search||!s.search.includes("#"),du("#","search","hash",s)));let c=n===""||s.pathname==="",f=c?"/":s.pathname,p;if(f==null)p=o;else{let w=r.length-1;if(!a&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),w-=1;s.pathname=k.join("/")}p=w>=0?r[w]:"/"}let v=Fw(s,p),g=f&&f!=="/"&&f.endsWith("/"),y=(c||f===".")&&o.endsWith("/");return!v.pathname.endsWith("/")&&(g||y)&&(v.pathname+="/"),v}var dn=n=>n.join("/").replace(/\/\/+/g,"/"),Bw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Kw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ww=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Hw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Xh=["POST","PUT","PATCH","DELETE"];new Set(Xh);var qw=["GET",...Xh];new Set(qw);var Qr=j.createContext(null);Qr.displayName="DataRouter";var nl=j.createContext(null);nl.displayName="DataRouterState";var Zh=j.createContext({isTransitioning:!1});Zh.displayName="ViewTransition";var Qw=j.createContext(new Map);Qw.displayName="Fetchers";var Yw=j.createContext(null);Yw.displayName="Await";var Ft=j.createContext(null);Ft.displayName="Navigation";var Zi=j.createContext(null);Zi.displayName="Location";var zt=j.createContext({outlet:null,matches:[],isDataRoute:!1});zt.displayName="Route";var oc=j.createContext(null);oc.displayName="RouteError";function Gw(n,{relative:r}={}){Pe(Yr(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:a}=j.useContext(Ft),{hash:s,pathname:c,search:f}=eo(n,{relative:r}),p=c;return o!=="/"&&(p=c==="/"?o:dn([o,c])),a.createHref({pathname:p,search:f,hash:s})}function Yr(){return j.useContext(Zi)!=null}function Un(){return Pe(Yr(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Zi).location}var ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tv(n){j.useContext(Ft).static||j.useLayoutEffect(n)}function nv(){let{isDataRoute:n}=j.useContext(zt);return n?ck():Jw()}function Jw(){Pe(Yr(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Qr),{basename:r,navigator:o}=j.useContext(Ft),{matches:a}=j.useContext(zt),{pathname:s}=Un(),c=JSON.stringify(rc(a)),f=j.useRef(!1);return tv(()=>{f.current=!0}),j.useCallback((v,g={})=>{if(Dt(f.current,ev),!f.current)return;if(typeof v=="number"){o.go(v);return}let y=ic(v,JSON.parse(c),s,g.relative==="path");n==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:dn([r,y.pathname])),(g.replace?o.replace:o.push)(y,g.state,g)},[r,o,c,s,n])}j.createContext(null);function Xw(){let{matches:n}=j.useContext(zt),r=n[n.length-1];return r?r.params:{}}function eo(n,{relative:r}={}){let{matches:o}=j.useContext(zt),{pathname:a}=Un(),s=JSON.stringify(rc(o));return j.useMemo(()=>ic(n,JSON.parse(s),a,r==="path"),[n,s,a,r])}function Zw(n,r){return rv(n,r)}function rv(n,r,o,a){var T;Pe(Yr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:c}=j.useContext(Ft),{matches:f}=j.useContext(zt),p=f[f.length-1],v=p?p.params:{},g=p?p.pathname:"/",y=p?p.pathnameBase:"/",w=p&&p.route;{let A=w&&w.path||"";iv(g,!w||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let k=Un(),R;if(r){let A=typeof r=="string"?qr(r):r;Pe(y==="/"||((T=A.pathname)==null?void 0:T.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${A.pathname}" was given in the \`location\` prop.`),R=A}else R=k;let b=R.pathname||"/",L=b;if(y!=="/"){let A=y.replace(/^\//,"").split("/");L="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let V=!c&&o&&o.matches&&o.matches.length>0?o.matches:Yh(n,{pathname:L});Dt(w||V!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Dt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=ik(V&&V.map(A=>Object.assign({},A,{params:Object.assign({},v,A.params),pathname:dn([y,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:dn([y,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),f,o,a);return r&&O?j.createElement(Zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},O):O}function ek(){let n=uk(),r=Hw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},r),o?j.createElement("pre",{style:s},o):null,f)}var tk=j.createElement(ek,null),nk=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){console.error("React Router caught the following error during render",n,r)}render(){return this.state.error!==void 0?j.createElement(zt.Provider,{value:this.props.routeContext},j.createElement(oc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rk({routeContext:n,match:r,children:o}){let a=j.useContext(Qr);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(zt.Provider,{value:n},o)}function ik(n,r=[],o=null,a=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let s=n,c=o==null?void 0:o.errors;if(c!=null){let v=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Pe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,v+1))}let f=!1,p=-1;if(o)for(let v=0;v<s.length;v++){let g=s[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=v),g.route.id){let{loaderData:y,errors:w}=o,k=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||k){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((v,g,y)=>{let w,k=!1,R=null,b=null;o&&(w=c&&g.route.id?c[g.route.id]:void 0,R=g.route.errorElement||tk,f&&(p<0&&y===0?(iv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,b=null):p===y&&(k=!0,b=g.route.hydrateFallbackElement||null)));let L=r.concat(s.slice(0,y+1)),V=()=>{let O;return w?O=R:k?O=b:g.route.Component?O=j.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=v,j.createElement(rk,{match:g,routeContext:{outlet:v,matches:L,isDataRoute:o!=null},children:O})};return o&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?j.createElement(nk,{location:o.location,revalidation:o.revalidation,component:R,error:w,children:V(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):V()},null)}function ac(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ok(n){let r=j.useContext(Qr);return Pe(r,ac(n)),r}function ak(n){let r=j.useContext(nl);return Pe(r,ac(n)),r}function lk(n){let r=j.useContext(zt);return Pe(r,ac(n)),r}function lc(n){let r=lk(n),o=r.matches[r.matches.length-1];return Pe(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function sk(){return lc("useRouteId")}function uk(){var a;let n=j.useContext(oc),r=ak("useRouteError"),o=lc("useRouteError");return n!==void 0?n:(a=r.errors)==null?void 0:a[o]}function ck(){let{router:n}=ok("useNavigate"),r=lc("useNavigate"),o=j.useRef(!1);return tv(()=>{o.current=!0}),j.useCallback(async(s,c={})=>{Dt(o.current,ev),o.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:r,...c}))},[n,r])}var Cm={};function iv(n,r,o){!r&&!Cm[n]&&(Cm[n]=!0,Dt(!1,o))}j.memo(dk);function dk({routes:n,future:r,state:o}){return rv(n,void 0,o,r)}function fk({to:n,replace:r,state:o,relative:a}){Pe(Yr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(Ft);Dt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(zt),{pathname:f}=Un(),p=nv(),v=ic(n,rc(c),f,a==="path"),g=JSON.stringify(v);return j.useEffect(()=>{p(JSON.parse(g),{replace:r,state:o,relative:a})},[p,g,a,r,o]),null}function Lu(n){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pk({basename:n="/",children:r=null,location:o,navigationType:a="POP",navigator:s,static:c=!1}){Pe(!Yr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:f,navigator:s,static:c,future:{}}),[f,s,c]);typeof o=="string"&&(o=qr(o));let{pathname:v="/",search:g="",hash:y="",state:w=null,key:k="default"}=o,R=j.useMemo(()=>{let b=fn(v,f);return b==null?null:{location:{pathname:b,search:g,hash:y,state:w,key:k},navigationType:a}},[f,v,g,y,w,k,a]);return Dt(R!=null,`<Router basename="${f}"> is not able to match the URL "${v}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:j.createElement(Ft.Provider,{value:p},j.createElement(Zi.Provider,{children:r,value:R}))}function mk({children:n,location:r}){return Zw(Vu(n),r)}function Vu(n,r=[]){let o=[];return j.Children.forEach(n,(a,s)=>{if(!j.isValidElement(a))return;let c=[...r,s];if(a.type===j.Fragment){o.push.apply(o,Vu(a.props.children,c));return}Pe(a.type===Lu,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Vu(a.props.children,c)),o.push(f)}),o}var Pa="get",_a="application/x-www-form-urlencoded";function rl(n){return n!=null&&typeof n.tagName=="string"}function hk(n){return rl(n)&&n.tagName.toLowerCase()==="button"}function vk(n){return rl(n)&&n.tagName.toLowerCase()==="form"}function gk(n){return rl(n)&&n.tagName.toLowerCase()==="input"}function xk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yk(n,r){return n.button===0&&(!r||r==="_self")&&!xk(n)}var Ea=null;function Ek(){if(Ea===null)try{new FormData(document.createElement("form"),0),Ea=!1}catch{Ea=!0}return Ea}var wk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fu(n){return n!=null&&!wk.has(n)?(Dt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_a}"`),null):n}function kk(n,r){let o,a,s,c,f;if(vk(n)){let p=n.getAttribute("action");a=p?fn(p,r):null,o=n.getAttribute("method")||Pa,s=fu(n.getAttribute("enctype"))||_a,c=new FormData(n)}else if(hk(n)||gk(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||p.getAttribute("action");if(a=v?fn(v,r):null,o=n.getAttribute("formmethod")||p.getAttribute("method")||Pa,s=fu(n.getAttribute("formenctype"))||fu(p.getAttribute("enctype"))||_a,c=new FormData(p,n),!Ek()){let{name:g,type:y,value:w}=n;if(y==="image"){let k=g?`${g}.`:"";c.append(`${k}x`,"0"),c.append(`${k}y`,"0")}else g&&c.append(g,w)}}else{if(rl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Pa,a=null,s=_a,f=n}return c&&s==="text/plain"&&(f=c,c=void 0),{action:a,method:o.toLowerCase(),encType:s,formData:c,body:f}}function sc(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}async function Sk(n,r){if(n.id in r)return r[n.id];try{let o=await import(n.module);return r[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ck(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jk(n,r,o){let a=await Promise.all(n.map(async s=>{let c=r.routes[s.route.id];if(c){let f=await Sk(c,o);return f.links?f.links():[]}return[]}));return Pk(a.flat(1).filter(Ck).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function jm(n,r,o,a,s,c){let f=(v,g)=>o[g]?v.route.id!==o[g].route.id:!0,p=(v,g)=>{var y;return o[g].pathname!==v.pathname||((y=o[g].route.path)==null?void 0:y.endsWith("*"))&&o[g].params["*"]!==v.params["*"]};return c==="assets"?r.filter((v,g)=>f(v,g)||p(v,g)):c==="data"?r.filter((v,g)=>{var w;let y=a.routes[v.route.id];if(!y||!y.hasLoader)return!1;if(f(v,g)||p(v,g))return!0;if(v.route.shouldRevalidate){let k=v.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=o[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function Nk(n,r,{includeHydrateFallback:o}={}){return bk(n.map(a=>{let s=r.routes[a.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),o&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function bk(n){return[...new Set(n)]}function Rk(n){let r={},o=Object.keys(n).sort();for(let a of o)r[a]=n[a];return r}function Pk(n,r){let o=new Set;return new Set(r),n.reduce((a,s)=>{let c=JSON.stringify(Rk(s));return o.has(c)||(o.add(c),a.push({key:c,link:s})),a},[])}function _k(n,r){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname="_root.data":r&&fn(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.data`:o.pathname=`${o.pathname.replace(/\/$/,"")}.data`,o}function ov(){let n=j.useContext(Qr);return sc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Lk(){let n=j.useContext(nl);return sc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var uc=j.createContext(void 0);uc.displayName="FrameworkContext";function av(){let n=j.useContext(uc);return sc(n,"You must render this element inside a <HydratedRouter> element"),n}function Vk(n,r){let o=j.useContext(uc),[a,s]=j.useState(!1),[c,f]=j.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:g,onMouseLeave:y,onTouchStart:w}=r,k=j.useRef(null);j.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let L=O=>{O.forEach(T=>{f(T.isIntersecting)})},V=new IntersectionObserver(L,{threshold:.5});return k.current&&V.observe(k.current),()=>{V.disconnect()}}},[n]),j.useEffect(()=>{if(a){let L=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(L)}}},[a]);let R=()=>{s(!0)},b=()=>{s(!1),f(!1)};return o?n!=="intent"?[c,k,{}]:[c,k,{onFocus:Mi(p,R),onBlur:Mi(v,b),onMouseEnter:Mi(g,R),onMouseLeave:Mi(y,b),onTouchStart:Mi(w,R)}]:[!1,k,{}]}function Mi(n,r){return o=>{n&&n(o),o.defaultPrevented||r(o)}}function Ok({page:n,...r}){let{router:o}=ov(),a=j.useMemo(()=>Yh(o.routes,n,o.basename),[o.routes,n,o.basename]);return a?j.createElement(Ik,{page:n,matches:a,...r}):null}function Ak(n){let{manifest:r,routeModules:o}=av(),[a,s]=j.useState([]);return j.useEffect(()=>{let c=!1;return jk(n,r,o).then(f=>{c||s(f)}),()=>{c=!0}},[n,r,o]),a}function Ik({page:n,matches:r,...o}){let a=Un(),{manifest:s,routeModules:c}=av(),{basename:f}=ov(),{loaderData:p,matches:v}=Lk(),g=j.useMemo(()=>jm(n,r,v,s,a,"data"),[n,r,v,s,a]),y=j.useMemo(()=>jm(n,r,v,s,a,"assets"),[n,r,v,s,a]),w=j.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let b=new Set,L=!1;if(r.forEach(O=>{var A;let T=s.routes[O.route.id];!T||!T.hasLoader||(!g.some(z=>z.route.id===O.route.id)&&O.route.id in p&&((A=c[O.route.id])!=null&&A.shouldRevalidate)||T.hasClientLoader?L=!0:b.add(O.route.id))}),b.size===0)return[];let V=_k(n,f);return L&&b.size>0&&V.searchParams.set("_routes",r.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[V.pathname+V.search]},[f,p,a,s,g,r,n,c]),k=j.useMemo(()=>Nk(y,s),[y,s]),R=Ak(y);return j.createElement(j.Fragment,null,w.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...o})),k.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...o})),R.map(({key:b,link:L})=>j.createElement("link",{key:b,...L})))}function Tk(...n){return r=>{n.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lv&&(window.__reactRouterVersion="7.5.0")}catch{}function $k({basename:n,children:r,window:o}){let a=j.useRef();a.current==null&&(a.current=Cw({window:o,v5Compat:!0}));let s=a.current,[c,f]=j.useState({action:s.action,location:s.location}),p=j.useCallback(v=>{j.startTransition(()=>f(v))},[f]);return j.useLayoutEffect(()=>s.listen(p),[s,p]),j.createElement(pk,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}var sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,il=j.forwardRef(function({onClick:r,discover:o="render",prefetch:a="none",relative:s,reloadDocument:c,replace:f,state:p,target:v,to:g,preventScrollReset:y,viewTransition:w,...k},R){let{basename:b}=j.useContext(Ft),L=typeof g=="string"&&sv.test(g),V,O=!1;if(typeof g=="string"&&L&&(V=g,lv))try{let we=new URL(window.location.href),$e=g.startsWith("//")?new URL(we.protocol+g):new URL(g),xt=fn($e.pathname,b);$e.origin===we.origin&&xt!=null?g=xt+$e.search+$e.hash:O=!0}catch{Dt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Gw(g,{relative:s}),[A,z,G]=Vk(a,k),Z=zk(g,{replace:f,state:p,target:v,preventScrollReset:y,relative:s,viewTransition:w});function B(we){r&&r(we),we.defaultPrevented||Z(we)}let ye=j.createElement("a",{...k,...G,href:V||T,onClick:O||c?r:B,ref:Tk(R,z),target:v,"data-discover":!L&&o==="render"?"true":void 0});return A&&!L?j.createElement(j.Fragment,null,ye,j.createElement(Ok,{page:T})):ye});il.displayName="Link";var Mk=j.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:a="",end:s=!1,style:c,to:f,viewTransition:p,children:v,...g},y){let w=eo(f,{relative:g.relative}),k=Un(),R=j.useContext(nl),{navigator:b,basename:L}=j.useContext(Ft),V=R!=null&&Hk(w)&&p===!0,O=b.encodeLocation?b.encodeLocation(w).pathname:w.pathname,T=k.pathname,A=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;o||(T=T.toLowerCase(),A=A?A.toLowerCase():null,O=O.toLowerCase()),A&&L&&(A=fn(A,L)||A);const z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let G=T===O||!s&&T.startsWith(O)&&T.charAt(z)==="/",Z=A!=null&&(A===O||!s&&A.startsWith(O)&&A.charAt(O.length)==="/"),B={isActive:G,isPending:Z,isTransitioning:V},ye=G?r:void 0,we;typeof a=="function"?we=a(B):we=[a,G?"active":null,Z?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let $e=typeof c=="function"?c(B):c;return j.createElement(il,{...g,"aria-current":ye,className:we,ref:y,style:$e,to:f,viewTransition:p},typeof v=="function"?v(B):v)});Mk.displayName="NavLink";var Dk=j.forwardRef(({discover:n="render",fetcherKey:r,navigate:o,reloadDocument:a,replace:s,state:c,method:f=Pa,action:p,onSubmit:v,relative:g,preventScrollReset:y,viewTransition:w,...k},R)=>{let b=Kk(),L=Wk(p,{relative:g}),V=f.toLowerCase()==="get"?"get":"post",O=typeof p=="string"&&sv.test(p),T=A=>{if(v&&v(A),A.defaultPrevented)return;A.preventDefault();let z=A.nativeEvent.submitter,G=(z==null?void 0:z.getAttribute("formmethod"))||f;b(z||A.currentTarget,{fetcherKey:r,method:G,navigate:o,replace:s,state:c,relative:g,preventScrollReset:y,viewTransition:w})};return j.createElement("form",{ref:R,method:V,action:L,onSubmit:a?v:T,...k,"data-discover":!O&&n==="render"?"true":void 0})});Dk.displayName="Form";function Fk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uv(n){let r=j.useContext(Qr);return Pe(r,Fk(n)),r}function zk(n,{target:r,replace:o,state:a,preventScrollReset:s,relative:c,viewTransition:f}={}){let p=nv(),v=Un(),g=eo(n,{relative:c});return j.useCallback(y=>{if(yk(y,r)){y.preventDefault();let w=o!==void 0?o:Qi(v)===Qi(g);p(n,{replace:w,state:a,preventScrollReset:s,relative:c,viewTransition:f})}},[v,p,g,o,a,r,n,s,c,f])}var Uk=0,Bk=()=>`__${String(++Uk)}__`;function Kk(){let{router:n}=uv("useSubmit"),{basename:r}=j.useContext(Ft),o=sk();return j.useCallback(async(a,s={})=>{let{action:c,method:f,encType:p,formData:v,body:g}=kk(a,r);if(s.navigate===!1){let y=s.fetcherKey||Bk();await n.fetch(y,o,s.action||c,{preventScrollReset:s.preventScrollReset,formData:v,body:g,formMethod:s.method||f,formEncType:s.encType||p,flushSync:s.flushSync})}else await n.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:v,body:g,formMethod:s.method||f,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:o,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,r,o])}function Wk(n,{relative:r}={}){let{basename:o}=j.useContext(Ft),a=j.useContext(zt);Pe(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),c={...eo(n||".",{relative:r})},f=Un();if(n==null){c.search=f.search;let p=new URLSearchParams(c.search),v=p.getAll("index");if(v.some(y=>y==="")){p.delete("index"),v.filter(w=>w).forEach(w=>p.append("index",w));let y=p.toString();c.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(c.pathname=c.pathname==="/"?o:dn([o,c.pathname])),Qi(c)}function Hk(n,r={}){let o=j.useContext(Zh);Pe(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=uv("useViewTransitionState"),s=eo(n,{relative:r.relative});if(!o.isTransitioning)return!1;let c=fn(o.currentLocation.pathname,a)||o.currentLocation.pathname,f=fn(o.nextLocation.pathname,a)||o.nextLocation.pathname;return Da(s.pathname,f)!=null||Da(s.pathname,c)!=null}new TextEncoder;const qk={"commun . intensité électricité":{titre:"Intensité carbone du mix électrique français",description:`
> ℹ️ Cette règle provient du modèle [\`@incubateur-ademe/publicodes-commun\`](https://github.com/incubateur-ademe/publicodes-commun).


Intensité moyenne, tous types de consommations confondues, année 2022.`,unité:"kgCO2e/kWh",note:`Ici, on parle du mix électrique de consommation. 
Le chiffre est issu de la Base Empreinte (Electricité/2023 - mix moyen/consommation) dont la méthodologie est décrite dans la [documentation](https://prod-basecarbonesolo.ademe-dri.fr/documentation/UPLOAD_DOC_FR/).
`,valeur:.058},"commun . jours par an":{titre:"Nombre de jours par an",unité:"jour",valeur:365,description:"> ℹ️ Cette règle provient du modèle [`@incubateur-ademe/publicodes-commun`](https://github.com/incubateur-ademe/publicodes-commun)."},"livraison colis . empreinte production mix électrique":{description:"Intensité moyenne, tous types de consommations confondues, année 2022.",formule:81,unité:"gCO2e/kWh"},"livraison colis . empreinte production mix gaz":{formule:74,unité:"gCO2e/MJ"},"livraison colis . empreinte production mix électrique chine":{formule:766,unité:"gCO2e/kWh",note:`On utilise ici le FE de la base Empreinte même si son utilisation peut être discutable, en attendant un meilleur jeu de données peut-être via https://app.electricitymaps.com/map.
L'étude "usage numérique" utilise un FE issus de l'IEA, correspond à priori au FE de production de mix électrique (871.2 gCO2e/kWh)
Pour l'Europe, on est à 410.4 gCO2e/kWh via cette même source.
`},"livraison colis . empreinte production mix électrique europe":{formule:420,unité:"gCO2e/kWh",note:"Issu de la Base Empreinte. Electricité en Europe - mix moyen"},"livraison colis . transport livraison":{formule:{somme:["route","fabrication véhicule","usage véhicule"]},unité:"gCO2e/colis"},"livraison colis . transport livraison . distance":{question:"Quelle est la distance parcourue entre le dernier site et le point final de livraison ?","par défaut":70,unité:"km"},"livraison colis . transport livraison . distance . coefficient de correction distance":{titre:"Coefficient de correction des distances en transport dédié",formule:1.05},"livraison colis . transport livraison . distance . distance corrigée":{formule:"distance * coefficient de correction distance"},"livraison colis . transport livraison . distance . distance à vide":{formule:"distance corrigée * ratio distance à vide / (1 - ratio distance à vide)"},"livraison colis . transport livraison . distance . ratio distance à vide":{formule:.2},"livraison colis . transport livraison . distance . distance totale":{formule:"distance corrigée + distance à vide",unité:"km"},"livraison colis . transport livraison . véhicule":{question:"Quelle est la catégorie du véhicule ?",avec:{"VUL moyen":null,"PL moyen":null},"une possibilité":["VUL moyen","PL moyen"],"par défaut":"'VUL moyen'"},"livraison colis . transport livraison . véhicule . chargement moyen":{formule:{variations:[{si:"véhicule = 'VUL moyen'",alors:.2},{si:"véhicule = 'PL moyen'",alors:3.5}]},unité:"t",note:`Quand taux de charge = 15%
est ce vraiment en tonnes ? pb d'homogénéité ...
`},"livraison colis . transport livraison . véhicule . vitesse moyenne":{valeur:30},"livraison colis . transport livraison . route":{formule:"empreinte * tonnes km",unité:"gCO2e/colis"},"livraison colis . transport livraison . route . empreinte":{formule:5.6,unité:"gCO2e/t.km",note:"Source ECEL"},"livraison colis . transport livraison . route . tonnes km":{formule:"distance * livraison colis . informations . poids / 1000 kg/t",unité:"t.km/colis"},"livraison colis . transport livraison . fabrication véhicule":{formule:"empreinte * tonnes km",unité:"gCO2e/colis"},"livraison colis . transport livraison . fabrication véhicule . empreinte":{formule:{variations:[{si:"véhicule = 'VUL moyen'",alors:8.4},{si:"véhicule = 'PL moyen'",alors:2.8}]},unité:"gCO2e/t.km",note:"Source ECEL (VUL par défaut)"},"livraison colis . transport livraison . fabrication véhicule . tonnes km":{formule:"distance * livraison colis . informations . poids / 1000 kg/t",unité:"t.km/colis"},"livraison colis . transport livraison . usage véhicule":{formule:"(livraison colis . informations . poids / 1000 kg/t) * empreinte * distance . distance totale / véhicule . chargement moyen",unité:"gCO2e/colis",note:"Pb d'homogénéité avec le chargement moyen qui apparaît ici"},"livraison colis . transport livraison . usage véhicule . empreinte":{valeur:"empreinte véhicule par km HBEFA",contexte:{"empreinte véhicule par km HBEFA . vitesse moyenne véhicule":"véhicule . vitesse moyenne","empreinte véhicule par km HBEFA . type de véhicule":"véhicule"},unité:"gCO2e/t.km",note:"Source ECEL"},"livraison colis . transport inter plateformes":{formule:"empreinte trajet",unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . option longue distance":{question:"Le colis vient-il de loin (hors UE) ?","par défaut":"non"},"livraison colis . transport inter plateformes . option transport aérien":{question:"Le colis est-il acheminé par avion ?","par défaut":"non"},"livraison colis . transport inter plateformes . empreinte trajet":{formule:{variations:[{si:"option longue distance",alors:"empreinte trajet longue distance"},{si:"option transport aérien",alors:"aérien"},{sinon:"routier"}]},unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . empreinte trajet longue distance":{formule:{moyenne:["aérien","ferroviaire","maritime"]},note:`On considère une moyenne de 3 modes de transport pour le cas de la Chine.

![](https://fr.sino-shipping.com/wp-content/uploads/2021/07/fret-ferroviaire-chine-europe.jpg)
`,unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . routier":{formule:{somme:["route","fabrication véhicule","usage véhicule"]},unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . routier . distance":{question:"Quelle est la distance parcourue entre les plateformes, entrepôts de stockage ?","par défaut":400,unité:"km"},"livraison colis . transport inter plateformes . routier . distance . coefficient de correction distance":{titre:"Coefficient de correction des distances en transport dédié",formule:1.05},"livraison colis . transport inter plateformes . routier . distance . distance corrigée":{formule:"distance * coefficient de correction distance"},"livraison colis . transport inter plateformes . routier . distance . distance à vide":{formule:"distance corrigée * ratio distance à vide / (1 - ratio distance à vide)"},"livraison colis . transport inter plateformes . routier . distance . ratio distance à vide":{formule:.2},"livraison colis . transport inter plateformes . routier . distance . distance totale":{formule:"distance corrigée + distance à vide",unité:"km"},"livraison colis . transport inter plateformes . routier . véhicule":{question:"Quelle est la catégorie du véhicule ?",avec:{"VUL moyen":null,"PL moyen":null},"une possibilité":["VUL moyen","PL moyen"],"par défaut":"'PL moyen'"},"livraison colis . transport inter plateformes . routier . véhicule . chargement moyen":{formule:{variations:[{si:"véhicule = 'VUL moyen'",alors:.2},{si:"véhicule = 'PL moyen'",alors:3.5}]},unité:"t",note:`Quand taux de charge = 15%
`},"livraison colis . transport inter plateformes . routier . véhicule . vitesse moyenne":{valeur:60},"livraison colis . transport inter plateformes . routier . route":{formule:"empreinte * tonnes km",unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . routier . route . empreinte":{formule:5.6,unité:"gCO2e/t.km",note:"Source ECEL"},"livraison colis . transport inter plateformes . routier . route . tonnes km":{formule:"distance * livraison colis . informations . poids / 1000 kg/t",unité:"t.km/colis"},"livraison colis . transport inter plateformes . routier . fabrication véhicule":{formule:"empreinte * tonnes km",unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . routier . fabrication véhicule . empreinte":{formule:{variations:[{si:"véhicule = 'VUL moyen'",alors:8.4},{si:"véhicule = 'PL moyen'",alors:2.8}]},unité:"gCO2e/t.km"},"livraison colis . transport inter plateformes . routier . fabrication véhicule . tonnes km":{formule:"distance * livraison colis . informations . poids / 1000 kg/t",unité:"t.km/colis"},"livraison colis . transport inter plateformes . routier . usage véhicule":{formule:"(livraison colis . informations . poids / 1000 kg/t) * empreinte * distance . distance totale / véhicule . chargement moyen",unité:"gCO2e/colis",note:"Pb d'homogénéité avec le chargement moyen qui apparaît ici"},"livraison colis . transport inter plateformes . routier . usage véhicule . empreinte":{valeur:"empreinte véhicule par km HBEFA",contexte:{"empreinte véhicule par km HBEFA . vitesse moyenne véhicule":"véhicule . vitesse moyenne","empreinte véhicule par km HBEFA . type de véhicule":"véhicule"},unité:"gCO2e/t.km"},"livraison colis . transport inter plateformes . aérien":{formule:"tonnes km * empreinte",unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . aérien . distance":{question:"Quelle est la distance parcourue entre les plateformes, entrepôts de stockage ?","par défaut":9e3,unité:"km"},"livraison colis . transport inter plateformes . aérien . empreinte":{formule:{variations:[{si:"distance < 1000",alors:1600},{si:"distance < 5000",alors:1300},{sinon:1200}]},unité:"gCO2e/t.km",note:`Les traînées de condensation ne sont pas prises en compte.
Données issues de ECEL basé sur :
![](https://github.com/incubateur-ademe/nosgestesclimat/assets/55186402/4bea2f32-f584-47eb-9913-bb8ec50eb39f)
`},"livraison colis . transport inter plateformes . aérien . tonnes km":{formule:"distance * livraison colis . informations . poids / 1000 kg/t",unité:"t.km/colis"},"livraison colis . transport inter plateformes . ferroviaire":{formule:"tonnes km * empreinte",unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . ferroviaire . distance":{question:"Quelle est la distance parcourue entre les plateformes, entrepôts de stockage ?","par défaut":11e3,unité:"km"},"livraison colis . transport inter plateformes . ferroviaire . empreinte":{formule:30,unité:"gCO2e/t.km",note:'On considère le FE "Europe"'},"livraison colis . transport inter plateformes . ferroviaire . tonnes km":{formule:"distance * livraison colis . informations . poids / 1000 kg/t",unité:"t.km/colis"},"livraison colis . transport inter plateformes . maritime":{formule:"tonnes km * empreinte",unité:"gCO2e/colis"},"livraison colis . transport inter plateformes . maritime . distance":{question:"Quelle est la distance parcourue entre les plateformes, entrepôts de stockage ?","par défaut":2e4,unité:"km"},"livraison colis . transport inter plateformes . maritime . empreinte":{formule:48,unité:"gCO2e/t.km",note:'On considère le FE "Europe"'},"livraison colis . transport inter plateformes . maritime . tonnes km":{formule:"distance * livraison colis . informations . poids / 1000 kg/t",unité:"t.km/colis"},"livraison colis . scénario . scénario synthèse":{titre:"Livraison à domicile d'une paire de chaussure",description:`Voir p.65 de la synthèse
Résultat différent avec l'excel notamment au niveau de l'emballage, correct par rapport à ce modèle.
`,formule:{somme:["commande en ligne","emballage","entrepot stockage","transport inter plateformes 1","plateforme","transport inter plateformes 2","plateforme","transport livraison"]},unité:"gCO2e/colis"},"livraison colis . scénario . scénario synthèse . emballage":{valeur:"livraison colis . emballage",contexte:{"livraison colis . informations . volume":7e3,"livraison colis . informations . poids":1,"livraison colis . emballage . poids emballage":215.5}},"livraison colis . scénario . scénario synthèse . entrepot stockage":{valeur:"livraison colis . entrepot stockage",contexte:{"livraison colis . informations . volume":7e3,"livraison colis . informations . poids":1}},"livraison colis . scénario . scénario synthèse . transport inter plateformes 1":{valeur:"livraison colis . transport inter plateformes",contexte:{"livraison colis . informations . volume":7e3,"livraison colis . informations . poids":1,"livraison colis . transport inter plateformes . routier . distance":400,"livraison colis . transport inter plateformes . routier . distance . ratio distance à vide":.17}},"livraison colis . scénario . scénario synthèse . transport inter plateformes 2":{valeur:"livraison colis . transport inter plateformes",contexte:{"livraison colis . informations . volume":7e3,"livraison colis . informations . poids":1,"livraison colis . transport inter plateformes . routier . distance":100,"livraison colis . transport inter plateformes . routier . distance . ratio distance à vide":.17}},"livraison colis . scénario . scénario synthèse . plateforme":{valeur:"livraison colis . plateforme",contexte:{"livraison colis . informations . volume":7e3,"livraison colis . informations . poids":1}},"livraison colis . scénario . scénario synthèse . transport livraison":{valeur:"livraison colis . transport livraison",contexte:{"livraison colis . informations . volume":7e3,"livraison colis . informations . poids":1,"livraison colis . transport livraison . distance":50}},"livraison colis . point de retrait":{formule:"nombre * empreinte point de retrait",unité:"gCO2e/colis"},"livraison colis . point de retrait . nombre":{titre:"Nombre de passages en point de retrait dans le processus de livraison",formule:1},"livraison colis . empreinte point de retrait":{formule:{somme:["infrastructures","électricité","gaz"]},unité:"gCO2e/colis"},"livraison colis . empreinte point de retrait . surface":{formule:10,unité:"m2"},"livraison colis . empreinte point de retrait . nombre de jours de stockage":{formule:2,unité:"jour"},"livraison colis . empreinte point de retrait . durée de vie par an":{formule:50,unité:"an"},"livraison colis . empreinte point de retrait . volume de stockage par m2":{formule:1,unité:"m3/m2"},"livraison colis . empreinte point de retrait . nombre de colis par m2":{formule:"volume de stockage par m2 * 1000000 cm3/m3 / informations . volume",unité:"colis/m2"},"livraison colis . empreinte point de retrait . infrastructures":{formule:"part point de retrait par colis * empreinte magasin",unité:"gCO2e/colis"},"livraison colis . empreinte point de retrait . infrastructures . part point de retrait par colis":{formule:"nombre de jours de stockage / (durée de vie par an * commun . jours par an / 1 an * nombre de colis par m2)",unité:"m2/colis",note:"Besoin du nombre de jours de stockage pour le calcul ?"},"livraison colis . empreinte point de retrait . infrastructures . empreinte magasin":{titre:"Empreinte construction et démolition magasin traditionnel",formule:2500,unité:"gCO2e/m2"},"livraison colis . empreinte point de retrait . électricité":{formule:"(consommation point de retrait par jour / empreinte point de retrait . nombre de colis par m2) * nombre de jours de stockage * empreinte production mix électrique",unité:"gCO2e/colis"},"livraison colis . empreinte point de retrait . électricité . consommation point de retrait par jour":{formule:.74,unité:"kWh/m2/jour",note:`Hypothèse: Enseigne non alimentaire
`},"livraison colis . empreinte point de retrait . gaz":{formule:"(consommation point de retrait par jour / empreinte point de retrait . nombre de colis par m2) * nombre de jours de stockage * empreinte production mix gaz",unité:"gCO2e/colis"},"livraison colis . empreinte point de retrait . gaz . consommation point de retrait par jour":{formule:"82.8 MJ/m2 / commun . jours par an",unité:"MJ/m2/jour"},"livraison colis . plateforme":{formule:"empreinte plateforme",unité:"gCO2e/colis"},"livraison colis . empreinte plateforme":{formule:{somme:["infrastructures","électricité","gaz"]},unité:"gCO2e/colis"},"livraison colis . empreinte plateforme . surface":{formule:1e4,unité:"m2"},"livraison colis . empreinte plateforme . nombre de jours de stockage":{formule:1,unité:"jour"},"livraison colis . empreinte plateforme . durée de vie":{formule:50,unité:"an"},"livraison colis . empreinte plateforme . nombre de colis par jour":{formule:1e5,unité:"colis/jour"},"livraison colis . empreinte plateforme . nombre de colis par an":{formule:"nombre de colis par jour * commun . jours par an / 1 an",unité:"colis/an"},"livraison colis . empreinte plateforme . infrastructures":{formule:"part de plateforme par colis * empreinte entrepot",unité:"gCO2e/colis"},"livraison colis . empreinte plateforme . infrastructures . part de plateforme par colis":{formule:"empreinte plateforme . surface / (empreinte plateforme . nombre de colis par an * empreinte plateforme . durée de vie)",unité:"m2/colis"},"livraison colis . empreinte plateforme . infrastructures . empreinte entrepot":{titre:"Empreinte construction et démolition entrepôt",formule:12515.52451,unité:"gCO2e/m2"},"livraison colis . empreinte plateforme . électricité":{formule:"(consommation plateforme par jour * surface / nombre de colis par jour / 1 jour) * nombre de jours de stockage  * empreinte production mix électrique",unité:"gCO2e/colis"},"livraison colis . empreinte plateforme . électricité . consommation plateforme par jour":{formule:.12,unité:"kWh/m2/jour",note:`Hypothèse: entrepôt moyennement mécanisé, pas de réfrigération.
`},"livraison colis . empreinte plateforme . gaz":{formule:"((consommation plateforme par jour * surface) / nombre de colis par jour / 1 jour) * nombre de jours de stockage * empreinte production mix gaz",unité:"gCO2e/colis"},"livraison colis . empreinte plateforme . gaz . consommation plateforme par jour":{formule:"82.8 MJ/m2 / commun . jours par an",unité:"MJ/m2/jour"},"livraison colis . empreinte véhicule par km HBEFA":{note:"méthode HBEFA",formule:{somme:["a0","a1 * vitesse moyenne véhicule","a2 * vitesse moyenne véhicule * vitesse moyenne véhicule","a3 * vitesse moyenne véhicule * vitesse moyenne véhicule * vitesse moyenne véhicule","a4 * vitesse moyenne véhicule * vitesse moyenne véhicule * vitesse moyenne véhicule * vitesse moyenne véhicule"]},unité:"gCO2e/t.km"},"livraison colis . empreinte véhicule par km HBEFA . vitesse moyenne véhicule":{question:"Quelle est la vitesse moyenne du véhicule ?","par défaut":30,unité:"v"},"livraison colis . empreinte véhicule par km HBEFA . type de véhicule":{question:"Quelle est le type de véhicule ?","par défaut":"'VUL moyen'"},"livraison colis . empreinte véhicule par km HBEFA . a0":{formule:{variations:[{si:"type de véhicule = 'VUL moyen'",alors:495.724170429},{si:"type de véhicule = 'PL moyen'",alors:2658.381936133}]},unité:"gCO2e/t.km"},"livraison colis . empreinte véhicule par km HBEFA . a1":{formule:{variations:[{si:"type de véhicule = 'VUL moyen'",alors:-16.736438277},{si:"type de véhicule = 'PL moyen'",alors:-59.503740818}]},unité:"gCO2e/t.km/v"},"livraison colis . empreinte véhicule par km HBEFA . a2":{formule:{variations:[{si:"type de véhicule = 'VUL moyen'",alors:.333519703},{si:"type de véhicule = 'PL moyen'",alors:.15518666}]},unité:"gCO2e/t.km/v2"},"livraison colis . empreinte véhicule par km HBEFA . a3":{formule:{variations:[{si:"type de véhicule = 'VUL moyen'",alors:-.002759366},{si:"type de véhicule = 'PL moyen'",alors:.011536086}]},unité:"gCO2e/t.km/v3"},"livraison colis . empreinte véhicule par km HBEFA . a4":{formule:{variations:[{si:"type de véhicule = 'VUL moyen'",alors:8481e-9},{si:"type de véhicule = 'PL moyen'",alors:-95661e-9}]},unité:"gCO2e/t.km/v4"},"livraison colis . magasin":{formule:{somme:["infrastructures","électricité","gaz"]},unité:"gCO2e/colis"},"livraison colis . magasin . type":{avec:{hypermarché:null,supermarché:null,"galerie marchande":null,"magasin spécialisé":null},"une possibilité":["hypermarché","supermarché","galerie marchande","magasin spécialisé"],"par défaut":"'supermarché'"},"livraison colis . magasin . surface":{formule:2e3,unité:"m2"},"livraison colis . magasin . nombre de jours de stockage":{formule:28,unité:"jour",note:"Sockage température ambiante"},"livraison colis . magasin . durée de vie":{formule:50,unité:"an"},"livraison colis . magasin . facteur multiplication volume":{titre:"Facteur de multiplication du volume de l'article (volume occupé/volume article)",formule:4,note:`Hypothèse: Un article occupe environ 4 fois son propre volume en entrepôt logistique (OEFSR retail 2018)
`},"livraison colis . magasin . volume stockage total":{formule:"surface * 0.5 * 2m",unité:"m3",note:`Hypothèse: 50% du magasin est occupé par des étagères de 2m de hauteur
`},"livraison colis . magasin . capacité stockage":{formule:"volume stockage total * 52 semaine/an",unité:"m3.semaine/an"},"livraison colis . magasin . infrastructures":{formule:"part magasin par article * empreinte magasin",unité:"gCO2e/colis"},"livraison colis . magasin . infrastructures . part magasin par article":{formule:"surface * (facteur multiplication volume * (informations . volume / 1000000 cm3/m3) * (nombre de jours de stockage / 7 jour/semaine) / (capacité stockage * durée de vie))",unité:"m2/colis"},"livraison colis . magasin . infrastructures . empreinte magasin":{titre:"Empreinte construction et démolition magasin traditionnel",formule:2500,unité:"gCO2e/m2"},"livraison colis . magasin . consommation énergie totale par an":{formule:{variations:[{si:"type = 'hypermarché'",alors:625},{si:"type = 'supermarché'",alors:690},{si:"type = 'galerie marchande'",alors:290},{si:"type = 'magasin spécialisé'",alors:110}]},unité:"kWh/m2"},"livraison colis . magasin . électricité":{formule:"empreinte production mix électrique * ((consommation électrcité par an * surface) / (capacité stockage / (facteur multiplication volume * (informations . volume / 1000000 cm3/m3) * (nombre de jours de stockage / 1 an / 7 jour/semaine))))",unité:"gCO2e/colis"},"livraison colis . magasin . électricité . part consommation":{formule:.82},"livraison colis . magasin . électricité . consommation électrcité par an":{formule:"part consommation * consommation énergie totale par an"},"livraison colis . magasin . gaz":{formule:"empreinte production mix gaz * ((consommation gaz par an * surface) / (capacité stockage / (facteur multiplication volume * (informations . volume / 1000000 cm3/m3) * (nombre de jours de stockage / 1 an / 7 jour/semaine))))",unité:"gCO2e/colis"},"livraison colis . magasin . gaz . part consommation":{formule:.18},"livraison colis . magasin . gaz . consommation gaz par an":{formule:"part consommation * 3.6 MJ/kWh * consommation énergie totale par an"},"livraison colis":{icônes:"🚚",titre:"Livraison d'un colis",note:`Le champ de l’étude débute au moment de la validation de la commande par le e-commerçant, en faisant **l’hypothèse que l’article (produit) 
est déjà en stock**, jusqu’à la récupération de(s) article(s) constitutif(s) de la commande par le e-consommateur. 

Ce périmètre est présenté à la figure ci-dessous (segment 3). 

**Les étapes amont d’extraction de matières premières, d’approvisionnement, et de mise en forme de celles-ci ainsi que l’assemblage du produit fini ne sont pas inclues dans le champ de l’étude (segment 1 de la figure ci-dessous). Le premier segment de distribution 
entre l’usine de fabrication/assemblage du produit fini et l’entrepôt de stockage n’est également pas inclus** (segment 2 de la figure ci-dessous).

![image](https://user-images.githubusercontent.com/55186402/234813967-7bda2331-9349-4f5b-b595-613a0fe75741.png)

Certaines études suggèrent que le commerce en ligne favorise l’allongement à l’international des chaînes de distribution et l’importation de biens (segment 2 sur la figure ci-dessus).
En fonction du mode de transport international, cet allongement peut dégrader la performance environnementale du produit. Ainsi, des sites majeurs du commerce en ligne, tels que Wish ou AliExpress 
fondent leur modèle économique sur l’importation par fret express aérien de produits, essentiellement depuis l’Asie. Cela constitue une source majeure d’émissions de gaz à effet de serre . 
L’impact carbone du fret aérien serait d’un ordre de grandeur 100 fois plus important que celui du transport maritime de marchandises .

Pour un produit donné, qu’il soit local ou importé, le présent projet n’a pas documenté les différences de performance environnementale liées aux étapes de production amont du bien acheté. 
Ce point nécessiterait néanmoins des investigations complémentaires. De ce fait, dans le présent projet, que le produit consommé provienne du commerce en ligne livré via un point de retrait ou à domicile ou bien du commerce physique,
qu’il soit local ou importé, la principale différence de la performance environnementale entre les deux modes de commerce repose sur les étapes finales d’entreposage et de distribution au consommateur ainsi que de déplacement du consommateur.

C’est un point essentiel à avoir en tête car l’optimisation logistique des derniers kilomètres de distribution et de livraison est souvent présentée comme un bénéfice environnemental du commerce en ligne. 
Néanmoins, ce bénéfice pourrait être nuancé dès lors qu’une différence de performance environnementale des produits proposés apparaîtrait ou que les produits achetés seraient davantage gaspillés ou non consommés. 
C’est pourquoi, afin d’avoir une vision plus large de la performance environnementale associée au commerce en ligne, il pourrait intéressant d’étudier l’influence de celui-ci sur les étapes amont. 
En effet, comme présenté dans les encadrés ci-dessous, pour certains produits, la majorité de la contribution à la empreinte carbone provient des étapes de production de celui-ci.
`,formule:{variations:[{si:"scénario = 'domicile'",alors:"scénario . domicile"},{si:"scénario = 'point de retrait'",alors:"scénario . point de retrait"},{si:"scénario = 'click and collect'",alors:"scénario . click and collect"},{si:"scénario = 'magasin traditionnel'",alors:"scénario . magasin traditionnel"}]},unité:"gCO2e/colis"},"livraison colis . scénario":{titre:"Scénario de livraison","une possibilité":["domicile","point de retrait","click and collect","magasin traditionnel"],"par défaut":"'domicile'",note:`La livraison à domicile semble être le mode de livraison plébiscité par la grande majorité des e-acheteurs (données issues de [cette étude FEVAD 2022](https://www.fevad.com/wp-content/uploads/2022/06/FEVAD_CHIFFRES-CLES_2022_compressed.pdf)!

![](https://github.com/datagir/impactco2/assets/55186402/ec002892-8912-4690-a6b6-90ca2bd53e2a)
`},"livraison colis . scénario . domicile":{titre:"Livraison à domicile",description:`### Détail de scénario:
  - Processus de commande en ligne
  - Entrepôt initial de stockage et de préparation du colis (emballé et stocké entre 15 et 40 jours dans un entrepôt de 10000 m2)
  - Transport entrepôt - plateforme 1: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Plateforme 1 (stocké 1 jour dans un entrepôt de 10000 m2)
  - Transport plateforme 1 - plateforme 2: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Plateforme 2 (stocké 1 jour dans un entrepôt de 10000 m2)
  - Transport plateforme 2 - domicile: 70 km (VUL, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 30 km/h)
`,formule:{somme:["commande en ligne","emballage","entrepot stockage","transport inter plateformes","plateforme","transport inter plateformes","plateforme","transport livraison"]},unité:"gCO2e/colis"},"livraison colis . scénario . point de retrait":{titre:"Livraison en point de retrait",description:`### Détail de scénario:
  - Processus de commande en ligne
  - Entrepôt initial de stockage et de préparation du colis (emballé et stocké entre 15 et 40 jours dans un entrepôt de 10000 m2)
  - Transport entrepôt - plateforme 1: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Plateforme 1 (stocké 1 jour dans un entrepôt de 10000 m2)
  - Transport plateforme 1 - plateforme 2: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Plateforme 2 (stocké 1 jour dans un entrepôt de 10000 m2)
  - Transport plateforme 2 - point de retrait: 70 km (VUL, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 30 km/h)
  - Point de retrait (stocké 1 jour dans une enseigne type "magasin traditionnel" de 10 m2)
  - Déplacement consommateur (7 km en voiture thermique par défaut alloué au exclusivement au colis)
`,formule:{somme:["commande en ligne","emballage","entrepot stockage","transport inter plateformes","plateforme","transport inter plateformes","plateforme","transport livraison","point de retrait","déplacement consommateur"]},unité:"gCO2e/colis"},"livraison colis . scénario . click and collect":{titre:'Livraison "Click and collect"',description:`### Détail de scénario:
  - Processus de commande en ligne
  - Entrepôt initial de stockage et de préparation du colis (emballé et stocké entre 15 et 40 jours dans un entrepôt de 10000 m2)
  - Transport entrepôt - plateforme 1: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Plateforme 1 (stocké 1 jour dans un entrepôt de 10000 m2)
  - Transport plateforme 1 - plateforme 2: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Plateforme 2 (stocké 1 jour dans un entrepôt de 10000 m2)
  - Transport plateforme 2 - magasin: 70 km (VUL, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 30 km/h)
  - Magasin (stocké 28 jours dans une enseigne type "supermarchés" de 2000 m2)
  - Déplacement consommateur (7 km en voiture thermique par défaut alloué au exclusivement au colis)
`,formule:{somme:["commande en ligne","emballage","entrepot stockage","transport inter plateformes","plateforme","transport inter plateformes","plateforme","transport livraison","magasin","déplacement consommateur"]},unité:"gCO2e/colis"},"livraison colis . scénario . magasin traditionnel":{titre:"Achat en magasin traditionnel",description:`### Détail de scénario:
  - Entrepôt initial de stockage (stocké entre 15 et 40 jours dans un entrepôt de 10000 m2)
  - Transport entrepôt - plateforme 1: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Plateforme 1 (stocké 1 jour dans un entrepôt de 10000 m2)
  - Transport plateforme 1 - plateforme 2: 400 km (poids lourd moyen, taux de remplissage de 15% et un taux de retour à vide de 20% roulant à une vitesse moyenne de 60 km/h)
  - Magasin (stocké 28 jours dans une enseigne type "supermarchés" de 2000 m2)
  - Déplacement consommateur (7 km en voiture thermique par défaut alloué au exclusivement au colis)
`,formule:{somme:["entrepot stockage","transport inter plateformes","plateforme","transport inter plateformes","magasin","déplacement consommateur"]},unité:"gCO2e/colis"},"livraison colis . informations":null,"livraison colis . informations . catégorie":{titre:"Catégorie de produit","une possibilité":["grande consommation","habillement","culturel","équipements volumineux","autre"],"par défaut":"'habillement'",description:`Les produits d'habillement semblent être les plus achetés en ligne (données issues de [cette étude FEVAD 2022](https://www.fevad.com/wp-content/uploads/2022/06/FEVAD_CHIFFRES-CLES_2022_compressed.pdf)!

![](https://github.com/datagir/impactco2/assets/55186402/06161a2d-6314-406d-b6f5-971f7e75fbae)
`,note:`La catégorie de produit impacte : le volume, le poids, le temps passé sur le site de commande, la durée de stockage dans l'entrepôt et le PDV.
`},"livraison colis . informations . catégorie . grande consommation":{titre:"Produit de grande consommation",description:`Pour les produits de grande consommation, il est possible de distinguer produits secs et produits frais. 
Afin de simplifier les calculs dans cette première version, nous avons considéré uniquement des produits secs (pas besoin de réfrigération pendant le processus de livraison).
Ces produits semblent correspondre à des produits que l'on peut trouver en supermarché.

*Par défaut:*

- Carton de courses
- Volume: 45 000 cm3
- Poids: 20 kg
- Nombre de jours de stockage en entrepôt: 15 jours
`},"livraison colis . informations . catégorie . habillement":{titre:"Habillement",description:`L'habillement correspond à un produit textile qui va de la paire de chaussures, au manteau en passant par le t-shirt…

*Par défaut:*

- Boîte à chaussures
- Volume: 10 000 cm3
- Poids: 1.5 kg
- Nombre de jours de stockage en entrepôt: 20 jours
`},"livraison colis . informations . catégorie . culturel":{titre:"Produit culturel",description:`Les produits culturels correspondent aux livres, jeux de société, CD/vinyles, jeux vidéos…

*Par défaut:*

- Livre
- Volume: 750 cm3
- Poids: 0.200 kg
- Nombre de jours de stockage en entrepôt: 30 jours
`},"livraison colis . informations . catégorie . équipements volumineux":{titre:"Equipements volumineux'",description:`Tout ce qui ne rentre pas dans les autres catégories !

*Par défaut:*

- Moyen constaté
- Volume: 88937 cm3
- Poids: 18.425 kg
- Nombre de jours de stockage en entrepôt: 26.25 jours
`},"livraison colis . informations . catégorie . autre":{titre:"Autre produit",description:`Pour les produits de grande consommation, il est possible de distinguer produits secs et produits frais. 
Afin de simplifier les calculs dans cette première version, nous avons considéré uniquement des produits secs (pas besoin de réfrigération pendant le processus de livraison).
Ces produits semblent correspondre à des produits que l'on peut trouver en supermarché.

*Par défaut:*

- Carton de courses
- Volume: 45 000 cm3
- Poids: 20 kg
- Nombre de jours de stockage en entrepôt: 15 jours
`},"livraison colis . informations . volume":{titre:"Volume du colis",question:"Quel est le volume du colis ?",unité:"cm3/colis","par défaut":{variations:[{si:"catégorie = 'grande consommation'",alors:45e3},{si:"catégorie = 'habillement'",alors:1e4},{si:"catégorie = 'culturel'",alors:750},{si:"catégorie = 'équipements volumineux'",alors:3e5},{si:"catégorie = 'autre'",alors:88937}]}},"livraison colis . informations . poids":{titre:"Poids du colis",question:"Quel est le poids du colis ?",unité:"kg/colis","par défaut":{variations:[{si:"catégorie = 'grande consommation'",alors:20},{si:"catégorie = 'habillement'",alors:1.5},{si:"catégorie = 'culturel'",alors:.2},{si:"catégorie = 'équipements volumineux'",alors:70},{si:"catégorie = 'autre'",alors:18.425}]}},"livraison colis par avion":{formule:{variations:[{si:"origine = 'hors europe'",alors:"hors europe"},{si:"origine = 'europe'",alors:"europe"}]}},"livraison colis par avion . origine":{avec:{europe:null,"hors europe":null},"une possibilité":["europe","hors europe"],"par défaut":"'hors europe'"},"livraison colis par avion . hors europe":{description:`On considère que le colis vient de Chine, par avion (distance de 9000km)
`,formule:{somme:["entrepot stockage chine","transport inter plateformes chine","livraison colis"]}},"livraison colis par avion . entrepot stockage chine":{valeur:"livraison colis . entrepot stockage",contexte:{"livraison colis . empreinte production mix électrique":"livraison colis . empreinte production mix électrique chine"},note:`L'idée ici est d'approcher l'impact de l'entrpôt en Chine via le mix électrique. Attention, c'est un mix de consommation.
Il faudrait également faire ce travail pour la consommation de gaz.
`},"livraison colis par avion . transport inter plateformes chine":{valeur:"livraison colis . transport inter plateformes",contexte:{"livraison colis . transport inter plateformes . option transport aérien":"oui"}},"livraison colis par avion . europe":{description:`On considère que le colis vient de Chine, par avion (distance de 9000km)
`,formule:{somme:["entrepot stockage europe","transport inter plateformes europe","livraison colis"]},unité:"gCO2e/colis"},"livraison colis par avion . entrepot stockage europe":{valeur:"livraison colis . entrepot stockage",contexte:{"livraison colis . empreinte production mix électrique":"livraison colis . empreinte production mix électrique europe"},note:`L'idée ici est d'approcher l'impact d'un entrepôt en Europe via le mix électrique. Attention, c'est un mix de consommation.
Il faudrait également faire ce travail pour la consommation de gaz.
`},"livraison colis par avion . transport inter plateformes europe":{valeur:"livraison colis . transport inter plateformes",contexte:{"livraison colis . transport inter plateformes . option transport aérien":"oui","livraison colis . transport inter plateformes . aérien . distance":2e3}},"livraison colis . entrepot stockage":{formule:"nombre * empreinte entrepot",unité:"gCO2e/colis"},"livraison colis . entrepot stockage . nombre":{titre:"Nombre d'entrepôts de stockage dans le processus de livraison",formule:1},"livraison colis . empreinte entrepot":{formule:{somme:["infrastructures","électricité","gaz"]},unité:"gCO2e/colis"},"livraison colis . empreinte entrepot . taille":{formule:1e4,unité:"m2"},"livraison colis . empreinte entrepot . nombre de jours de stockage":{formule:{variations:[{si:"informations . catégorie = 'grande consommation'",alors:15},{si:"informations . catégorie = 'habillement'",alors:20},{si:"informations . catégorie = 'culturel'",alors:30},{si:"informations . catégorie = 'équipements volumineux'",alors:40},{si:"informations . catégorie = 'autre'",alors:26.25}]},unité:"jour"},"livraison colis . empreinte entrepot . durée de vie":{formule:50},"livraison colis . empreinte entrepot . volume de stockage par m2":{formule:2,unité:"m3/m2",note:`Hypothèse: Surface au sol = 1m2, hauteur étagère = 2m, largeur couloir = 0.4m
`},"livraison colis . empreinte entrepot . nombre de colis par m2":{formule:"volume de stockage par m2 * 1000000 cm3/m3 / (informations . volume * facteur multiplication volume)",unité:"colis/m2"},"livraison colis . empreinte entrepot . facteur multiplication volume":{titre:"Facteur de multiplication du volume de l'article (volume occupé/volume article)",formule:4,note:`Hypothèse: Un article occupe environ 4 fois son propre volume en entrepôt logistique (OEFSR retail 2018)
`},"livraison colis . empreinte entrepot . infrastructures":{formule:"part entrepot par colis * empreinte entrepot",unité:"gCO2e/colis"},"livraison colis . empreinte entrepot . infrastructures . part entrepot par colis":{formule:"empreinte entrepot . nombre de jours de stockage / (empreinte entrepot . durée de vie * commun . jours par an * empreinte entrepot . nombre de colis par m2)"},"livraison colis . empreinte entrepot . infrastructures . empreinte entrepot":{titre:"Empreinte construction et démolition entrepôt",formule:12515.52451,unité:"gCO2e/m2"},"livraison colis . empreinte entrepot . électricité":{formule:"(consommation entrepot par jour / empreinte entrepot . nombre de colis par m2) * nombre de jours de stockage * empreinte production mix électrique",unité:"gCO2e/colis"},"livraison colis . empreinte entrepot . électricité . consommation entrepot par jour":{formule:.12,unité:"kWh/m2/jour",note:`Hypothèse: entrepôt moyennement mécanisé, pas de réfrigération.
`},"livraison colis . empreinte entrepot . gaz":{formule:"(consommation entrepot par jour / empreinte entrepot . nombre de colis par m2) * nombre de jours de stockage * empreinte production mix gaz",unité:"gCO2e/colis"},"livraison colis . empreinte entrepot . gaz . consommation entrepot par jour":{formule:"82.8 MJ/m2 / commun . jours par an",unité:"MJ/m2/jour"},"livraison colis . emballage":{titre:"Emballage du colis",note:"Hypothèse d'un emballage carton uniquement",formule:"poids emballage * empreinte carton",unité:"gCO2e/colis"},"livraison colis . empreinte carton":{formule:1.29,unité:"gCO2e/g",note:'Etrange, dans la base carbone, on a "Caisses en carton ondulé" 1.17 kgCO2e/kg.'},"livraison colis . emballage . poids emballage":{formule:"surface * densité",unité:"g/colis"},"livraison colis . emballage . poids emballage . densité":{titre:"Densité du carton",formule:.084,unité:"g/cm2"},"livraison colis . emballage . poids emballage . surface":{titre:"Surface d'emballage",formule:"surface sphère + ajustement",note:"Formule non justifiée dans le calculateur, visiblement, on estime la surface de carton via la surface de la sphère associée au volume du colis + un facteur correctif.",unité:"cm2/colis"},"livraison colis . emballage . poids emballage . surface . surface sphère":{formule:"4 * pi * rayon sphère * rayon sphère",unité:"cm2/colis",note:"Pour la surface d'une sphère, la formule est S = 4πR^2 ou R est le rayon de la sphère. On a donc besoin d'estimer ce rayon."},"livraison colis . emballage . poids emballage . surface . surface sphère . pi":{titre:"PI",formule:3.14159265},"livraison colis . emballage . poids emballage . surface . surface sphère . rayon sphère cube":{formule:"rayon sphère * rayon sphère * rayon sphère","par défaut":"3 * informations . volume / (4 * pi)",unité:"cm3",note:`L'objectif ici est de détérminer le rayon de la sphère associée au colis via son volume. La formule est la suivante : V = 4/3πR^3. 
Publicodes est limitant ici pour récupérer le rayon donné par R^3 = 3V / 4π
`},"livraison colis . emballage . poids emballage . surface . surface sphère . rayon sphère":{"par défaut":{variations:[{si:"informations . catégorie = 'grande consommation'",alors:22.07},{si:"informations . catégorie = 'habillement'",alors:13.37},{si:"informations . catégorie = 'culturel'",alors:5.64},{si:"informations . catégorie = 'équipements volumineux'",alors:41.53},{si:"informations . catégorie = 'autre'",alors:27.69}]}},"livraison colis . emballage . poids emballage . surface . ajustement":{formule:"surface sphère * 0.45",note:"Pas de source pour ce facteur 0.45."},"livraison colis . déplacement consommateur":{formule:{variations:[{si:{"une de ces conditions":['mode de déplacement = "voiture thermique"','mode de déplacement = "voiture hybride"','mode de déplacement = "voiture électrique"']},alors:"voiture"},{si:'mode de déplacement = "moto"',alors:"moto"},{si:'mode de déplacement = "commun"',alors:"commun"},{si:'mode de déplacement = "marche"',alors:"marche"},{si:'mode de déplacement = "vélo"',alors:"vélo"},{si:'mode de déplacement = "petit véhicule électrique"',alors:"petit véhicule électrique"},{sinon:"moyen"}]},unité:"gCO2e/colis"},"livraison colis . déplacement consommateur . moyen":{description:`On part ici sur une moyenne pondérée
`,formule:{somme:["voiture * voiture . part déplacement","moto * moto . part déplacement","commun * commun . part déplacement","marche * marche . part déplacement","vélo * vélo . part déplacement","petit véhicule électrique * petit véhicule électrique . part déplacement"]},unité:"gCO2e/colis"},"livraison colis . déplacement consommateur . mode de déplacement":{avec:{"voiture thermique":null,"voiture hybride":null,"voiture électrique":null,moto:null,commun:null,marche:null,vélo:null,"petit véhicule électrique":null},"une possibilité":["voiture thermique","voiture hybride","voiture électrique","moto","commun","marche","vélo","petit véhicule électrique"],"par défaut":"'voiture thermique'"},"livraison colis . déplacement consommateur . distance réelle":{titre:"Distance réelle allouée au colis",formule:"distance * allocation du trajet au colis / 1 colis",unité:"km/colis"},"livraison colis . déplacement consommateur . distance":{question:"Quelle est la distance moyenne parcourue pour aller chercher son colis ?","par défaut":7,unité:"km"},"livraison colis . déplacement consommateur . allocation du trajet au colis":{"par défaut":1},"livraison colis . déplacement consommateur . voiture":{formule:"usage",unité:"gCO2e/colis"},"livraison colis . déplacement consommateur . voiture . part déplacement":{formule:"1 - moto . part déplacement - commun . part déplacement - marche . part déplacement - vélo . part déplacement - petit véhicule électrique . part déplacement"},"livraison colis . déplacement consommateur . voiture . usage":{formule:"distance réelle * empreinte"},"livraison colis . déplacement consommateur . voiture . usage . empreinte":{formule:{variations:[{si:'mode de déplacement = "voiture thermique"',alors:216},{si:'mode de déplacement = "voiture hybride"',alors:232},{si:'mode de déplacement = "voiture électrique"',alors:103},{sinon:144}]},unité:"gCO2e/km",note:`Base carbone: 
  - Voiture/Motorisation moyenne/2018 : 0.216 gCO2e/km
  - Voiture particulière/Coeur de gamme - Véhicule compact/Hybride, mild, essence : 232 gCO2e/km
  - Voiture particulière/Coeur de gamme - Véhicule compact/Electrique : 103 gCO2e/km
  - Voiture moyenne/Mixte/2018 : 144 gCO2e/km
`},"livraison colis . déplacement consommateur . moto":{formule:"usage",unité:"gCO2e/colis"},"livraison colis . déplacement consommateur . moto . part déplacement":{formule:{variations:[{si:"distance < 2",alors:.012},{si:"distance < 5",alors:.0219},{si:"distance < 15",alors:.0161},{si:"distance < 30",alors:.0104},{sinon:.005}]}},"livraison colis . déplacement consommateur . moto . usage":{formule:"distance réelle * empreinte"},"livraison colis . déplacement consommateur . moto . usage . empreinte":{formule:{moyenne:["191 gCO2e/km","76.3 gCO2e/km"]},unité:"gCO2e/km",note:`Base carbone: 
Moyenne entre Moto > 250 cm3/Mixte/2018 : 191 gCO2e/km et Cyclomoteur/Mixte/2018 : 76.3 gCO2e/km.
`},"livraison colis . déplacement consommateur . commun":{formule:"usage",unité:"gCO2e/colis"},"livraison colis . déplacement consommateur . commun . part déplacement":{formule:{variations:[{si:"distance < 2",alors:.0908},{si:"distance < 5",alors:.1813},{si:"distance < 15",alors:.1384},{si:"distance < 30",alors:.1005},{sinon:.1647}]}},"livraison colis . déplacement consommateur . commun . usage":{formule:"distance réelle * empreinte"},"livraison colis . déplacement consommateur . commun . usage . empreinte":{formule:113,unité:"gCO2e/km",note:`Base carbone: Autobus/Gazole: 113 gCO2e/km
`},"livraison colis . déplacement consommateur . marche":{formule:0,unité:"gCO2e/colis"},"livraison colis . déplacement consommateur . marche . part déplacement":{formule:{variations:[{si:"distance < 2",alors:"0.5113 / 2"},{si:"distance < 5",alors:"0.0916 / 2"},{si:"distance < 15",alors:"0.0222 / 2"},{si:"distance < 30",alors:"0.0347 / 2"},{sinon:"0.048 / 2"}]},note:"Chiffres étranges pour la marche/vélo .. Je vois mal qqun faire 30 km à pied pour un colis."},"livraison colis . déplacement consommateur . vélo":{titre:"Vélo musculaire",formule:0,unité:"gCO2e/colis"},"livraison colis . déplacement consommateur . vélo . part déplacement":{formule:{variations:[{si:"distance < 2",alors:"0.5113 / 2"},{si:"distance < 5",alors:"0.0916 / 2"},{si:"distance < 15",alors:"0.0222 / 2"},{si:"distance < 30",alors:"0.0347 / 2"},{sinon:"0.048 / 2"}]},note:"Considéré comme la marche d'ou la division par 2"},"livraison colis . déplacement consommateur . petit véhicule électrique":{titre:"VAE ou trotinette",formule:"usage"},"livraison colis . déplacement consommateur . petit véhicule électrique . part déplacement":{formule:{variations:[{si:"distance < 2",alors:.0478},{si:"distance < 5",alors:.0316},{si:"distance < 15",alors:.0099},{si:"distance < 30",alors:.0035},{sinon:.001}]}},"livraison colis . déplacement consommateur . petit véhicule électrique . usage":{formule:"distance réelle * empreinte"},"livraison colis . déplacement consommateur . petit véhicule électrique . usage . empreinte":{formule:10.9,unité:"gCO2e/km",note:`Base carbone: Vélo/à assistance électrique: 10.9 gCO2e/km
`},"livraison colis . commande en ligne":{titre:"Processus de commande en ligne",description:`Comprends l'impact de le construction des devices selon le temps de recherche sur le site du e-commerçant, 
mais également l'impact des données échangées durant le processus de commande (mails essentiellement).
`,note:`La catégorie du produit impacte le temps de recherche et donc l'empreinte de l'utilisation du device pour effectuer la recherche. 
Néanmoins, les différences sont négigables devant l'empreinte globale de la livraison, on conserve donc l'ordre de grandeur de 20 gCO2e/colis.
`,formule:20,unité:"gCO2e/colis"},commun:null},Nm={};function Qk(){const[n,r]=j.useState({engine:new um({}),error:[],situationList:{},currentSituation:""});j.useEffect(()=>{try{const a=new um(qk);r({engine:a,error:[],situationList:Nm,currentSituation:""})}catch(a){a instanceof Error&&r({...n,error:[a.message],situationList:Nm})}},[]);const o=j.useCallback(a=>{var s;try{(s=n.engine)==null||s.setSituation(n.situationList[a]),r({...n,error:[],currentSituation:a})}catch(c){c instanceof Error&&r({...n,error:[c.message]})}},[n]);return[n,o]}function Yk({error:n}){return n.length===0?null:ie.createElement(ie.Fragment,null,ie.createElement("div",{className:`fixed z-[1000] 
       inset-0  bg-slate-400/50 backdrop-blur-[2px] animate-fade-in `}),ie.createElement("div",{className:"fixed z-[1000]  left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-xl animate-slide-up",role:"alert"},ie.createElement("div",{className:"p-6 bg-white  rounded-lg shadow-lg m-4"},ie.createElement("div",{className:"space-y-2 max-h-[70vh] overflow-auto"},n.map((r,o)=>{const{type:a,message:s,ruleName:c}=Gk(r);return ie.createElement(ie.Fragment,{key:o},ie.createElement("div",{className:"flex items-center gap-3 "},ie.createElement("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ie.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})),ie.createElement("h2",{className:"text-lg m-0 py-4 font-semibold text-red-500"},a)),ie.createElement("p",{className:"text-xl font-semibold flex items-baseline flex-wrap"},"Dans la règle",ie.createElement("code",{className:"px-1 ml-2 text-slate-800 bg-gray-100 rounded-md"},c)),ie.createElement("p",{key:o,className:"text-gray-600 "},s))})))))}function Gk(n){var s,c;const r=((s=n.match(/\[ (.+?) \]/))==null?void 0:s[1])??"",o=((c=n.match(/"(.+?)"/))==null?void 0:c[1])??"",a=n.split("✖️")[1].trim();return{type:r,message:a,ruleName:o}}function Jk({setSituation:n,state:r}){return ie.createElement("header",{className:" container mx-auto p-4"},ie.createElement("div",{className:"flex items-center justify-between  flex-col md:flex-row"},ie.createElement("h1",null,ie.createElement(il,{to:"/",className:"text-xl font-bold"},"⚡ Quick-doc")),ie.createElement("nav",{className:"w-full md:w-auto "},ie.createElement("div",{className:"flex flex-col gap-2"},ie.createElement("label",{htmlFor:"situation-select",className:"text-sm font-medium text-gray-700"},"Selectionner une situation"),ie.createElement("select",{id:"situation-select",value:r.currentSituation,onChange:o=>n(o.target.value),className:"block w-full md:w-64 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},ie.createElement("option",{value:""},"—"),Object.keys(r.situationList).map(o=>ie.createElement("option",{key:o,value:o},o)))))))}function Xk({engine:n}){const{"*":r}=Xw();return ie.createElement(gw,{engine:n,documentationPath:"",rulePath:r,searchBar:!0,showDevSection:!0,language:"fr",renderers:{Link:il}})}function Zk(){const[n,r]=Qk(),o=kw({documentationPath:"",engine:n.engine});return ie.createElement(ie.Fragment,null,ie.createElement($k,{basename:"/publicodes-impact-livraison"},ie.createElement(Jk,{setSituation:r,state:n}),ie.createElement("div",{className:"container mx-auto px-4"},ie.createElement(Yk,{error:n.error}),ie.createElement(mk,null,ie.createElement(Lu,{path:"/",element:ie.createElement(fk,{to:Object.keys(o)[0],replace:!0})}),ie.createElement(Lu,{path:"/*",element:ie.createElement(Xk,{engine:n.engine})})))))}m0.createRoot(document.getElementById("root")).render(ie.createElement(ie.StrictMode,null,ie.createElement(Zk,null)));export{Gu as D,Gt as R,le as d,m as j,j as r,hn as u};
